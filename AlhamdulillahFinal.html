<!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
      <p id="currentTime"></p>
      <script src="script.js"></script>
  </body>
</html><!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
      <p id="currentTime"></p>
      <script src="script.js"></script>
  </body>
</html><!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
      <p id="currentTime"></p>
      <script src="script.js"></script>
  </body>
</html><!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIMA - Ruang Interaktif Multi Arah</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 50%, #fef7cd 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.15);
        }
        
        .bounce-animation {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse-gentle {
            animation: pulseGentle 3s infinite;
        }
        
        @keyframes pulseGentle {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .quiz-option {
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            transform: scale(1.02);
        }
        
        .quiz-option.correct {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border-color: #22c55e;
        }
        
        .quiz-option.incorrect {
            background: linear-gradient(135deg, #fef2f2, #fecaca);
            border-color: #ef4444;
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="app" class="container mx-auto px-4 py-8 max-w-6xl">
        
        <!-- Slide 1: Cover -->
        <div id="slide-cover" class="slide fade-in text-center">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-12 mx-auto max-w-4xl">
                <div class="mb-8">
                    <div class="text-6xl mb-4 pulse-gentle">📚</div>
                    <h1 class="text-5xl font-bold text-blue-800 mb-4">RIMA</h1>
                    <p class="text-2xl text-blue-600 font-medium mb-2">Ruang Interaktif Multi Arah</p>
                    <div class="bg-blue-100 rounded-2xl p-6 mb-2">
                        <p class="text-lg text-blue-700 font-medium">Mata Pelajaran Bahasa Indonesia</p>
                        <p class="text-blue-600">Materi: Teks Prosedur</p>
                    </div>
                    <p class="text-sm text-gray-500 mb-6">Oleh Helda</p>
                </div>
                
                <button onclick="showSlide('slide-tujuan')" class="bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold py-4 px-8 rounded-full text-xl shadow-lg card-hover mb-4">
                    🚀 Mulai Belajar
                </button>
                
                <p class="text-gray-600 mb-6 italic">"Belajar langkah demi langkah dengan gaya yang sesuai dirimu"</p>
                

            </div>
        </div>

        <!-- Slide 2: Tujuan Pembelajaran -->
        <div id="slide-tujuan" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-4xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-blue-800 mb-4">🎯 Tujuan Pembelajaran</h2>
                    <p class="text-blue-600">Setelah mempelajari materi ini, kamu akan mampu:</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-blue-50 rounded-2xl p-6 card-hover">
                        <div class="text-3xl mb-3">📖</div>
                        <h3 class="font-semibold text-blue-800 mb-2">Memahami Konsep</h3>
                        <p class="text-blue-700">Menjelaskan pengertian dan tujuan teks prosedur</p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-2xl p-6 card-hover">
                        <div class="text-3xl mb-3">🏗️</div>
                        <h3 class="font-semibold text-blue-800 mb-2">Menganalisis Struktur</h3>
                        <p class="text-blue-700">Mengidentifikasi struktur dan ciri-ciri teks prosedur</p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-2xl p-6 card-hover">
                        <div class="text-3xl mb-3">📝</div>
                        <h3 class="font-semibold text-blue-800 mb-2">Menguasai Kaidah</h3>
                        <p class="text-blue-700">Memahami kaidah kebahasaan teks prosedur</p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-2xl p-6 card-hover">
                        <div class="text-3xl mb-3">✍️</div>
                        <h3 class="font-semibold text-blue-800 mb-2">Membuat Teks</h3>
                        <p class="text-blue-700">Menyusun teks prosedur sesuai struktur yang benar</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-gaya-belajar')" class="bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Lanjutkan 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Slide 3: Menu Pilihan Gaya Belajar -->
        <div id="slide-gaya-belajar" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-5xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-tujuan')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-blue-800 mb-4">🎨 Pilih Gaya Belajarmu</h2>
                    <p class="text-blue-600">Setiap orang belajar dengan cara yang berbeda. Pilih yang paling cocok untukmu!</p>
                </div>
                
                <div class="grid md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8">
                    <button onclick="showMateri('visual')" class="bg-gradient-to-br from-pink-100 to-pink-200 hover:from-pink-200 hover:to-pink-300 p-6 rounded-2xl card-hover text-center">
                        <div class="text-4xl mb-3">👀</div>
                        <h3 class="font-semibold text-pink-800">Visual</h3>
                        <p class="text-sm text-pink-600 mt-2">Belajar dengan gambar & diagram</p>
                    </button>
                    
                    <button onclick="showMateri('auditori')" class="bg-gradient-to-br from-purple-100 to-purple-200 hover:from-purple-200 hover:to-purple-300 p-6 rounded-2xl card-hover text-center">
                        <div class="text-4xl mb-3">🎧</div>
                        <h3 class="font-semibold text-purple-800">Auditori</h3>
                        <p class="text-sm text-purple-600 mt-2">Belajar dengan mendengar</p>
                    </button>
                    
                    <button onclick="showMateri('kinestetik')" class="bg-gradient-to-br from-green-100 to-green-200 hover:from-green-200 hover:to-green-300 p-6 rounded-2xl card-hover text-center">
                        <div class="text-4xl mb-3">✋</div>
                        <h3 class="font-semibold text-green-800">Kinestetik</h3>
                        <p class="text-sm text-green-600 mt-2">Belajar dengan bergerak</p>
                    </button>
                    
                    <button onclick="showMateri('membaca')" class="bg-gradient-to-br from-blue-100 to-blue-200 hover:from-blue-200 hover:to-blue-300 p-6 rounded-2xl card-hover text-center">
                        <div class="text-4xl mb-3">📖</div>
                        <h3 class="font-semibold text-blue-800">Membaca</h3>
                        <p class="text-sm text-blue-600 mt-2">Belajar dengan teks</p>
                    </button>
                    
                    <button onclick="showMateri('menulis')" class="bg-gradient-to-br from-orange-100 to-orange-200 hover:from-orange-200 hover:to-orange-300 p-6 rounded-2xl card-hover text-center">
                        <div class="text-4xl mb-3">✍️</div>
                        <h3 class="font-semibold text-orange-800">Menulis</h3>
                        <p class="text-sm text-orange-600 mt-2">Belajar dengan menulis</p>
                    </button>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Materi Visual -->
        <div id="materi-visual" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-pink-600 hover:text-pink-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-pink-600 hover:text-pink-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-pink-800">👀 Materi Visual</h2>
                </div>
                
                <!-- Pengertian dengan Infografis -->
                <div class="bg-pink-50 rounded-2xl p-6 mb-8">
                    <h3 class="text-xl font-semibold text-pink-800 mb-4">📋 Pengertian Teks Prosedur</h3>
                    
                    <!-- 3D Illustration of Person Cooking Stir-Fried Vegetables -->
                    <div class="bg-white rounded-xl p-4 mb-4">
                        <svg viewBox="0 0 400 250" class="w-full h-40">
                            <!-- Kitchen Background -->
                            <rect x="0" y="200" width="400" height="50" fill="#f8fafc"/>
                            <!-- Kitchen Counter -->
                            <rect x="0" y="180" width="400" height="20" fill="#e2e8f0"/>
                            <rect x="0" y="175" width="400" height="5" fill="#cbd5e1"/>
                            
                            <!-- Person Cooking (3D style) -->
                            <!-- Head -->
                            <ellipse cx="120" cy="70" rx="16" ry="20" fill="#fbbf24"/>
                            <ellipse cx="120" cy="68" rx="13" ry="17" fill="#f59e0b"/>
                            <!-- Hair (chef style) -->
                            <path d="M 100 60 Q 120 45 140 60 Q 135 50 120 50 Q 105 50 100 60" fill="#92400e"/>
                            <!-- Chef hat -->
                            <ellipse cx="120" cy="55" rx="18" ry="12" fill="#ffffff"/>
                            <rect x="102" y="50" width="36" height="15" fill="#ffffff" rx="18"/>
                            <!-- Eyes -->
                            <circle cx="114" cy="65" r="2" fill="#1f2937"/>
                            <circle cx="126" cy="65" r="2" fill="#1f2937"/>
                            <!-- Smile -->
                            <path d="M 114 75 Q 120 80 126 75" stroke="#1f2937" stroke-width="1" fill="none"/>
                            
                            <!-- Body with apron -->
                            <rect x="108" y="85" width="24" height="40" fill="#3b82f6" rx="3"/>
                            <!-- Apron -->
                            <rect x="105" y="90" width="30" height="35" fill="#ffffff" rx="2"/>
                            <rect x="107" y="92" width="26" height="3" fill="#f1f5f9"/>
                            
                            <!-- Arms (cooking position) -->
                            <!-- Left arm holding spatula -->
                            <ellipse cx="95" cy="105" rx="8" ry="22" fill="#fbbf24" transform="rotate(-30 95 105)"/>
                            <!-- Right arm -->
                            <ellipse cx="145" cy="105" rx="8" ry="20" fill="#fbbf24" transform="rotate(15 145 105)"/>
                            
                            <!-- Spatula in left hand -->
                            <rect x="85" y="115" width="2" height="15" fill="#8b4513" transform="rotate(-30 86 122)"/>
                            <ellipse cx="84" cy="112" rx="4" ry="2" fill="#c0c0c0" transform="rotate(-30 84 112)"/>
                            
                            <!-- Legs -->
                            <rect x="110" y="125" width="7" height="30" fill="#1e40af"/>
                            <rect x="123" y="125" width="7" height="30" fill="#1e40af"/>
                            <!-- Feet -->
                            <ellipse cx="113" cy="160" rx="9" ry="5" fill="#374151"/>
                            <ellipse cx="126" cy="160" rx="9" ry="5" fill="#374151"/>
                            
                            <!-- Wok/Pan (3D style) -->
                            <ellipse cx="180" cy="185" rx="30" ry="10" fill="#2d3748"/>
                            <ellipse cx="180" cy="175" rx="30" ry="10" fill="#4a5568"/>
                            <ellipse cx="180" cy="170" rx="28" ry="8" fill="#718096"/>
                            <!-- Wok handle -->
                            <rect x="210" y="172" width="20" height="3" fill="#8b4513" rx="2"/>
                            <circle cx="232" cy="173" r="3" fill="#654321"/>
                            
                            <!-- Stir-fried vegetables in wok -->
                            <!-- Cabbage pieces -->
                            <ellipse cx="170" cy="172" rx="4" ry="3" fill="#22c55e"/>
                            <ellipse cx="185" cy="170" rx="5" ry="4" fill="#16a34a"/>
                            <ellipse cx="175" cy="175" rx="3" ry="2" fill="#15803d"/>
                            <!-- Carrot pieces -->
                            <ellipse cx="190" cy="173" rx="3" ry="2" fill="#f97316"/>
                            <ellipse cx="180" cy="174" rx="2" ry="2" fill="#ea580c"/>
                            <!-- Bean sprouts -->
                            <path d="M 165 174 Q 168 172 170 175" stroke="#fbbf24" stroke-width="1" fill="none"/>
                            <path d="M 188 171 Q 191 169 193 172" stroke="#fbbf24" stroke-width="1" fill="none"/>
                            <!-- Steam -->
                            <path d="M 175 165 Q 177 160 175 155" stroke="#e2e8f0" stroke-width="2" fill="none" opacity="0.7"/>
                            <path d="M 185 163 Q 187 158 185 153" stroke="#e2e8f0" stroke-width="2" fill="none" opacity="0.7"/>
                            
                            <!-- Recipe Book (detailed) -->
                            <rect x="250" y="140" width="40" height="30" fill="#ffffff" stroke="#d1d5db" stroke-width="1" rx="2"/>
                            <!-- Book cover -->
                            <rect x="252" y="142" width="36" height="26" fill="#fef3c7" rx="1"/>
                            <!-- Title -->
                            <text x="270" y="150" text-anchor="middle" class="text-xs font-bold" fill="#92400e">RESEP</text>
                            <text x="270" y="158" text-anchor="middle" class="text-xs font-bold" fill="#92400e">TUMIS</text>
                            <text x="270" y="166" text-anchor="middle" class="text-xs font-bold" fill="#92400e">SAYUR</text>
                            <!-- Book pages -->
                            <rect x="290" y="142" width="36" height="26" fill="#ffffff" rx="1"/>
                            <line x1="292" y1="147" x2="324" y2="147" stroke="#6b7280" stroke-width="0.5"/>
                            <line x1="292" y1="151" x2="320" y2="151" stroke="#6b7280" stroke-width="0.5"/>
                            <line x1="292" y1="155" x2="322" y2="155" stroke="#6b7280" stroke-width="0.5"/>
                            <line x1="292" y1="159" x2="318" y2="159" stroke="#6b7280" stroke-width="0.5"/>
                            <line x1="292" y1="163" x2="324" y2="163" stroke="#6b7280" stroke-width="0.5"/>
                            
                            <!-- Fresh vegetables on counter -->
                            <!-- Cabbage -->
                            <ellipse cx="320" cy="175" rx="12" ry="10" fill="#22c55e"/>
                            <ellipse cx="320" cy="172" rx="10" ry="8" fill="#16a34a"/>
                            <path d="M 315 170 Q 320 165 325 170" stroke="#15803d" stroke-width="1" fill="none"/>
                            <path d="M 312 175 Q 320 168 328 175" stroke="#15803d" stroke-width="1" fill="none"/>
                            
                            <!-- Carrots -->
                            <ellipse cx="350" cy="178" rx="3" ry="12" fill="#f97316"/>
                            <ellipse cx="355" cy="179" rx="3" ry="11" fill="#ea580c"/>
                            <!-- Carrot tops -->
                            <path d="M 350 166 Q 348 160 350 155" stroke="#22c55e" stroke-width="2" fill="none"/>
                            <path d="M 355 167 Q 357 161 355 156" stroke="#22c55e" stroke-width="2" fill="none"/>
                            
                            <!-- Step indicators -->
                            <circle cx="140" cy="40" r="12" fill="#ec4899"/>
                            <text x="140" y="45" text-anchor="middle" class="text-xs font-bold" fill="white">1</text>
                            
                            <circle cx="200" cy="35" r="12" fill="#ec4899"/>
                            <text x="200" y="40" text-anchor="middle" class="text-xs font-bold" fill="white">2</text>
                            
                            <circle cx="270" cy="40" r="12" fill="#ec4899"/>
                            <text x="270" y="45" text-anchor="middle" class="text-xs font-bold" fill="white">3</text>
                            
                            <!-- Arrows showing process -->
                            <path d="M 152 40 Q 170 30 188 35" stroke="#ec4899" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                            <path d="M 212 35 Q 235 30 258 40" stroke="#ec4899" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                            
                            <!-- Arrow marker -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#ec4899"/>
                                </marker>
                            </defs>
                            
                            <!-- Speech bubble -->
                            <ellipse cx="60" cy="90" rx="35" ry="20" fill="#ffffff" stroke="#ec4899" stroke-width="2"/>
                            <path d="M 85 105 L 95 115 L 75 110 Z" fill="#ffffff" stroke="#ec4899" stroke-width="2"/>
                            <text x="60" y="85" text-anchor="middle" class="text-xs font-medium" fill="#be185d">Ikuti resep</text>
                            <text x="60" y="95" text-anchor="middle" class="text-xs font-medium" fill="#be185d">tumis sayur!</text>
                        </svg>
                    </div>
                    
                    <!-- Simple explanation -->
                    <div class="bg-white rounded-xl p-4 mb-4 text-center">
                        <p class="text-pink-700 text-sm font-medium mb-2">
                            <strong>Teks yang menjelaskan cara melakukan sesuatu secara berurutan</strong>
                        </p>
                        <p class="text-pink-600 text-xs italic">
                            Contoh di atas: Seseorang sedang mengikuti prosedur memasak tumis sayuran dengan menggunakan buku resep sebagai panduan langkah demi langkah.
                        </p>
                    </div>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <!-- Struktur dengan Diagram -->
                    <div class="bg-pink-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-pink-800 mb-4">🏗️ Struktur Teks Prosedur</h3>
                        <div class="space-y-3">
                            <div class="bg-gradient-to-r from-pink-200 to-pink-300 p-3 rounded-lg">
                                <div class="font-medium text-pink-800">1. Tujuan</div>
                                <div class="text-sm text-pink-700">Apa yang ingin dicapai</div>
                            </div>
                            <div class="bg-gradient-to-r from-pink-300 to-pink-400 p-3 rounded-lg">
                                <div class="font-medium text-pink-800">2. Bahan/Alat</div>
                                <div class="text-sm text-pink-700">Yang diperlukan</div>
                            </div>
                            <div class="bg-gradient-to-r from-pink-400 to-pink-500 p-3 rounded-lg">
                                <div class="font-medium text-white">3. Langkah-langkah</div>
                                <div class="text-sm text-pink-100">Urutan kegiatan</div>
                            </div>
                            <div class="bg-gradient-to-r from-pink-500 to-pink-600 p-3 rounded-lg">
                                <div class="font-medium text-white">4. Penutup</div>
                                <div class="text-sm text-pink-100">Hasil akhir/kesimpulan</div>
                            </div>
                        </div>
                    </div>

                    <!-- Tujuan Teks Prosedur -->
                    <div class="bg-pink-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-pink-800 mb-4">🎯 Tujuan Teks Prosedur</h3>
                        
                        <!-- Confused Person Visual -->
                        <div class="bg-white rounded-xl p-4 mb-4 text-center">
                            <svg viewBox="0 0 200 120" class="w-full h-24 mb-3">
                                <!-- Confused person -->
                                <!-- Head with confused expression -->
                                <circle cx="100" cy="40" r="18" fill="#fbbf24"/>
                                <!-- Hair -->
                                <path d="M 82 30 Q 100 20 118 30 Q 115 25 100 25 Q 85 25 82 30" fill="#92400e"/>
                                <!-- Confused eyes -->
                                <circle cx="92" cy="35" r="2" fill="#1f2937"/>
                                <circle cx="108" cy="35" r="2" fill="#1f2937"/>
                                <!-- Confused mouth -->
                                <path d="M 95 45 Q 100 48 105 45" stroke="#1f2937" stroke-width="1.5" fill="none"/>
                                
                                <!-- Body -->
                                <rect x="90" y="58" width="20" height="35" fill="#3b82f6" rx="3"/>
                                <!-- Arms in confused gesture -->
                                <ellipse cx="75" cy="70" rx="8" ry="18" fill="#fbbf24" transform="rotate(-20 75 70)"/>
                                <ellipse cx="125" cy="70" rx="8" ry="18" fill="#fbbf24" transform="rotate(20 125 70)"/>
                                <!-- Hands -->
                                <circle cx="70" cy="60" r="4" fill="#fbbf24"/>
                                <circle cx="130" cy="60" r="4" fill="#fbbf24"/>
                                
                                <!-- Legs -->
                                <rect x="92" y="93" width="6" height="20" fill="#1e40af"/>
                                <rect x="102" y="93" width="6" height="20" fill="#1e40af"/>
                                <!-- Feet -->
                                <ellipse cx="95" cy="118" rx="8" ry="4" fill="#374151"/>
                                <ellipse cx="105" cy="118" rx="8" ry="4" fill="#374151"/>
                                
                                <!-- Question marks around head -->
                                <text x="65" y="25" class="text-lg font-bold" fill="#ec4899">?</text>
                                <text x="135" y="30" class="text-lg font-bold" fill="#ec4899">?</text>
                                <text x="75" y="15" class="text-sm font-bold" fill="#ec4899">?</text>
                                <text x="125" y="20" class="text-sm font-bold" fill="#ec4899">?</text>
                                
                                <!-- Thought bubble -->
                                <ellipse cx="140" cy="45" rx="25" ry="15" fill="#ffffff" stroke="#ec4899" stroke-width="2"/>
                                <circle cx="125" cy="55" r="3" fill="#ffffff" stroke="#ec4899" stroke-width="1"/>
                                <circle cx="120" cy="60" r="2" fill="#ffffff" stroke="#ec4899" stroke-width="1"/>
                                <text x="140" y="40" text-anchor="middle" class="text-xs font-medium" fill="#be185d">Gimana</text>
                                <text x="140" y="50" text-anchor="middle" class="text-xs font-medium" fill="#be185d">caranya?</text>
                                
                                <!-- Scattered papers/books around -->
                                <rect x="30" y="95" width="15" height="12" fill="#ffffff" stroke="#d1d5db" stroke-width="1" rx="1" transform="rotate(-15 37.5 101)"/>
                                <rect x="155" y="90" width="12" height="15" fill="#ffffff" stroke="#d1d5db" stroke-width="1" rx="1" transform="rotate(20 161 97.5)"/>
                                
                                <!-- Lines on papers -->
                                <line x1="32" y1="98" x2="42" y2="96" stroke="#9ca3af" stroke-width="0.5"/>
                                <line x1="33" y1="101" x2="41" y2="99" stroke="#9ca3af" stroke-width="0.5"/>
                                <line x1="157" y1="93" x2="165" y2="95" stroke="#9ca3af" stroke-width="0.5"/>
                                <line x1="158" y1="96" x2="164" y2="98" stroke="#9ca3af" stroke-width="0.5"/>
                            </svg>
                            
                            <div class="text-lg font-bold text-pink-800 mb-2">
                                "Kenapa teks prosedur itu penting?"
                            </div>
                            <div class="text-sm text-pink-600 italic">
                                Mari kita lihat jawabannya melalui gambar-gambar berikut...
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-3">
                            <div class="space-y-4 text-sm">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <div class="flex items-start gap-4 mb-3">
                                        <div class="flex-shrink-0">
                                            <!-- Visual: People helping each other -->
                                            <svg viewBox="0 0 120 80" class="w-16 h-12">
                                                <!-- Helper person -->
                                                <circle cx="25" cy="25" r="8" fill="#3b82f6"/>
                                                <rect x="20" y="33" width="10" height="20" fill="#3b82f6" rx="2"/>
                                                <rect x="15" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="27" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="18" y="53" width="6" height="15" fill="#1e40af"/>
                                                <rect x="26" y="53" width="6" height="15" fill="#1e40af"/>
                                                
                                                <!-- Person being helped -->
                                                <circle cx="70" cy="25" r="8" fill="#10b981"/>
                                                <rect x="65" y="33" width="10" height="20" fill="#10b981" rx="2"/>
                                                <rect x="60" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="72" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="63" y="53" width="6" height="15" fill="#059669"/>
                                                <rect x="71" y="53" width="6" height="15" fill="#059669"/>
                                                
                                                <!-- Instruction book/guide between them -->
                                                <rect x="40" y="35" width="15" height="12" fill="#ffffff" stroke="#ec4899" stroke-width="1" rx="1"/>
                                                <line x1="42" y1="39" x2="53" y2="39" stroke="#ec4899" stroke-width="0.5"/>
                                                <line x1="42" y1="42" x2="50" y2="42" stroke="#ec4899" stroke-width="0.5"/>
                                                <line x1="42" y1="45" x2="52" y2="45" stroke="#ec4899" stroke-width="0.5"/>
                                                
                                                <!-- Arrow showing guidance -->
                                                <path d="M 35 45 Q 47 40 60 45" stroke="#ec4899" stroke-width="2" fill="none" marker-end="url(#arrow1)"/>
                                                
                                                <!-- Speech bubble with checkmark -->
                                                <ellipse cx="85" cy="20" rx="12" ry="8" fill="#ffffff" stroke="#10b981" stroke-width="1"/>
                                                <path d="M 80 15 L 83 18 L 90 12" stroke="#10b981" stroke-width="2" fill="none"/>
                                                
                                                <defs>
                                                    <marker id="arrow1" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
                                                        <polygon points="0 0, 6 2, 0 4" fill="#ec4899"/>
                                                    </marker>
                                                </defs>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2 mb-2">
                                                <span class="text-2xl">🤝</span>
                                                <span class="text-pink-800 font-semibold">Membantu Orang Lain</span>
                                            </div>
                                            <div class="text-pink-700">Memberikan panduan yang jelas</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <div class="flex items-start gap-4 mb-3">
                                        <div class="flex-shrink-0">
                                            <!-- Visual: Teacher and student -->
                                            <svg viewBox="0 0 120 80" class="w-16 h-12">
                                                <!-- Teacher with graduation cap -->
                                                <circle cx="30" cy="25" r="8" fill="#059669"/>
                                                <!-- Graduation cap -->
                                                <rect x="22" y="18" width="16" height="3" fill="#1f2937"/>
                                                <rect x="20" y="15" width="20" height="6" fill="#1f2937" rx="3"/>
                                                <rect x="38" y="16" width="4" height="8" fill="#fbbf24"/>
                                                
                                                <rect x="25" y="33" width="10" height="20" fill="#059669" rx="2"/>
                                                <rect x="20" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="32" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                
                                                <!-- Student -->
                                                <circle cx="75" cy="30" r="7" fill="#3b82f6"/>
                                                <rect x="71" y="37" width="8" height="18" fill="#3b82f6" rx="2"/>
                                                <rect x="67" y="42" width="6" height="10" fill="#fbbf24" rx="1"/>
                                                <rect x="77" y="42" width="6" height="10" fill="#fbbf24" rx="1"/>
                                                
                                                <!-- Blackboard -->
                                                <rect x="45" y="15" width="20" height="15" fill="#1f2937" rx="1"/>
                                                <text x="55" y="20" text-anchor="middle" class="text-xs" fill="#ffffff">ABC</text>
                                                <text x="55" y="26" text-anchor="middle" class="text-xs" fill="#ffffff">123</text>
                                                
                                                <!-- Knowledge transfer arrows -->
                                                <path d="M 40 30 Q 50 25 65 30" stroke="#10b981" stroke-width="2" fill="none" marker-end="url(#arrow2)"/>
                                                
                                                <!-- Light bulb above student -->
                                                <circle cx="75" cy="15" r="4" fill="#fbbf24"/>
                                                <rect x="73" y="19" width="4" height="3" fill="#92400e"/>
                                                <path d="M 71 12 L 79 12" stroke="#fbbf24" stroke-width="1"/>
                                                <path d="M 72 10 L 78 10" stroke="#fbbf24" stroke-width="1"/>
                                                
                                                <defs>
                                                    <marker id="arrow2" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
                                                        <polygon points="0 0, 6 2, 0 4" fill="#10b981"/>
                                                    </marker>
                                                </defs>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2 mb-2">
                                                <span class="text-2xl">🎓</span>
                                                <span class="text-pink-800 font-semibold">Mengajar & Membimbing</span>
                                            </div>
                                            <div class="text-pink-700">Transfer pengetahuan dan keterampilan</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-yellow-50 p-4 rounded-lg">
                                    <div class="flex items-start gap-4 mb-3">
                                        <div class="flex-shrink-0">
                                            <!-- Visual: Efficiency and speed -->
                                            <svg viewBox="0 0 120 80" class="w-16 h-12">
                                                <!-- Person working efficiently -->
                                                <circle cx="30" cy="25" r="8" fill="#f59e0b"/>
                                                <rect x="25" y="33" width="10" height="20" fill="#f59e0b" rx="2"/>
                                                <rect x="20" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                <rect x="32" y="38" width="8" height="12" fill="#fbbf24" rx="1"/>
                                                
                                                <!-- Laptop/computer -->
                                                <rect x="45" y="35" width="20" height="12" fill="#374151" rx="1"/>
                                                <rect x="47" y="37" width="16" height="8" fill="#60a5fa" rx="0.5"/>
                                                <rect x="63" y="47" width="4" height="2" fill="#374151"/>
                                                
                                                <!-- Speed lines -->
                                                <path d="M 70 25 L 85 25" stroke="#f59e0b" stroke-width="2"/>
                                                <path d="M 72 30 L 87 30" stroke="#f59e0b" stroke-width="2"/>
                                                <path d="M 70 35 L 85 35" stroke="#f59e0b" stroke-width="2"/>
                                                
                                                <!-- Clock showing time saved -->
                                                <circle cx="90" cy="30" r="12" fill="#ffffff" stroke="#f59e0b" stroke-width="2"/>
                                                <circle cx="90" cy="30" r="1" fill="#f59e0b"/>
                                                <path d="M 90 30 L 90 22" stroke="#f59e0b" stroke-width="2"/>
                                                <path d="M 90 30 L 96 30" stroke="#f59e0b" stroke-width="1"/>
                                                
                                                <!-- Checkmarks for completed tasks -->
                                                <path d="M 15 55 L 18 58 L 25 52" stroke="#10b981" stroke-width="2" fill="none"/>
                                                <path d="M 15 62 L 18 65 L 25 59" stroke="#10b981" stroke-width="2" fill="none"/>
                                                <path d="M 15 69 L 18 72 L 25 66" stroke="#10b981" stroke-width="2" fill="none"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <div class="flex items-center gap-2 mb-2">
                                                <span class="text-2xl">⚡</span>
                                                <span class="text-pink-800 font-semibold">Mempermudah Pekerjaan</span>
                                            </div>
                                            <div class="text-pink-700">Membuat tugas lebih efisien</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-gradient-to-r from-pink-100 to-purple-100 p-4 rounded-lg border-l-4 border-pink-500">
                                    <div class="flex items-start gap-4">
                                        <div class="flex-shrink-0">
                                            <!-- Visual: Success and structure -->
                                            <svg viewBox="0 0 80 60" class="w-12 h-9">
                                                <!-- Steps/ladder to success -->
                                                <rect x="10" y="45" width="15" height="8" fill="#ec4899" rx="1"/>
                                                <rect x="25" y="35" width="15" height="8" fill="#ec4899" rx="1"/>
                                                <rect x="40" y="25" width="15" height="8" fill="#ec4899" rx="1"/>
                                                
                                                <!-- Person climbing -->
                                                <circle cx="50" cy="18" r="4" fill="#10b981"/>
                                                <rect x="47" y="22" width="6" height="12" fill="#10b981" rx="1"/>
                                                <rect x="44" y="25" width="4" height="8" fill="#fbbf24" rx="0.5"/>
                                                <rect x="52" y="25" width="4" height="8" fill="#fbbf24" rx="0.5"/>
                                                
                                                <!-- Success star -->
                                                <path d="M 65 15 L 67 20 L 72 20 L 68 23 L 70 28 L 65 25 L 60 28 L 62 23 L 58 20 L 63 20 Z" fill="#fbbf24"/>
                                                
                                                <!-- Arrow showing progression -->
                                                <path d="M 15 40 Q 30 30 45 20" stroke="#ec4899" stroke-width="1" fill="none" marker-end="url(#arrow3)"/>
                                                
                                                <defs>
                                                    <marker id="arrow3" markerWidth="4" markerHeight="3" refX="3" refY="1.5" orient="auto">
                                                        <polygon points="0 0, 4 1.5, 0 3" fill="#ec4899"/>
                                                    </marker>
                                                </defs>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <div class="text-pink-800 font-semibold mb-2">💡 Kesimpulan:</div>
                                            <div class="text-pink-700 italic">Teks prosedur membantu kita melakukan sesuatu dengan benar, efisien, dan aman melalui langkah-langkah yang terstruktur.</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <!-- Ciri-ciri Kebahasaan -->
                    <div class="bg-pink-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-pink-800 mb-4">📝 Ciri-ciri Kebahasaan</h3>
                        <div class="bg-white rounded-lg p-3">
                            <svg viewBox="0 0 300 200" class="w-full h-32 mb-3">
                                <!-- Document with text lines -->
                                <rect x="30" y="15" width="240" height="160" fill="#ffffff" stroke="#ec4899" stroke-width="2" rx="5"/>
                                <rect x="30" y="15" width="240" height="25" fill="#ec4899" rx="5"/>
                                <text x="150" y="32" text-anchor="middle" class="text-xs font-bold" fill="white">CIRI KEBAHASAAN TEKS PROSEDUR</text>
                                
                                <!-- Kalimat Perintah section -->
                                <rect x="40" y="50" width="100" height="30" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="3"/>
                                <text x="90" y="62" text-anchor="middle" class="text-xs font-bold" fill="#92400e">📝 KALIMAT</text>
                                <text x="90" y="72" text-anchor="middle" class="text-xs font-bold" fill="#92400e">PERINTAH</text>
                                
                                <!-- Kata Bilangan section -->
                                <rect x="160" y="50" width="100" height="30" fill="#dcfce7" stroke="#22c55e" stroke-width="1" rx="3"/>
                                <text x="210" y="62" text-anchor="middle" class="text-xs font-bold" fill="#15803d">🔢 KATA</text>
                                <text x="210" y="72" text-anchor="middle" class="text-xs font-bold" fill="#15803d">BILANGAN</text>
                                
                                <!-- Kata Hubung section -->
                                <rect x="40" y="90" width="100" height="30" fill="#dbeafe" stroke="#3b82f6" stroke-width="1" rx="3"/>
                                <text x="90" y="102" text-anchor="middle" class="text-xs font-bold" fill="#1e40af">🔗 KATA</text>
                                <text x="90" y="112" text-anchor="middle" class="text-xs font-bold" fill="#1e40af">HUBUNG</text>
                                
                                <!-- Kata Keterangan section -->
                                <rect x="160" y="90" width="100" height="30" fill="#f3e8ff" stroke="#8b5cf6" stroke-width="1" rx="3"/>
                                <text x="210" y="102" text-anchor="middle" class="text-xs font-bold" fill="#7c3aed">⏰ KATA</text>
                                <text x="210" y="112" text-anchor="middle" class="text-xs font-bold" fill="#7c3aed">KETERANGAN</text>
                                
                                <!-- Example lines -->
                                <line x1="50" y1="135" x2="120" y2="135" stroke="#f59e0b" stroke-width="2"/>
                                <text x="85" y="145" text-anchor="middle" class="text-xs" fill="#92400e">Siapkan...</text>
                                
                                <line x1="170" y1="135" x2="240" y2="135" stroke="#22c55e" stroke-width="2"/>
                                <text x="205" y="145" text-anchor="middle" class="text-xs" fill="#15803d">Pertama...</text>
                                
                                <line x1="50" y1="155" x2="120" y2="155" stroke="#3b82f6" stroke-width="2"/>
                                <text x="85" y="165" text-anchor="middle" class="text-xs" fill="#1e40af">Kemudian...</text>
                                
                                <line x1="170" y1="155" x2="240" y2="155" stroke="#8b5cf6" stroke-width="2"/>
                                <text x="205" y="165" text-anchor="middle" class="text-xs" fill="#7c3aed">Dengan hati-hati...</text>
                            </svg>
                            <div class="space-y-3 text-sm">
                                <div class="bg-orange-50 p-3 rounded-lg">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">📝</span>
                                        <span class="text-pink-700 font-medium">Kalimat Perintah</span>
                                    </div>
                                    <div class="text-xs text-orange-700 ml-6">
                                        • Siapkan bahan-bahan<br>
                                        • Aduk hingga rata<br>
                                        • Panaskan minyak<br>
                                        • Sajikan selagi hangat
                                    </div>
                                </div>
                                <div class="bg-green-50 p-3 rounded-lg">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">🔢</span>
                                        <span class="text-pink-700 font-medium">Kata Bilangan</span>
                                    </div>
                                    <div class="text-xs text-green-700 ml-6">
                                        • Pertama, kedua, ketiga<br>
                                        • 2 sendok makan<br>
                                        • 5 menit, 10 gram
                                    </div>
                                </div>
                                <div class="bg-blue-50 p-3 rounded-lg">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">🔗</span>
                                        <span class="text-pink-700 font-medium">Kata Hubung</span>
                                    </div>
                                    <div class="text-xs text-blue-700 ml-6">
                                        • Kemudian, lalu, setelah itu<br>
                                        • Selanjutnya, berikutnya<br>
                                        • Akhirnya, terakhir<br>
                                        • Sambil, sementara itu
                                    </div>
                                </div>
                                <div class="bg-purple-50 p-3 rounded-lg">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">⏰</span>
                                        <span class="text-pink-700 font-medium">Kata Keterangan</span>
                                    </div>
                                    <div class="text-xs text-purple-700 ml-6">
                                        • Dengan hati-hati<br>
                                        • Secara perlahan<br>
                                        • Hingga matang<br>
                                        • Sampai mendidih
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Jenis-jenis Teks Prosedur -->
                    <div class="bg-pink-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-pink-800 mb-4">📚 Jenis-jenis Teks Prosedur</h3>
                        <div class="bg-white rounded-lg p-3">
                            <svg viewBox="0 0 300 180" class="w-full h-28 mb-3">
                                <!-- Simple Procedure -->
                                <rect x="30" y="40" width="60" height="50" fill="#dcfce7" stroke="#22c55e" stroke-width="1" rx="3"/>
                                <text x="60" y="55" text-anchor="middle" class="text-xs font-bold" fill="#15803d">PROSEDUR</text>
                                <text x="60" y="65" text-anchor="middle" class="text-xs font-bold" fill="#15803d">SEDERHANA</text>
                                <text x="60" y="77" text-anchor="middle" class="text-xs" fill="#15803d">🟢</text>
                                
                                <!-- Complex Procedure -->
                                <rect x="120" y="40" width="60" height="50" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="3"/>
                                <text x="150" y="55" text-anchor="middle" class="text-xs font-bold" fill="#92400e">PROSEDUR</text>
                                <text x="150" y="65" text-anchor="middle" class="text-xs font-bold" fill="#92400e">KOMPLEKS</text>
                                <text x="150" y="77" text-anchor="middle" class="text-xs" fill="#92400e">🟡</text>
                                
                                <!-- Protocol -->
                                <rect x="210" y="40" width="60" height="50" fill="#dbeafe" stroke="#3b82f6" stroke-width="1" rx="3"/>
                                <text x="240" y="60" text-anchor="middle" class="text-xs font-bold" fill="#1e40af">PROTOKOL</text>
                                <text x="240" y="77" text-anchor="middle" class="text-xs" fill="#1e40af">🔵</text>
                                
                                <!-- Arrows pointing to center -->
                                <path d="M 90 65 L 130 120" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <path d="M 150 90 L 150 120" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                <path d="M 210 65 L 170 120" stroke="#ec4899" stroke-width="2" marker-end="url(#arrowhead2)"/>
                                
                                <!-- Center text -->
                                <text x="150" y="130" text-anchor="middle" class="text-xs font-bold" fill="#be185d">TEKS PROSEDUR</text>
                                
                                <!-- Arrow marker -->
                                <defs>
                                    <marker id="arrowhead2" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                                        <polygon points="0 0, 8 3, 0 6" fill="#ec4899"/>
                                    </marker>
                                </defs>
                            </svg>
                            <div class="space-y-3 text-xs">
                                <div class="p-3 bg-green-50 rounded-lg">
                                    <div class="font-medium text-green-800 mb-1">🟢 Prosedur Sederhana</div>
                                    <div class="text-green-700">Berisi tahapan atau material yang tidak terlalu banyak</div>
                                </div>
                                <div class="p-3 bg-yellow-50 rounded-lg">
                                    <div class="font-medium text-yellow-800 mb-1">🟡 Prosedur Kompleks</div>
                                    <div class="text-yellow-700">Membutuhkan alat, bahan, dan waktu yang lebih banyak dibandingkan prosedur sederhana</div>
                                </div>
                                <div class="p-3 bg-blue-50 rounded-lg">
                                    <div class="font-medium text-blue-800 mb-1">🔵 Protokol</div>
                                    <div class="text-blue-700">Berisi tahapan yang bisa dilakukan dengan fleksibel</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Game Visual: Spot the Mistake - Multi Level -->
                <div class="bg-gradient-to-br from-pink-100 via-pink-50 to-rose-50 rounded-2xl p-6 mb-6 border-2 border-pink-200">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-pink-800 mb-2">🎮 Game Visual – Spot the Mistake Multi Level</h3>
                        <p class="text-lg text-pink-700 font-medium mb-2">👉 <em>"Spot the Mistake! Cari kesalahan dalam langkah-langkah prosedur berikut."</em></p>
                        <p class="text-sm text-pink-600">👉 <em>"Klik pada bagian yang salah untuk mendapatkan poin."</em></p>
                        
                        <!-- Game Stats -->
                        <div class="flex justify-center items-center gap-4 mt-4 mb-4 flex-wrap">
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-pink-800 font-medium">🏆 Poin: <span id="spot-score">0</span></span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-pink-800 font-medium">🎯 Level: <span id="current-level">1</span>/10</span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-pink-800 font-medium">❌ Kesalahan: <span id="mistakes-found">0</span>/<span id="total-mistakes">1</span></span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-pink-800 font-medium">⏰ <span id="spot-timer">60</span>s</span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-pink-800 font-medium">💡 Petunjuk: <span id="hints-remaining">3</span></span>
                            </div>
                        </div>
                        
                        <!-- Level Progress Bar -->
                        <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
                            <div id="level-progress" class="bg-gradient-to-r from-pink-400 to-rose-500 h-3 rounded-full transition-all duration-500" style="width: 10%"></div>
                        </div>
                    </div>
                    
                    <!-- Game Content -->
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <h4 id="level-title" class="text-xl font-bold text-pink-800 text-center mb-6">☕ Level 1: Cara Membuat Teh Panas</h4>
                        
                        <!-- Dynamic Steps Container -->
                        <div id="steps-container" class="grid gap-4 mb-6">
                            <!-- Steps will be dynamically generated here -->
                        </div>
                        
                        <!-- Game Controls -->
                        <div class="text-center">
                            <button id="start-spot-game" onclick="startSpotGame()" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
                                🎯 Mulai Game
                            </button>
                            <button id="hint-btn" onclick="useHint()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                💡 Petunjuk
                            </button>
                            <button id="next-level-btn" onclick="nextLevel()" class="bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                ➡️ Level Selanjutnya
                            </button>
                            <button id="reset-spot-game" onclick="resetSpotGame()" class="bg-rose-400 hover:bg-rose-500 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                🔄 Ulangi Level
                            </button>
                        </div>
                    </div>
                    
                    <!-- Level Complete -->
                    <div id="level-complete" class="mt-4 text-center hidden">
                        <div class="bg-gradient-to-br from-pink-100 to-rose-100 rounded-xl p-6 shadow-lg">
                            <div class="text-4xl mb-3">🎉</div>
                            <h4 class="text-xl font-bold text-pink-800 mb-2">Level Selesai!</h4>
                            <p class="text-pink-700 mb-4">Kamu berhasil menemukan semua kesalahan di level ini!</p>
                            <div class="text-lg font-medium text-pink-800 mb-4">
                                Poin Level: <span id="level-points" class="text-yellow-600">0</span> poin
                            </div>
                        </div>
                    </div>
                    
                    <!-- Game Complete -->
                    <div id="game-complete" class="mt-4 text-center hidden">
                        <div class="bg-gradient-to-br from-pink-100 to-rose-100 rounded-xl p-8 shadow-lg">
                            <div class="text-6xl mb-4">🏆</div>
                            <h4 class="text-2xl font-bold text-pink-800 mb-4">Selamat! Game Selesai!</h4>
                            <p class="text-pink-700 mb-4">Keren! Kamu sudah menyelesaikan semua 10 level dan makin jago memahami teks prosedur!</p>
                            <div class="text-2xl font-bold text-pink-800 mb-6">
                                Total Skor: <span id="final-total-score" class="text-yellow-600">0</span> poin
                            </div>
                            <div class="grid md:grid-cols-3 gap-4 text-sm">
                                <div class="bg-white rounded-lg p-3">
                                    <div class="text-2xl mb-2">🎯</div>
                                    <div class="font-medium">Level Diselesaikan</div>
                                    <div class="text-pink-600">10/10</div>
                                </div>
                                <div class="bg-white rounded-lg p-3">
                                    <div class="text-2xl mb-2">⭐</div>
                                    <div class="font-medium">Kesalahan Ditemukan</div>
                                    <div class="text-pink-600" id="total-mistakes-found">0</div>
                                </div>
                                <div class="bg-white rounded-lg p-3">
                                    <div class="text-2xl mb-2">🏅</div>
                                    <div class="font-medium">Rank</div>
                                    <div class="text-pink-600" id="final-rank">Master</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-pink-400 to-pink-600 hover:from-pink-500 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Materi Auditori -->
        <div id="materi-auditori" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-purple-800">🎧 Materi Auditori</h2>
                </div>
                
                <!-- Audio Instructions -->
                <div class="bg-gradient-to-r from-purple-50 via-purple-200 to-purple-400 rounded-2xl p-6 mb-8 text-center">
                    <div class="flex justify-center items-center gap-4 mb-4">
                        <!-- Audio Logo SVG -->
                        <svg viewBox="0 0 100 100" class="w-8 h-4">
                            <!-- Speaker base -->
                            <rect x="20" y="35" width="25" height="30" fill="#8b5cf6" rx="3"/>
                            <!-- Speaker cone -->
                            <path d="M 45 35 L 65 25 L 65 75 L 45 65 Z" fill="#a855f7"/>
                            <!-- Sound waves -->
                            <path d="M 70 40 Q 75 45 75 50 Q 75 55 70 60" stroke="#c084fc" stroke-width="3" fill="none"/>
                            <path d="M 75 35 Q 82 42 82 50 Q 82 58 75 65" stroke="#c084fc" stroke-width="2" fill="none"/>
                            <path d="M 80 30 Q 88 38 88 50 Q 88 62 80 70" stroke="#c084fc" stroke-width="1.5" fill="none"/>
                            <!-- Play button overlay -->
                            <circle cx="32" cy="50" r="8" fill="#ffffff" opacity="0.9"/>
                            <path d="M 29 46 L 29 54 L 36 50 Z" fill="#8b5cf6"/>
                        </svg>
                        
                        <div class="text-left">
                            <h3 class="text-xl font-bold text-purple-900 mb-2">🎵 Audio Pembelajaran</h3>
                            <p class="text-purple-800 text-sm">Klik tombol play untuk mendengarkan penjelasan materi</p>
                        </div>
                    </div>
                    
                    <div class="bg-white/60 rounded-lg p-4">
                        <div class="flex justify-between items-center">
                            <p class="text-purple-700 text-sm italic">
                                💡 <strong>Tips:</strong> Gunakan headphone untuk pengalaman belajar yang lebih optimal
                            </p>
                            <button onclick="stopAudio()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs">
                                ⏹️ Stop Audio
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Audio Materials Grid -->
                <div class="grid lg:grid-cols-2 gap-3 mb-6">
                    <!-- Pengantar -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">🎤 Pengantar</span>
                                <button onclick="playAudio('pengantar')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('pengantar')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="pengantar-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">📚 Pengantar:</p>
                                <p>Selamat datang di pembelajaran teks prosedur! Dalam kehidupan sehari-hari, kita sering mengikuti langkah-langkah untuk melakukan sesuatu. Mulai dari memasak, menggunakan gadget, hingga mengerjakan tugas. Nah, semua langkah-langkah itu bisa ditulis dalam bentuk teks prosedur. Mari kita pelajari bersama!</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pengertian -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">📖 Pengertian</span>
                                <button onclick="playAudio('pengertian')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('pengertian')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="pengertian-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">🔍 Pengertian:</p>
                                <p>Teks prosedur adalah jenis teks yang berisi langkah-langkah atau tahapan untuk melakukan suatu kegiatan secara berurutan dan sistematis. Tujuannya adalah memberikan petunjuk yang jelas agar pembaca dapat mengikuti instruksi dengan benar dan mencapai hasil yang diinginkan.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Struktur -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">🏗️ Struktur</span>
                                <button onclick="playAudio('struktur')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('struktur')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="struktur-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">🏗️ Struktur:</p>
                                <p><strong>1. Tujuan:</strong> Menjelaskan apa yang ingin dicapai</p>
                                <p><strong>2. Bahan/Alat:</strong> Daftar bahan dan alat yang diperlukan</p>
                                <p><strong>3. Langkah-langkah:</strong> Urutan kegiatan yang harus dilakukan</p>
                                <p><strong>4. Penutup (opsional):</strong> Hasil akhir atau kesimpulan</p>
                            </div>
                        </div>
                    </div>

                    <!-- Ciri-ciri Kebahasaan -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">📝 Ciri Kebahasaan</span>
                                <button onclick="playAudio('ciri')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('ciri')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="ciri-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">📝 Ciri-ciri Kebahasaan:</p>
                                <p><strong>• Kalimat Perintah:</strong> Siapkan, aduk, panaskan</p>
                                <p><strong>• Kata Kerja Aktif:</strong> Mengaduk, memotong, menuangkan</p>
                                <p><strong>• Konjungsi Temporal:</strong> Kemudian, lalu, setelah itu</p>
                                <p><strong>• Kata Bilangan:</strong> Pertama, kedua, ketiga</p>
                                <p><strong>• Kata Keterangan:</strong> Dengan hati-hati, secara perlahan</p>
                            </div>
                        </div>
                    </div>

                    <!-- Jenis-jenis -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">📚 Jenis-jenis</span>
                                <button onclick="playAudio('jenis')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('jenis')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="jenis-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">📚 Jenis-jenis:</p>
                                <p><strong>1. Prosedur Sederhana:</strong> Langkah sedikit, mudah dilakukan. Contoh: cara menyalakan komputer</p>
                                <p><strong>2. Prosedur Kompleks:</strong> Langkah banyak, butuh ketelitian. Contoh: resep masakan lengkap</p>
                                <p><strong>3. Protokol:</strong> Langkah fleksibel, bisa disesuaikan. Contoh: tata cara upacara</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tujuan -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">🎯 Tujuan</span>
                                <button onclick="playAudio('tujuan')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('tujuan')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="tujuan-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">🎯 Tujuan:</p>
                                <p><strong>• Memberikan Panduan:</strong> Membantu orang melakukan sesuatu dengan benar</p>
                                <p><strong>• Mengajar:</strong> Transfer pengetahuan dan keterampilan</p>
                                <p><strong>• Mempermudah:</strong> Membuat pekerjaan lebih efisien dan terstruktur</p>
                                <p><strong>• Menghindari Kesalahan:</strong> Mencegah kesalahan dengan langkah yang jelas</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contoh -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">📋 Contoh</span>
                                <button onclick="playAudio('contoh')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('contoh')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="contoh-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">📋 Contoh Lengkap - Cara Membuat Teh Manis:</p>
                                <p><strong>Tujuan:</strong> Membuat minuman teh manis yang segar</p>
                                <p><strong>Bahan:</strong> 1 kantong teh, 2 sdm gula, 200ml air panas</p>
                                <p><strong>Langkah:</strong></p>
                                <p>1. Siapkan gelas dan masukkan kantong teh</p>
                                <p>2. Tuangkan air panas ke dalam gelas</p>
                                <p>3. Diamkan 3-5 menit, angkat kantong teh</p>
                                <p>4. Tambahkan gula, aduk hingga larut</p>
                                <p>5. Teh manis siap disajikan</p>
                            </div>
                        </div>
                    </div>

                    <!-- Penutup -->
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3">
                        <div class="bg-white rounded-lg p-2">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-medium text-purple-800">🎓 Penutup</span>
                                <button onclick="playAudio('penutup')" class="bg-purple-500 hover:bg-purple-600 text-white px-2 py-1 rounded text-xs">
                                    ▶️ Putar
                                </button>
                                <button onclick="toggleText('penutup')" class="bg-gray-500 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                                    📄 Teks
                                </button>
                            </div>
                            <div id="penutup-notes" class="text-xs text-purple-700 hidden">
                                <p class="font-medium mb-1">🎓 Penutup Pembelajaran:</p>
                                <p>Selamat! Kamu telah menyelesaikan pembelajaran tentang teks prosedur. Sekarang kamu sudah memahami pengertian, struktur, ciri-ciri kebahasaan, dan jenis-jenis teks prosedur.</p>
                                <p class="mt-2"><strong>Ingat:</strong> Teks prosedur sangat berguna dalam kehidupan sehari-hari. Mulai dari memasak, menggunakan teknologi, hingga mengerjakan tugas sekolah.</p>
                                <p class="mt-2"><strong>Tips:</strong> Teruslah berlatih membuat teks prosedur dengan bahasa yang jelas dan langkah-langkah yang mudah dipahami. Semoga ilmu ini bermanfaat untuk kalian semua!</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Game Auditori: Tebak Kata Misterius -->
                <div class="bg-gradient-to-br from-purple-100 via-purple-50 to-indigo-100 rounded-2xl p-6 mb-6 border-2 border-purple-200">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-purple-800 mb-2">🎧 Tebak Kata Misterius 🎙️</h3>
                        <p class="text-lg text-purple-700 font-medium mb-2">🔮 Dengarkan clue dengan baik, lalu tebak kata misteriusnya!</p>
                        <p class="text-sm text-purple-600 italic mb-4">"Dengarkan baik-baik, telinga ajaibmu pasti bisa menemukan jawabannya!"</p>
                        
                        <!-- Game Stats -->
                        <div class="flex justify-center items-center gap-4 mt-4 mb-4 flex-wrap">
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-purple-800 font-medium">🏆 Skor: <span id="mystery-game-score">0</span></span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-purple-800 font-medium">🎯 Level: <span id="mystery-current-level">1</span>/10</span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-purple-800 font-medium">⭐ Streak: <span id="mystery-streak">0</span></span>
                            </div>
                            <div class="bg-white rounded-full px-4 py-2 shadow-md">
                                <span class="text-purple-800 font-medium">⏱️ Waktu: <span id="mystery-timer">00:00</span></span>
                            </div>
                        </div>
                        
                        <!-- Level Progress Bar -->
                        <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
                            <div id="mystery-level-progress" class="bg-gradient-to-r from-purple-400 to-indigo-500 h-3 rounded-full transition-all duration-500" style="width: 10%"></div>
                        </div>
                    </div>
                    
                    <!-- Game Content -->
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <h4 id="mystery-level-title" class="text-xl font-bold text-purple-800 text-center mb-6">🎵 Level 1: Kata Misterius Pertama</h4>
                        
                        <!-- Audio Player Section -->
                        <div class="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 mb-6 text-center">
                            <div class="flex justify-center items-center gap-3 mb-4">
                                <div class="text-4xl animate-bounce">🎧</div>
                                <div>
                                    <h5 class="font-semibold text-purple-800 text-lg">Putar Audio Clue</h5>
                                    <p class="text-sm text-purple-600">Dengarkan petunjuk untuk menemukan kata misterius</p>
                                </div>
                                <div class="text-4xl animate-bounce">🎙️</div>
                            </div>
                            <button id="play-mystery-audio" onclick="playMysteryAudio()" class="bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-semibold px-8 py-4 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 text-lg">
                                ▶️ Putar Audio
                            </button>
                            <button id="replay-mystery-audio" onclick="playMysteryAudio()" class="bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                🔄 Putar Ulang
                            </button>
                        </div>
                        
                        <!-- Answer Options -->
                        <div id="mystery-options-container" class="mb-6 hidden">
                            <h5 class="font-semibold text-purple-800 mb-4 text-center text-lg">🤔 Pilih kata yang tepat:</h5>
                            <div id="mystery-answer-options" class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                                <!-- Options will be dynamically generated here -->
                            </div>
                        </div>
                        
                        <!-- Game Controls -->
                        <div class="text-center">
                            <button id="start-mystery-game" onclick="startMysteryGame()" class="bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-semibold px-8 py-4 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 text-lg">
                                🎯 Mulai Game
                            </button>
                            <button id="next-mystery-level" onclick="nextMysteryLevel()" class="bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                ➡️ Next Level
                            </button>
                            <button id="reset-mystery-game" onclick="resetMysteryGame()" class="bg-gradient-to-r from-rose-400 to-pink-500 hover:from-rose-500 hover:to-pink-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                🔄 Coba Lagi
                            </button>
                            <button onclick="showSlide('slide-gaya-belajar')" id="mystery-back-to-menu" class="bg-gradient-to-r from-gray-500 to-slate-500 hover:from-gray-600 hover:to-slate-600 text-white font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 ml-3 hidden">
                                🏠 Kembali ke Menu
                            </button>
                        </div>
                    </div>
                    
                    <!-- Level Complete -->
                    <div id="mystery-level-complete" class="mt-4 text-center hidden">
                        <div class="bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl p-6 shadow-lg">
                            <div class="text-4xl mb-3 animate-bounce">⭐</div>
                            <h4 class="text-xl font-bold text-green-800 mb-2">Yeay! Benar sekali! 🎉</h4>
                            <p class="text-green-700 mb-4">Telinga ajaibmu berhasil menemukan kata misterius!</p>
                            <div class="text-lg font-medium text-green-800 mb-4">
                                Poin Level: <span id="mystery-level-points" class="text-yellow-600">0</span> poin
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wrong Answer -->
                    <div id="mystery-wrong-answer" class="mt-4 text-center hidden">
                        <div class="bg-gradient-to-br from-orange-100 to-yellow-100 rounded-xl p-6 shadow-lg">
                            <div class="text-4xl mb-3 animate-bounce">😅</div>
                            <h4 class="text-xl font-bold text-orange-800 mb-2">Oops! Belum tepat nih</h4>
                            <p class="text-orange-700 mb-4">Jangan menyerah! Dengarkan clue sekali lagi dengan lebih teliti ya.</p>
                            <div class="text-lg font-medium text-orange-800 mb-4">
                                Coba lagi, kamu pasti bisa! 💪
                            </div>
                        </div>
                    </div>
                    
                    <!-- Game Complete -->
                    <div id="mystery-game-complete" class="mt-4 text-center hidden">
                        <div class="bg-gradient-to-br from-purple-100 to-indigo-100 rounded-xl p-8 shadow-lg">
                            <div class="text-6xl mb-4 animate-bounce">🏆</div>
                            <h4 class="text-2xl font-bold text-purple-800 mb-4">Selamat! Kamu Master Kata Misterius!</h4>
                            <p class="text-purple-700 mb-4">Luar biasa! Telinga ajaibmu berhasil memecahkan semua 10 kata misterius!</p>
                            
                            <!-- Quiz Statistics -->
                            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                                <div class="bg-white rounded-xl p-4 shadow-md">
                                    <div class="text-3xl mb-2">🎯</div>
                                    <div class="text-lg font-bold text-purple-800"><span id="mystery-final-correct">0</span>/10</div>
                                    <div class="text-sm text-purple-600">Kata Benar</div>
                                </div>
                                <div class="bg-white rounded-xl p-4 shadow-md">
                                    <div class="text-3xl mb-2">⏱️</div>
                                    <div class="text-lg font-bold text-blue-800"><span id="mystery-final-time">00:00</span></div>
                                    <div class="text-sm text-blue-600">Total Waktu</div>
                                </div>
                                <div class="bg-white rounded-xl p-4 shadow-md">
                                    <div class="text-3xl mb-2">⚡</div>
                                    <div class="text-lg font-bold text-green-800"><span id="mystery-time-bonus">0</span></div>
                                    <div class="text-sm text-green-600">Bonus Waktu</div>
                                </div>
                                <div class="bg-white rounded-xl p-4 shadow-md">
                                    <div class="text-3xl mb-2">🏆</div>
                                    <div class="text-lg font-bold text-yellow-800"><span id="mystery-total-points">0</span></div>
                                    <div class="text-sm text-yellow-600">Total Poin</div>
                                </div>
                            </div>
                            
                            <!-- Performance Analysis -->
                            <div class="bg-white rounded-xl p-6 mb-6 shadow-md">
                                <h4 class="text-lg font-bold text-gray-800 mb-4">📊 Analisis Performa</h4>
                                <div class="grid md:grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <div class="font-medium text-gray-700 mb-2">⏰ Waktu per Level:</div>
                                        <div id="mystery-question-times-display" class="space-y-1"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium text-gray-700 mb-2">🎖️ Pencapaian:</div>
                                        <div id="mystery-achievements-display" class="space-y-1"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="mystery-score-message" class="text-purple-700 mb-6"></div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-purple-400 to-purple-600 hover:from-purple-500 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Materi Kinestetik -->
        <div id="materi-kinestetik" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-green-600 hover:text-green-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-green-600 hover:text-green-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-green-800">✋ Materi Kinestetik</h2>
                </div>
                
                <!-- Interactive Activities Grid -->
                <div class="grid lg:grid-cols-2 gap-6 mb-8">
                    <!-- Pengertian - Body Movement Activity -->
                    <div class="bg-green-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">📖 Pengertian - Gerakan Tubuh</h3>
                        <div class="bg-white rounded-xl p-4">
                            <p class="text-green-700 mb-4">Praktikkan gerakan untuk memahami pengertian teks prosedur!</p>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center gap-3 p-2 bg-green-100 rounded-lg">
                                    <span class="text-2xl">📋</span>
                                    <div>
                                        <strong>Langkah 1:</strong> Pegang buku/kertas (simbol teks)
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-green-100 rounded-lg">
                                    <span class="text-2xl">👆</span>
                                    <div>
                                        <strong>Langkah 2:</strong> Tunjuk urutan 1-2-3 dengan jari
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-green-100 rounded-lg">
                                    <span class="text-2xl">🎯</span>
                                    <div>
                                        <strong>Langkah 3:</strong> Arahkan tangan ke target (tujuan)
                                    </div>
                                </div>
                            </div>
                            <button onclick="startDefinitionActivity()" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg mt-4">
                                🤸 Mulai Aktivitas Pengertian
                            </button>
                        </div>
                    </div>

                    <!-- Ciri-ciri - Hand Gestures Activity -->
                    <div class="bg-green-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">📝 Ciri-ciri - Gerakan Tangan</h3>
                        <div class="bg-white rounded-xl p-4">
                            <p class="text-green-700 mb-4">Gunakan gerakan tangan untuk mengingat ciri-ciri kebahasaan!</p>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center gap-3 p-2 bg-blue-100 rounded-lg">
                                    <span class="text-2xl">👋</span>
                                    <div>
                                        <strong>Kalimat Perintah:</strong> Gerakan tangan memberi komando
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-purple-100 rounded-lg">
                                    <span class="text-2xl">🔢</span>
                                    <div>
                                        <strong>Kata Bilangan:</strong> Hitung dengan jari 1-2-3
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-yellow-100 rounded-lg">
                                    <span class="text-2xl">🔗</span>
                                    <div>
                                        <strong>Kata Hubung:</strong> Gerakan menghubungkan kedua tangan
                                    </div>
                                </div>
                            </div>
                            <button onclick="startCharacteristicsActivity()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg mt-4">
                                ✋ Mulai Aktivitas Ciri-ciri
                            </button>
                        </div>
                    </div>

                    <!-- Jenis-jenis - Movement Classification -->
                    <div class="bg-green-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">📚 Jenis-jenis - Klasifikasi Gerakan</h3>
                        <div class="bg-white rounded-xl p-4">
                            <p class="text-green-700 mb-4">Bergerak sesuai jenis prosedur yang disebutkan!</p>
                            <div class="space-y-3 text-sm">
                                <div class="flex items-center gap-3 p-2 bg-green-100 rounded-lg">
                                    <span class="text-2xl">🟢</span>
                                    <div>
                                        <strong>Prosedur Sederhana:</strong> Gerakan lambat dan mudah
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-yellow-100 rounded-lg">
                                    <span class="text-2xl">🟡</span>
                                    <div>
                                        <strong>Prosedur Kompleks:</strong> Gerakan cepat dan rumit
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-2 bg-blue-100 rounded-lg">
                                    <span class="text-2xl">🔵</span>
                                    <div>
                                        <strong>Protokol:</strong> Gerakan fleksibel dan bervariasi
                                    </div>
                                </div>
                            </div>
                            <button onclick="startTypesActivity()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg mt-4">
                                🎭 Mulai Aktivitas Jenis-jenis
                            </button>
                        </div>
                    </div>

                    <!-- Tujuan - Target Practice -->
                    <div class="bg-green-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">🎯 Tujuan - Latihan Target</h3>
                        <div class="bg-white rounded-xl p-4">
                            <p class="text-green-700 mb-4">Arahkan gerakan ke target sesuai tujuan teks prosedur!</p>
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <div class="target-box bg-pink-100 p-3 rounded-lg text-center cursor-pointer hover:bg-pink-200" onclick="hitTarget('membantu')">
                                    <div class="text-2xl mb-1">🤝</div>
                                    <div class="text-xs font-medium">Membantu</div>
                                </div>
                                <div class="target-box bg-blue-100 p-3 rounded-lg text-center cursor-pointer hover:bg-blue-200" onclick="hitTarget('mengajar')">
                                    <div class="text-2xl mb-1">🎓</div>
                                    <div class="text-xs font-medium">Mengajar</div>
                                </div>
                                <div class="target-box bg-yellow-100 p-3 rounded-lg text-center cursor-pointer hover:bg-yellow-200" onclick="hitTarget('mempermudah')">
                                    <div class="text-2xl mb-1">⚡</div>
                                    <div class="text-xs font-medium">Mempermudah</div>
                                </div>
                                <div class="target-box bg-green-100 p-3 rounded-lg text-center cursor-pointer hover:bg-green-200" onclick="hitTarget('menghindari')">
                                    <div class="text-2xl mb-1">🛡️</div>
                                    <div class="text-xs font-medium">Menghindari Kesalahan</div>
                                </div>
                            </div>
                            <div id="target-result" class="text-center text-sm text-gray-600">
                                Klik target untuk berlatih!
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contoh - Interactive Example Building -->
                <div class="bg-green-50 rounded-2xl p-6 mb-8">
                    <h3 class="text-xl font-semibold text-green-800 mb-4">📋 Contoh - Membangun Teks Interaktif</h3>
                    <div class="bg-white rounded-xl p-6">
                        <p class="text-green-700 mb-4">Susun contoh teks prosedur dengan menyeret dan menjatuhkan bagian-bagiannya!</p>
                        
                        <!-- Drag Source -->
                        <div class="mb-6">
                            <h4 class="font-medium text-green-800 mb-3">🧩 Bagian-bagian Teks (Seret ke bawah):</h4>
                            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3">
                                <div class="draggable-piece bg-blue-100 p-3 rounded-lg cursor-move hover:bg-blue-200 text-center" draggable="true" data-type="tujuan">
                                    <div class="text-2xl mb-1">🎯</div>
                                    <div class="text-sm font-medium">Cara Membuat Teh Manis</div>
                                </div>
                                <div class="draggable-piece bg-purple-100 p-3 rounded-lg cursor-move hover:bg-purple-200 text-center" draggable="true" data-type="bahan">
                                    <div class="text-2xl mb-1">🧰</div>
                                    <div class="text-sm font-medium">1 kantong teh, 2 sdm gula, 200ml air panas</div>
                                </div>
                                <div class="draggable-piece bg-green-100 p-3 rounded-lg cursor-move hover:bg-green-200 text-center" draggable="true" data-type="langkah1">
                                    <div class="text-2xl mb-1">1️⃣</div>
                                    <div class="text-sm font-medium">Siapkan gelas dan masukkan teh</div>
                                </div>
                                <div class="draggable-piece bg-green-100 p-3 rounded-lg cursor-move hover:bg-green-200 text-center" draggable="true" data-type="langkah2">
                                    <div class="text-2xl mb-1">2️⃣</div>
                                    <div class="text-sm font-medium">Tuangkan air panas</div>
                                </div>
                                <div class="draggable-piece bg-green-100 p-3 rounded-lg cursor-move hover:bg-green-200 text-center" draggable="true" data-type="langkah3">
                                    <div class="text-2xl mb-1">3️⃣</div>
                                    <div class="text-sm font-medium">Diamkan 3-5 menit</div>
                                </div>
                                <div class="draggable-piece bg-green-100 p-3 rounded-lg cursor-move hover:bg-green-200 text-center" draggable="true" data-type="langkah4">
                                    <div class="text-2xl mb-1">4️⃣</div>
                                    <div class="text-sm font-medium">Tambahkan gula dan aduk</div>
                                </div>
                                <div class="draggable-piece bg-orange-100 p-3 rounded-lg cursor-move hover:bg-orange-200 text-center" draggable="true" data-type="penutup">
                                    <div class="text-2xl mb-1">✅</div>
                                    <div class="text-sm font-medium">Teh manis siap disajikan</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Drop Zones -->
                        <div class="mb-6">
                            <h4 class="font-medium text-green-800 mb-3">📝 Susun Teks Prosedur (Urutan yang benar):</h4>
                            <div class="space-y-3">
                                <div class="drop-zone border-2 border-dashed border-blue-300 rounded-lg p-4 min-h-16 bg-blue-50" data-accepts="tujuan">
                                    <div class="text-center text-blue-600 font-medium">1. Tujuan / Judul</div>
                                </div>
                                <div class="drop-zone border-2 border-dashed border-purple-300 rounded-lg p-4 min-h-16 bg-purple-50" data-accepts="bahan">
                                    <div class="text-center text-purple-600 font-medium">2. Bahan dan Alat</div>
                                </div>
                                <div class="drop-zone border-2 border-dashed border-green-300 rounded-lg p-4 min-h-16 bg-green-50" data-accepts="langkah1,langkah2,langkah3,langkah4">
                                    <div class="text-center text-green-600 font-medium">3. Langkah-langkah (Seret semua langkah ke sini)</div>
                                </div>
                                <div class="drop-zone border-2 border-dashed border-orange-300 rounded-lg p-4 min-h-16 bg-orange-50" data-accepts="penutup">
                                    <div class="text-center text-orange-600 font-medium">4. Penutup</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex gap-4">
                            <button onclick="checkTextStructure()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg">
                                ✅ Periksa Susunan
                            </button>
                            <button onclick="resetTextBuilder()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg">
                                🔄 Reset
                            </button>
                        </div>
                        
                        <div id="text-structure-result" class="mt-4"></div>
                    </div>
                </div>

                <!-- Original Puzzle Game -->
                <div class="bg-gradient-to-br from-green-100 to-green-200 rounded-2xl p-6 mb-6">
                    <h3 class="text-xl font-semibold text-green-800 mb-4">🎮 Game: Puzzle Bergerak</h3>
                    <p class="text-green-700 mb-4">Gerakkan puzzle untuk menyusun contoh teks prosedur!</p>
                    
                    <div id="puzzle-game" class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-4">
                        <div class="puzzle-piece bg-white p-3 rounded-lg cursor-pointer hover:bg-green-100 border-2 border-green-300" onclick="movePuzzle(this, 1)">
                            "Cara Mencuci Tangan"
                        </div>
                        <div class="puzzle-piece bg-white p-3 rounded-lg cursor-pointer hover:bg-green-100 border-2 border-green-300" onclick="movePuzzle(this, 4)">
                            "Keringkan dengan handuk"
                        </div>
                        <div class="puzzle-piece bg-white p-3 rounded-lg cursor-pointer hover:bg-green-100 border-2 border-green-300" onclick="movePuzzle(this, 2)">
                            "Air, sabun, handuk"
                        </div>
                        <div class="puzzle-piece bg-white p-3 rounded-lg cursor-pointer hover:bg-green-100 border-2 border-green-300" onclick="movePuzzle(this, 3)">
                            "Basahi tangan dengan air"
                        </div>
                    </div>
                    
                    <div id="puzzle-target" class="grid grid-cols-1 md:grid-cols-4 gap-2 mb-4">
                        <div class="puzzle-slot border-2 border-dashed border-green-400 p-3 rounded-lg bg-green-50 min-h-16" data-position="1"></div>
                        <div class="puzzle-slot border-2 border-dashed border-green-400 p-3 rounded-lg bg-green-50 min-h-16" data-position="2"></div>
                        <div class="puzzle-slot border-2 border-dashed border-green-400 p-3 rounded-lg bg-green-50 min-h-16" data-position="3"></div>
                        <div class="puzzle-slot border-2 border-dashed border-green-400 p-3 rounded-lg bg-green-50 min-h-16" data-position="4"></div>
                    </div>
                    
                    <button onclick="checkPuzzle()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
                        Periksa Puzzle
                    </button>
                    <div id="puzzle-result" class="mt-2"></div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Materi Membaca -->
        <div id="materi-membaca" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-blue-800">📖 Materi Membaca</h2>
                </div>
                
                <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teks Prosedur - Gaya Belajar Membaca</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(135deg, #f5f1e8 0%, #ede4d3 100%);
            min-height: 100vh;
            padding: 2rem;
            line-height: 1.7;
        }

        .book-container {
            max-width: 900px;
            margin: 0 auto;
            background: #faf7f0;
            border-radius: 15px;
            box-shadow: 
                0 20px 40px rgba(139, 69, 19, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            border: 2px solid #e8dcc0;
            position: relative;
            overflow: hidden;
        }

        .book-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 40px;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, #d4c4a8 0%, #c9b896 50%, #d4c4a8 100%);
            opacity: 0.6;
        }

        .book-header {
            background: linear-gradient(135deg, #a8c8ec 0%, #7fb3d3 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            position: relative;
        }

        .book-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .book-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            font-style: italic;
        }

        .book-content {
            padding: 3rem 4rem 3rem 5rem;
        }

        .section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: #5a7ba7;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-icon {
            font-size: 1.5rem;
        }

        .highlight {
            background: linear-gradient(120deg, #b8d4f0 0%, #a8c8ec 100%);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-weight: 600;
            color: #2c4a6b;
        }

        .definition-text {
            font-size: 1.1rem;
            text-align: justify;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: rgba(184, 212, 240, 0.1);
            border-left: 4px solid #a8c8ec;
            border-radius: 0 8px 8px 0;
        }

        .purpose-list {
            list-style: none;
            padding: 0;
        }

        .purpose-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
            padding: 0.8rem;
            background: rgba(184, 212, 240, 0.08);
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .purpose-item:hover {
            background: rgba(184, 212, 240, 0.15);
            transform: translateX(5px);
        }

        .purpose-icon {
            margin-right: 1rem;
            font-size: 1.2rem;
            color: #5a7ba7;
        }

        .structure-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .structure-table th {
            background: linear-gradient(135deg, #a8c8ec 0%, #7fb3d3 100%);
            color: white;
            padding: 1rem;
            text-align: left;
            font-family: 'Playfair Display', serif;
            font-weight: 600;
        }

        .structure-table td {
            padding: 1rem;
            border-bottom: 1px solid #e8dcc0;
        }

        .structure-table tr:last-child td {
            border-bottom: none;
        }

        .characteristics-list {
            list-style: none;
            padding: 0;
        }

        .characteristics-item {
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative;
            padding-left: 3rem;
        }

        .characteristics-item::before {
            content: '📝';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
        }

        .types-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .types-table th {
            background: linear-gradient(135deg, #a8c8ec 0%, #7fb3d3 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-weight: 600;
        }

        .types-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid #e8dcc0;
            vertical-align: top;
        }

        .types-table tr:last-child td {
            border-bottom: none;
        }

        .example-box {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #a8c8ec;
            margin: 1.5rem 0;
        }

        .example-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: #5a7ba7;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .command-verb {
            background: linear-gradient(120deg, #ffd700 0%, #ffed4e 100%);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-weight: 600;
            color: #8b4513;
        }

        .step-number {
            display: inline-block;
            background: #5a7ba7;
            color: white;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            text-align: center;
            line-height: 1.5rem;
            font-size: 0.9rem;
            margin-right: 0.5rem;
            font-weight: 600;
        }

        .page-decoration {
            position: absolute;
            bottom: 2rem;
            right: 3rem;
            opacity: 0.1;
            font-size: 8rem;
            color: #5a7ba7;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .book-content {
                padding: 2rem 2rem 2rem 3rem;
            }
            
            .book-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="book-container">
        <div class="book-header">
            <h1 class="book-title">Teks Prosedur</h1>
            <p class="book-subtitle">Panduan Pembelajaran untuk Gaya Belajar Membaca</p>
        </div>

        <div class="book-content">
            <!-- Pengertian -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">📚</span>
                    Pengertian Teks Prosedur
                </h2>
                <div class="definition-text">
                    <span class="highlight">Teks prosedur</span> adalah jenis teks yang berisi <span class="highlight">langkah-langkah</span> atau <span class="highlight">petunjuk</span> untuk melakukan suatu kegiatan atau membuat sesuatu. Teks ini disusun secara <span class="highlight">sistematis dan berurutan</span> agar pembaca dapat mengikuti instruksi dengan mudah. Tujuan utama teks prosedur adalah memberikan <span class="highlight">panduan yang jelas</span> sehingga hasil yang diinginkan dapat tercapai dengan baik.
                </div>
            </div>

            <!-- Tujuan -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🎯</span>
                    Tujuan Teks Prosedur
                </h2>
                <ul class="purpose-list">
                    <li class="purpose-item">
                        <span class="purpose-icon">✅</span>
                        <span>Memberikan <span class="highlight">petunjuk yang jelas</span> untuk melakukan suatu aktivitas</span>
                    </li>
                    <li class="purpose-item">
                        <span class="purpose-icon">🔧</span>
                        <span>Membantu pembaca <span class="highlight">menyelesaikan tugas</span> dengan benar dan efisien</span>
                    </li>
                    <li class="purpose-item">
                        <span class="purpose-icon">📋</span>
                        <span>Menyajikan <span class="highlight">urutan langkah</span> yang logis dan mudah dipahami</span>
                    </li>
                    <li class="purpose-item">
                        <span class="purpose-icon">🎨</span>
                        <span>Memandu proses <span class="highlight">pembuatan atau pengoperasian</span> sesuatu</span>
                    </li>
                    <li class="purpose-item">
                        <span class="purpose-icon">⚡</span>
                        <span>Mencegah <span class="highlight">kesalahan</span> dalam pelaksanaan kegiatan</span>
                    </li>
                </ul>
            </div>

            <!-- Struktur -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🏗️</span>
                    Struktur Teks Prosedur
                </h2>
                <table class="structure-table">
                    <thead>
                        <tr>
                            <th>Bagian</th>
                            <th>Penjelasan</th>
                            <th>Contoh</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="highlight">Tujuan</span></td>
                            <td>Menjelaskan hasil akhir yang akan dicapai</td>
                            <td>"Cara Membuat Teh Manis"</td>
                        </tr>
                        <tr>
                            <td><span class="highlight">Material/Bahan</span></td>
                            <td>Daftar alat dan bahan yang diperlukan</td>
                            <td>Teh celup, gula, air panas, sendok</td>
                        </tr>
                        <tr>
                            <td><span class="highlight">Langkah-langkah</span></td>
                            <td>Urutan kegiatan yang harus dilakukan</td>
                            <td>1. Siapkan gelas, 2. Tuang air panas, dst.</td>
                        </tr>
                        <tr>
                            <td><span class="highlight">Penutup</span></td>
                            <td>Hasil akhir atau kesimpulan dari prosedur</td>
                            <td>"Teh manis siap disajikan dan dinikmati"</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Ciri-ciri -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🔍</span>
                    Ciri-ciri Teks Prosedur
                </h2>
                <ul class="characteristics-list">
                    <li class="characteristics-item">
                        <strong>📝 <span class="highlight">Kalimat Perintah</span></strong><br>
                        • Siapkan bahan-bahan<br>
                        • Aduk hingga rata<br>
                        • Panaskan minyak<br>
                        • Sajikan selagi hangat
                    </li>
                    <li class="characteristics-item">
                        <strong>🔢 <span class="highlight">Kata Bilangan</span></strong><br>
                        • Pertama, kedua, ketiga<br>
                        • 2 sendok makan<br>
                        • 5 menit, 10 gram
                    </li>
                    <li class="characteristics-item">
                        <strong>🔗 <span class="highlight">Kata Hubung</span></strong><br>
                        • Kemudian, lalu, setelah itu<br>
                        • Selanjutnya, berikutnya<br>
                        • Akhirnya, terakhir<br>
                        • Sambil, sementara itu
                    </li>
                    <li class="characteristics-item">
                        <strong>⏰ <span class="highlight">Kata Keterangan</span></strong><br>
                        • Dengan hati-hati<br>
                        • Secara perlahan<br>
                        • Hingga matang<br>
                        • Sampai mendidih
                    </li>
                </ul>
            </div>

            <!-- Jenis-jenis -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">📊</span>
                    Jenis-jenis Teks Prosedur
                </h2>
                <table class="types-table">
                    <thead>
                        <tr>
                            <th>Jenis</th>
                            <th>Karakteristik</th>
                            <th>Contoh</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="highlight">Prosedur Sederhana</span></td>
                            <td>Berisi tahapan atau material yang tidak terlalu banyak</td>
                            <td>Cara menyalakan komputer</td>
                        </tr>
                        <tr>
                            <td><span class="highlight">Prosedur Kompleks</span></td>
                            <td>Membutuhkan alat, bahan, dan waktu yang lebih banyak dibandingkan prosedur sederhana</td>
                            <td>Cara merakit komputer</td>
                        </tr>
                        <tr>
                            <td><span class="highlight">Protokol</span></td>
                            <td>Berisi tahapan yang bisa dilakukan dengan fleksibel</td>
                            <td>Prosedur keselamatan kerja</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Contoh -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">☕</span>
                    Contoh Teks Prosedur
                </h2>
                <div class="example-box">
                    <h3 class="example-title">
                        <span>🫖</span>
                        Cara Membuat Teh Manis
                    </h3>
                    
                    <p><strong>Bahan dan Alat:</strong></p>
                    <p>• 1 kantong teh celup 🫖<br>
                    • 2 sendok makan gula pasir 🍯<br>
                    • 200ml air panas ♨️<br>
                    • 1 gelas 🥤<br>
                    • 1 sendok 🥄</p>
                    
                    <p><strong>Langkah-langkah:</strong></p>
                    <p><span class="step-number">1</span><span class="command-verb">Siapkan</span> gelas bersih di atas meja.</p>
                    <p><span class="step-number">2</span><span class="command-verb">Masukkan</span> kantong teh celup ke dalam gelas.</p>
                    <p><span class="step-number">3</span><span class="command-verb">Tuang</span> air panas ke dalam gelas hingga 3/4 bagian.</p>
                    <p><span class="step-number">4</span><span class="command-verb">Diamkan</span> selama 3-5 menit agar teh meresap.</p>
                    <p><span class="step-number">5</span><span class="command-verb">Angkat</span> kantong teh dan <span class="command-verb">buang</span>.</p>
                    <p><span class="step-number">6</span><span class="command-verb">Tambahkan</span> gula pasir sesuai selera.</p>
                    <p><span class="step-number">7</span><span class="command-verb">Aduk</span> hingga gula larut sempurna.</p>
                    <p><span class="step-number">8</span>Teh manis siap <span class="command-verb">disajikan</span>! ✨</p>
                </div>
            </div>
        </div>

        <div class="page-decoration">📖</div>
    </div>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'978cf3ed9103ea7b',t:'MTc1NjgxNTUzNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
                
                <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Belajar Teks Prosedur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');
        
        /* Memberikan scope khusus untuk game ini agar tidak bentrok */
        #readingGameWrapper {
            font-family: 'Crimson Text', serif;
        }
        
        .readingGame_book-page {
            background: #fefcf7;
            box-shadow: 0 8px 32px rgba(139, 69, 19, 0.1);
            border: 1px solid #e8dcc6;
        }
        
        .readingGame_highlight-yellow { background-color: #fef3c7; }
        .readingGame_highlight-blue { background-color: #dbeafe; }
        .readingGame_highlight-green { background-color: #d1fae5; }
        
        .readingGame_word-blank {
            display: inline-block;
            min-width: 80px;
            height: 24px;
            border-bottom: 2px solid #6b7280;
            margin: 0 4px;
            text-align: center;
            background: #f9fafb;
        }
        
        .readingGame_draggable-step {
            cursor: move;
            transition: all 0.3s ease;
        }
        
        .readingGame_draggable-step:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .readingGame_drop-zone {
            min-height: 60px;
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        
        .readingGame_drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        
        @keyframes readingGame_sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            50% { transform: scale(1) rotate(180deg); opacity: 1; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }
        
        .readingGame_sparkle {
            animation: readingGame_sparkle 0.6s ease-out;
        }
        
        .readingGame_icon-cooking::before { content: "🍳"; }
        .readingGame_icon-step::before { content: "📝"; }
    </style>
</head>
<body class="min-h-screen p-4 bg-gradient-to-br from-yellow-50 to-amber-100">

    <div id="readingGameWrapper" class="max-w-4xl mx-auto">
        <div class="readingGame_book-page rounded-t-lg p-6 mb-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-amber-900 mb-2">📚 Game Teks Prosedur</h1>
                    <p class="text-amber-700">Belajar membaca dengan cara yang menyenangkan!</p>
                </div>
                <div class="text-right">
                    <div class="text-2xl font-bold text-blue-600" id="readingGame_score">Skor: 0</div>
                    <div class="text-lg font-semibold text-red-600" id="readingGame_timer">⏰ 60s</div>
                    <div class="text-sm text-gray-600" id="readingGame_level">Level 1 dari 5</div>
                </div>
            </div>
        </div>

        <div class="readingGame_book-page rounded-lg p-8" id="readingGame_gameContainer">
            <div id="readingGame_level1" class="reading-game-level">
                <h2 class="text-2xl font-semibold text-amber-900 mb-6 flex items-center">
                    <span class="readingGame_icon-cooking mr-3"></span>
                    Level 1: Tebak Kata yang Hilang
                </h2>
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                    <p class="text-blue-800"><strong>Petunjuk:</strong> Bacalah teks berikut dan lengkapi kata-kata yang hilang!</p>
                </div>
                <div class="prose max-w-none mb-6 text-lg leading-relaxed">
                    <h3 class="text-xl font-semibold text-amber-800 mb-4">Cara Membuat Teh Manis</h3>
                    <p class="mb-4"><strong>Bahan-bahan:</strong> Air, teh celup, gula pasir</p>
                    <p class="mb-4"><strong>Langkah-langkah:</strong></p>
                    <ol class="list-decimal list-inside space-y-2 ml-4">
                        <li><input type="text" class="readingGame_word-blank" data-answer="masak" placeholder="..."> air hingga mendidih</li>
                        <li><input type="text" class="readingGame_word-blank" data-answer="masukkan" placeholder="..."> teh celup ke dalam gelas</li>
                        <li><input type="text" class="readingGame_word-blank" data-answer="tuangkan" placeholder="..."> air panas ke dalam gelas</li>
                        <li><input type="text" class="readingGame_word-blank" data-answer="tambahkan" placeholder="..."> gula sesuai selera</li>
                        <li><input type="text" class="readingGame_word-blank" data-answer="aduk" placeholder="..."> hingga gula larut</li>
                    </ol>
                </div>
                <div class="flex gap-4">
                    <button onclick="readingGame.checkLevel1()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Periksa Jawaban</button>
                    <button onclick="readingGame.showAnswers1()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Lihat Jawaban</button>
                </div>
            </div>

            <div id="readingGame_level2" class="reading-game-level hidden">
                <h2 class="text-2xl font-semibold text-amber-900 mb-6 flex items-center">
                    <span class="readingGame_icon-step mr-3"></span>
                    Level 2: Kuis Pilihan Ganda
                </h2>
                <div class="space-y-6" id="readingGame_quizContainer"></div>
                <div class="flex gap-4 mt-6">
                    <button onclick="readingGame.checkLevel2()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Periksa Jawaban</button>
                </div>
            </div>

            <div id="readingGame_level3" class="reading-game-level hidden">
                <h2 class="text-2xl font-semibold text-amber-900 mb-6">Level 3: Sorot Kata Kunci</h2>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <p class="text-yellow-800"><strong>Petunjuk:</strong> Sorot kata-kata berikut dengan warna yang tepat:</p>
                    <div class="mt-2 flex flex-wrap gap-4">
                        <span class="readingGame_highlight-yellow px-2 py-1 rounded">Bahan (Kuning)</span>
                        <span class="readingGame_highlight-blue px-2 py-1 rounded">Kata Kerja (Biru)</span>
                        <span class="readingGame_highlight-green px-2 py-1 rounded">Alat (Hijau)</span>
                    </div>
                </div>
                <div class="mb-4">
                    <button onclick="readingGame.setHighlightColor('yellow')" class="readingGame_highlight-yellow px-4 py-2 rounded mr-2 border-2 border-transparent" id="readingGame_yellowBtn">Kuning</button>
                    <button onclick="readingGame.setHighlightColor('blue')" class="readingGame_highlight-blue px-4 py-2 rounded mr-2 border-2 border-transparent" id="readingGame_blueBtn">Biru</button>
                    <button onclick="readingGame.setHighlightColor('green')" class="readingGame_highlight-green px-4 py-2 rounded mr-2 border-2 border-transparent" id="readingGame_greenBtn">Hijau</button>
                    <button onclick="readingGame.clearHighlights()" class="bg-gray-200 px-4 py-2 rounded border-2 border-transparent">Hapus</button>
                </div>
                <div class="prose max-w-none mb-6 text-lg leading-relaxed" id="readingGame_highlightText">
                    <h3 class="text-xl font-semibold text-amber-800 mb-4">Cara Membuat Nasi Goreng</h3>
                    <p><strong>Bahan:</strong> <span data-type="bahan">nasi</span>, <span data-type="bahan">telur</span>, <span data-type="bahan">bawang merah</span>, <span data-type="bahan">kecap manis</span></p>
                    <p><strong>Alat:</strong> <span data-type="alat">wajan</span>, <span data-type="alat">spatula</span>, <span data-type="alat">piring</span></p>
                    <p><strong>Langkah:</strong></p>
                    <ol class="list-decimal list-inside space-y-1 ml-4">
                        <li><span data-type="kerja">Panaskan</span> <span data-type="alat">wajan</span> di atas kompor</li>
                        <li><span data-type="kerja">Kocok</span> <span data-type="bahan">telur</span> lalu <span data-type="kerja">masukkan</span> ke <span data-type="alat">wajan</span></li>
                        <li><span data-type="kerja">Tambahkan</span> <span data-type="bahan">nasi</span> dan <span data-type="kerja">aduk</span> rata</li>
                        <li><span data-type="kerja">Tuangkan</span> <span data-type="bahan">kecap manis</span> secukupnya</li>
                        <li><span data-type="kerja">Sajikan</span> di <span data-type="alat">piring</span></li>
                    </ol>
                </div>
                <div class="flex gap-4">
                    <button onclick="readingGame.checkLevel3()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Periksa Highlight</button>
                </div>
            </div>

            <div id="readingGame_level4" class="reading-game-level hidden">
                <h2 class="text-2xl font-semibold text-amber-900 mb-6">Level 4: Susun Urutan Langkah</h2>
                <div class="bg-green-50 border-l-4 border-green-400 p-4 mb-6">
                    <p class="text-green-800"><strong>Petunjuk:</strong> Seret dan susun langkah-langkah berikut sesuai urutan yang benar!</p>
                </div>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="font-semibold text-lg mb-4">Langkah-langkah (Seret ke kanan):</h3>
                        <div id="readingGame_stepsSource" class="space-y-3"></div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg mb-4">Urutan yang Benar:</h3>
                        <div id="readingGame_stepsTarget" class="space-y-3"></div>
                    </div>
                </div>
                <div class="flex gap-4 mt-6">
                    <button onclick="readingGame.checkLevel4()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Periksa Urutan</button>
                    <button onclick="readingGame.resetLevel4()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors">Reset</button>
                </div>
            </div>

            <div id="readingGame_level5" class="reading-game-level hidden">
                <h2 class="text-2xl font-semibold text-amber-900 mb-6">🎉 Selamat! Kamu Telah Menyelesaikan Semua Level!</h2>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-300 rounded-lg p-6 mb-6">
                    <h3 class="text-xl font-semibold text-amber-800 mb-4">Ringkasan Pembelajaran:</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-amber-700">
                        <div>
                            <h4 class="font-semibold">✅ Yang Sudah Dipelajari:</h4>
                            <ul class="list-disc list-inside mt-2 space-y-1">
                                <li>Struktur teks prosedur</li>
                                <li>Kata kerja perintah</li>
                                <li>Urutan langkah-langkah</li>
                                <li>Bahan dan alat</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold">🎯 Skor Akhir:</h4>
                            <div class="text-3xl font-bold text-blue-600 mt-2" id="readingGame_finalScore">0</div>
                            <div class="text-sm" id="readingGame_scoreMessage">Luar biasa!</div>
                            <div class="text-sm text-gray-600 mt-2">
                                <span id="readingGame_timeBonus">Bonus waktu: +0</span><br>
                                <span id="readingGame_totalTime">Waktu tersisa: 0s</span><br>
                                <span id="readingGame_gameStatus" class="text-green-600 font-semibold">🎉 Game Selesai!</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex gap-4">
                    <button onclick="readingGame.restartGame()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">🔄 Main Lagi</button>
                </div>
            </div>
        </div>
    </div>

    <script>
    // Membungkus semua kode game dalam satu objek global untuk menghindari konflik
    const readingGame = (function() {
        // --- State dan Variabel Game (semua bersifat privat) ---
        let currentLevel = 1;
        let totalScore = 0;
        let currentHighlightColor = 'yellow';
        let timeLeft = 60;
        let timerInterval = null;
        let gameStarted = false;
        
        const quizData = [
            { question: "Apa tujuan utama teks prosedur?", options: ["Menceritakan pengalaman", "Memberikan langkah-langkah", "Menggambarkan sesuatu", "Meyakinkan pembaca"], correct: 1 },
            { question: "Bagian apa yang berisi daftar bahan dalam teks prosedur?", options: ["Langkah-langkah", "Tujuan", "Bahan dan alat", "Penutup"], correct: 2 },
            { question: "Kata kerja apa yang sering digunakan dalam teks prosedur?", options: ["Kata kerja lampau", "Kata kerja perintah", "Kata kerja pasif", "Kata kerja aktif"], correct: 1 }
        ];
        
        const steps = [
            { id: 1, text: "Siapkan semua bahan dan alat yang diperlukan", order: 1 },
            { id: 2, text: "Cuci beras hingga bersih dan tiriskan", order: 2 },
            { id: 3, text: "Masak nasi dengan rice cooker", order: 3 },
            { id: 4, text: "Tunggu hingga nasi matang dan dinginkan", order: 4 },
            { id: 5, text: "Nasi siap untuk diolah menjadi nasi goreng", order: 5 }
        ];

        // --- Fungsi Internal (Helper Functions) ---
        function updateScore(points) {
            totalScore += points;
            document.getElementById('readingGame_score').textContent = `Skor: ${totalScore}`;
            if (points > 0) showSparkle();
            else showMinus();
        }

        function startTimer() {
            if (!gameStarted) {
                gameStarted = true;
                timerInterval = setInterval(() => {
                    timeLeft--;
                    document.getElementById('readingGame_timer').textContent = `⏰ ${timeLeft}s`;
                    
                    if (timeLeft <= 10) {
                        document.getElementById('readingGame_timer').classList.add('animate-pulse');
                    }
                    
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert('⏰ Waktu habis! Game berakhir.');
                        showFinalResults();
                    }
                }, 1000);
            }
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }
        
        function resetTimer(seconds = 60) {
            stopTimer();
            timeLeft = seconds;
            const timerEl = document.getElementById('readingGame_timer');
            timerEl.textContent = `⏰ ${timeLeft}s`;
            timerEl.classList.remove('animate-pulse');
            gameStarted = false;
        }

        function showFinalResults() {
            document.querySelectorAll('.reading-game-level').forEach(level => level.classList.add('hidden'));
            document.getElementById('readingGame_level5').classList.remove('hidden');
            currentLevel = 5;
            document.getElementById('readingGame_level').textContent = 'Game Selesai';
            updateFinalScore();
        }

        function showSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = '✨';
            sparkle.className = 'fixed text-4xl readingGame_sparkle pointer-events-none z-50';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 600);
        }

        function showMinus() {
            const minus = document.createElement('div');
            minus.innerHTML = '❌';
            minus.className = 'fixed text-4xl readingGame_sparkle pointer-events-none z-50';
            minus.style.left = Math.random() * window.innerWidth + 'px';
            minus.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(minus);
            setTimeout(() => minus.remove(), 600);
        }

        function goToNextLevel() {
            document.getElementById(`readingGame_level${currentLevel}`).classList.add('hidden');
            currentLevel++;
            
            if (currentLevel <= 5) {
                document.getElementById('readingGame_level').textContent = `Level ${currentLevel} dari 5`;
                if (currentLevel === 2) initLevel2();
                if (currentLevel === 4) initLevel4();
                document.getElementById(`readingGame_level${currentLevel}`).classList.remove('hidden');
                
                timeLeft += 15;
                document.getElementById('readingGame_timer').textContent = `⏰ ${timeLeft}s`;
            } else {
                stopTimer();
                showFinalResults();
            }
        }
        
        function updateFinalScore() {
            const timeBonus = Math.max(0, timeLeft * 2);
            const finalTotal = totalScore + timeBonus;
            
            document.getElementById('readingGame_finalScore').textContent = finalTotal;
            document.getElementById('readingGame_timeBonus').textContent = `Bonus waktu: +${timeBonus}`;
            document.getElementById('readingGame_totalTime').textContent = `Waktu tersisa: ${timeLeft}s`;
            
            const message = finalTotal >= 400 ? 'Sempurna! Master Teks Prosedur! 🌟' : 
                          finalTotal >= 300 ? 'Luar biasa! Sangat bagus! 👏' : 
                          finalTotal >= 200 ? 'Bagus sekali! Terus berlatih! 👍' : 
                          finalTotal >= 100 ? 'Cukup baik! Jangan menyerah! 💪' : 'Terus berlatih! Kamu pasti bisa! 🎯';
            document.getElementById('readingGame_scoreMessage').textContent = message;
            
            const gameStatusEl = document.getElementById('readingGame_gameStatus');
            if (timeLeft > 0) {
                gameStatusEl.textContent = '🎉 Game Selesai Tepat Waktu!';
                gameStatusEl.className = 'text-green-600 font-semibold';
            } else {
                gameStatusEl.textContent = '⏰ Waktu Habis!';
                gameStatusEl.className = 'text-red-600 font-semibold';
            }
        }
        
        function initLevel2() {
            const container = document.getElementById('readingGame_quizContainer');
            container.innerHTML = '';
            quizData.forEach((quiz, index) => {
                const quizDiv = document.createElement('div');
                quizDiv.className = 'bg-white border border-gray-200 rounded-lg p-6';
                quizDiv.innerHTML = `
                    <h3 class="font-semibold text-lg mb-4">${index + 1}. ${quiz.question}</h3>
                    <div class="space-y-2">
                        ${quiz.options.map((option, optIndex) => `
                            <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="readingGame_quiz${index}" value="${optIndex}" class="text-blue-600">
                                <span>${String.fromCharCode(65 + optIndex)}. ${option}</span>
                            </label>
                        `).join('')}
                    </div>`;
                container.appendChild(quizDiv);
            });
        }
        
        function initLevel4() {
            const sourceContainer = document.getElementById('readingGame_stepsSource');
            const targetContainer = document.getElementById('readingGame_stepsTarget');
            const shuffledSteps = [...steps].sort(() => Math.random() - 0.5);
            
            sourceContainer.innerHTML = '';
            targetContainer.innerHTML = '';
            
            shuffledSteps.forEach(step => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'readingGame_draggable-step bg-white border border-gray-300 rounded-lg p-4 cursor-move';
                stepDiv.draggable = true;
                stepDiv.dataset.stepId = step.id;
                stepDiv.innerHTML = `<span class="font-medium">${step.text}</span>`;
                stepDiv.addEventListener('dragstart', (e) => e.dataTransfer.setData('text/plain', step.id));
                sourceContainer.appendChild(stepDiv);
            });
            
            for (let i = 1; i <= steps.length; i++) {
                const dropZone = document.createElement('div');
                dropZone.className = 'readingGame_drop-zone bg-gray-50 p-4 flex items-center justify-center text-gray-500';
                dropZone.dataset.position = i;
                dropZone.innerHTML = `<span>Langkah ${i}</span>`;
                
                dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    dropZone.classList.add('drag-over');
                });
                dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag-over'));
                dropZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    dropZone.classList.remove('drag-over');
                    const stepId = e.dataTransfer.getData('text/plain');
                    const stepElement = document.querySelector(`#readingGame_stepsSource [data-step-id="${stepId}"]`);
                    if (stepElement && !dropZone.querySelector('.readingGame_draggable-step')) {
                        dropZone.innerHTML = '';
                        dropZone.appendChild(stepElement);
                    }
                });
                targetContainer.appendChild(dropZone);
            }
        }

        // --- Fungsi Publik (yang akan dipanggil dari HTML) ---
        return {
            checkLevel1: function() {
                startTimer();
                const inputs = document.querySelectorAll('#readingGame_level1 .readingGame_word-blank');
                let correct = 0;
                let wrong = 0;
                
                inputs.forEach(input => {
                    if (input.value.toLowerCase().trim() === input.dataset.answer.toLowerCase()) {
                        input.style.backgroundColor = '#d1fae5';
                        input.style.borderColor = '#10b981';
                        correct++;
                    } else if (input.value !== '') {
                        input.style.backgroundColor = '#fee2e2';
                        input.style.borderColor = '#ef4444';
                        wrong++;
                    }
                });
                
                const points = (correct * 10) - (wrong * 5);
                updateScore(points);
                
                if (correct === inputs.length) {
                    setTimeout(() => {
                        alert('🎉 Sempurna! Semua jawaban benar! +15 detik bonus!');
                        goToNextLevel();
                    }, 500);
                } else {
                    alert(`Benar: ${correct}/${inputs.length}. Salah: ${wrong}. ${wrong > 0 ? 'Poin dikurangi!' : 'Coba lagi!'}`);
                }
            },

            showAnswers1: function() {
                document.querySelectorAll('#readingGame_level1 .readingGame_word-blank').forEach(input => {
                    input.value = input.dataset.answer;
                    input.style.backgroundColor = '#dbeafe';
                });
            },

            checkLevel2: function() {
                let correct = 0, wrong = 0;
                quizData.forEach((quiz, index) => {
                    const selected = document.querySelector(`input[name="readingGame_quiz${index}"]:checked`);
                    if (selected) {
                        if (parseInt(selected.value) === quiz.correct) correct++;
                        else wrong++;
                    }
                });
                const points = (correct * 15) - (wrong * 8);
                updateScore(points);
                
                setTimeout(() => {
                    alert(`Benar: ${correct}/${quizData.length}. Salah: ${wrong}. ${wrong > 0 ? 'Poin dikurangi!' : ''}`);
                    if (correct >= 2) goToNextLevel();
                }, 500);
            },

            setHighlightColor: function(color) {
                currentHighlightColor = color;
                document.querySelectorAll('#readingGame_level3 [id$="Btn"]').forEach(btn => btn.style.borderColor = 'transparent');
                document.getElementById(`readingGame_${color}Btn`).style.borderColor = '#374151';
            },

            clearHighlights: function() {
                document.querySelectorAll('#readingGame_highlightText span').forEach(span => {
                    span.className = span.className.replace(/readingGame_highlight-\w+/g, '');
                });
            },

            checkLevel3: function() {
                const spans = document.querySelectorAll('#readingGame_highlightText span[data-type]');
                let correct = 0, wrong = 0;
                spans.forEach(span => {
                    const type = span.dataset.type;
                    const expectedColor = type === 'bahan' ? 'yellow' : (type === 'alat' ? 'green' : 'blue');
                    if (span.classList.contains(`readingGame_highlight-${expectedColor}`)) {
                        correct++;
                        span.style.border = '2px solid #10b981';
                    } else {
                         const hasWrongHighlight = /readingGame_highlight-/.test(span.className);
                         if (hasWrongHighlight) wrong++;
                         span.style.border = '2px solid #ef4444';
                    }
                });
                const points = (correct * 5) - (wrong * 3);
                updateScore(points);
                setTimeout(() => {
                    alert(`Highlight benar: ${correct}/${spans.length}. Salah: ${wrong}. ${wrong > 0 ? 'Poin dikurangi!' : ''}`);
                    if (correct >= spans.length * 0.7) goToNextLevel();
                }, 500);
            },
            
            checkLevel4: function() {
                const dropZones = document.querySelectorAll('#readingGame_stepsTarget .readingGame_drop-zone');
                let correct = 0, wrong = 0;
                dropZones.forEach((zone, index) => {
                    const stepElement = zone.querySelector('.readingGame_draggable-step');
                    if (stepElement) {
                        const stepId = parseInt(stepElement.dataset.stepId);
                        const expectedOrder = index + 1;
                        const step = steps.find(s => s.id === stepId);
                        if (step && step.order === expectedOrder) {
                            zone.style.backgroundColor = '#d1fae5';
                            correct++;
                        } else {
                            zone.style.backgroundColor = '#fee2e2';
                            wrong++;
                        }
                    } else {
                        wrong++; // Empty slot is wrong if not all are placed
                    }
                });
                const points = (correct * 20) - (wrong * 10);
                updateScore(points);
                setTimeout(() => {
                    alert(`Urutan benar: ${correct}/${steps.length}. Salah: ${wrong}. ${wrong > 0 ? 'Poin dikurangi!' : ''}`);
                    if (correct === steps.length) goToNextLevel();
                }, 500);
            },
            
            resetLevel4: function() {
                initLevel4();
            },
            
            restartGame: function() {
                currentLevel = 1;
                totalScore = 0;
                document.getElementById('readingGame_score').textContent = 'Skor: 0';
                document.getElementById('readingGame_level').textContent = 'Level 1 dari 5';
                resetTimer(60);
                
                document.querySelectorAll('.reading-game-level').forEach(level => level.classList.add('hidden'));
                document.getElementById('readingGame_level1').classList.remove('hidden');
                
                document.querySelectorAll('#readingGame_level1 .readingGame_word-blank').forEach(input => {
                    input.value = '';
                    input.style.backgroundColor = '#f9fafb';
                    input.style.borderColor = '#6b7280';
                });
            },

            // Fungsi inisialisasi awal
            init: function() {
                document.getElementById('readingGame_highlightText').addEventListener('click', function(e) {
                    if (e.target.tagName === 'SPAN' && e.target.dataset.type) {
                        if (!currentHighlightColor) {
                            alert('⚠️ Pilih warna terlebih dahulu!');
                            return;
                        }
                        e.target.className = e.target.className.replace(/readingGame_highlight-\w+/g, '');
                        e.target.classList.add(`readingGame_highlight-${currentHighlightColor}`);
                    }
                });
            }
        };
    })();

    // Inisialisasi game saat halaman dimuat
    document.addEventListener('DOMContentLoaded', readingGame.init);
    </script>
</body>
</html>

<!-- Game Membaca: Analisis Teks -->
                <div class="bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl p-6 mb-6">
                    <h3 class="text-xl font-semibold text-blue-800 mb-4">🎮 Game: Analisis Teks</h3>
                    <p class="text-blue-700 mb-4">Baca teks berikut dan identifikasi bagian-bagiannya!</p>
                    
                    <div class="bg-white rounded-xl p-4 mb-4">
                        <div id="reading-text" class="text-sm leading-relaxed">
                            <p class="mb-2"><span class="highlight-option cursor-pointer hover:bg-yellow-200 p-1 rounded" onclick="selectTextPart(this, 'tujuan')">Cara Menyiram Tanaman</span></p>
                            <p class="mb-2"><span class="highlight-option cursor-pointer hover:bg-yellow-200 p-1 rounded" onclick="selectTextPart(this, 'bahan')">Alat: gembor, air</span></p>
                            <p class="mb-2"><span class="highlight-option cursor-pointer hover:bg-yellow-200 p-1 rounded" onclick="selectTextPart(this, 'langkah')">Pertama, isi gembor dengan air. Kedua, siram tanaman secara merata.</span></p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-4 mb-4">
                        <div class="text-center">
                            <h4 class="font-medium text-blue-800 mb-2">Tujuan</h4>
                            <div id="tujuan-box" class="border-2 border-dashed border-blue-300 rounded-lg p-3 bg-blue-50 min-h-16"></div>
                        </div>
                        <div class="text-center">
                            <h4 class="font-medium text-blue-800 mb-2">Bahan/Alat</h4>
                            <div id="bahan-box" class="border-2 border-dashed border-blue-300 rounded-lg p-3 bg-blue-50 min-h-16"></div>
                        </div>
                        <div class="text-center">
                            <h4 class="font-medium text-blue-800 mb-2">Langkah-langkah</h4>
                            <div id="langkah-box" class="border-2 border-dashed border-blue-300 rounded-lg p-3 bg-blue-50 min-h-16"></div>
                        </div>
                    </div>
                    
                    <button onclick="checkTextAnalysis()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                        Periksa Analisis
                    </button>
                    <div id="analysis-result" class="mt-2"></div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Materi Menulis -->
        <div id="materi-menulis" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-orange-600 hover:text-orange-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-orange-600 hover:text-orange-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold text-orange-800">✍️ Materi Menulis</h2>
                </div>
                
                <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teks Prosedur - Pembelajaran Interaktif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .section {
            animation: fadeInUp 0.6s ease-out;
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .note-area {
            background: linear-gradient(135deg, #fefce8 0%, #fef3c7 100%);
            border-left: 4px solid #f59e0b;
        }
        
        .content-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fbbf24 100%);
            color: #374151;
        }
        
        .icon-ribbon {
            width: 40px;
            height: 40px;
            fill: currentColor;
        }
        
        .icon-pen {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }
        
        .scroll-smooth {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-yellow-50 to-amber-100 min-h-screen scroll-smooth">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white shadow-md">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-center">
                <svg class="icon-ribbon text-amber-600 mr-3" viewBox="0 0 24 24">
                    <path d="M5 16L3 14v5.5c0 .83.67 1.5 1.5 1.5S6 20.33 6 19.5V16H5zM19 16h-1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V14l-2 2zM12 2L8 6v12l4-2 4 2V6l-4-4z"/>
                </svg>
                <h1 class="text-2xl font-bold text-gray-800">Teks Prosedur - Pembelajaran Interaktif</h1>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 max-w-4xl space-y-8">
        
        <!-- Section 1: Judul -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8 text-center">
                <div class="flex justify-center mb-4">
                    <svg class="icon-ribbon text-amber-600" viewBox="0 0 24 24">
                        <path d="M5 16L3 14v5.5c0 .83.67 1.5 1.5 1.5S6 20.33 6 19.5V16H5zM19 16h-1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V14l-2 2zM12 2L8 6v12l4-2 4 2V6l-4-4z"/>
                    </svg>
                </div>
                <h1 class="text-4xl font-bold mb-4">TEKS PROSEDUR</h1>
                <p class="text-xl mb-6">Pembelajaran Interaktif untuk Siswa</p>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">📖 Pengertian</div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">🎯 Tujuan</div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">🏗️ Struktur</div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">✨ Ciri-ciri</div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">📝 Jenis-jenis</div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-3">
                        <div class="font-semibold">💡 Contoh</div>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Apa yang paling ingin kamu pelajari dari materi Teks Prosedur ini? Tuliskan 3 hal yang membuatmu penasaran!"</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Pengertian -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">📖</span>
                    Pengertian Teks Prosedur
                </h2>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 mb-4">
                    <p class="text-lg leading-relaxed">
                        <strong>Teks Prosedur</strong> adalah jenis teks yang berisi langkah-langkah atau petunjuk untuk melakukan sesuatu dengan urutan yang benar dan sistematis.
                    </p>
                </div>
                <div class="bg-yellow-400 bg-opacity-90 text-gray-800 rounded-lg p-4">
                    <h4 class="font-semibold mb-2">💡 Contoh Sederhana:</h4>
                    <p>"Cara mencuci tangan yang benar", "Resep membuat nasi goreng", "Langkah-langkah mendaftar akun email"</p>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Coba jelaskan pengertian teks prosedur dengan kata-katamu sendiri!"</p>
                </div>
            </div>
        </section>

        <!-- Section 3: Tujuan -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">🎯</span>
                    Tujuan Teks Prosedur
                </h2>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">🔍</div>
                        <h4 class="font-semibold mb-2">Memberikan Petunjuk</h4>
                        <p class="text-sm">Membantu pembaca melakukan sesuatu dengan benar dan tepat</p>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">⚡</div>
                        <h4 class="font-semibold mb-2">Memudahkan Aktivitas</h4>
                        <p class="text-sm">Membuat pekerjaan menjadi lebih mudah dan efisien</p>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">🛡️</div>
                        <h4 class="font-semibold mb-2">Menghindari Kesalahan</h4>
                        <p class="text-sm">Mencegah kesalahan yang mungkin terjadi</p>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">📚</div>
                        <h4 class="font-semibold mb-2">Berbagi Pengetahuan</h4>
                        <p class="text-sm">Menyampaikan cara melakukan sesuatu kepada orang lain</p>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Menurutmu, mengapa teks prosedur itu penting? Tuliskan 2 alasan yang paling masuk akal bagimu!"</p>
                </div>
            </div>
        </section>

        <!-- Section 4: Struktur -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">🏗️</span>
                    Struktur Teks Prosedur
                </h2>
                <div class="space-y-4">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4 flex items-center">
                        <div class="bg-yellow-400 text-gray-800 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4">1</div>
                        <div>
                            <h4 class="font-semibold text-lg">Tujuan</h4>
                            <p class="text-sm opacity-90">Menjelaskan apa yang akan dicapai atau dibuat</p>
                        </div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4 flex items-center">
                        <div class="bg-yellow-400 text-gray-800 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4">2</div>
                        <div>
                            <h4 class="font-semibold text-lg">Alat dan Bahan</h4>
                            <p class="text-sm opacity-90">Daftar semua yang dibutuhkan untuk melakukan prosedur</p>
                        </div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4 flex items-center">
                        <div class="bg-yellow-400 text-gray-800 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4">3</div>
                        <div>
                            <h4 class="font-semibold text-lg">Langkah-langkah</h4>
                            <p class="text-sm opacity-90">Urutan kegiatan yang harus dilakukan secara berurutan</p>
                        </div>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4 flex items-center">
                        <div class="bg-yellow-400 text-gray-800 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4">4</div>
                        <div>
                            <h4 class="font-semibold text-lg">Penutup</h4>
                            <p class="text-sm opacity-90">Kalimat penutup atau hasil akhir yang diharapkan</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Buat kerangka teks prosedur sederhana tentang 'Cara Merapikan Tempat Tidur'! Ingat: Tujuan → Alat/Bahan → Langkah-langkah → Penutup."</p>
                </div>
            </div>
        </section>

        <!-- Section 5: Ciri-ciri -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">✨</span>
                    Ciri-ciri Teks Prosedur
                </h2>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">📝</div>
                        <h4 class="font-semibold mb-2">Kalimat Perintah</h4>
                        <ul class="text-xs space-y-1">
                            <li>• Siapkan bahan-bahan</li>
                            <li>• Aduk hingga rata</li>
                            <li>• Panaskan minyak</li>
                            <li>• Sajikan selagi hangat</li>
                        </ul>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">🔢</div>
                        <h4 class="font-semibold mb-2">Kata Bilangan</h4>
                        <ul class="text-xs space-y-1">
                            <li>• Pertama, kedua, ketiga</li>
                            <li>• 2 sendok makan</li>
                            <li>• 5 menit, 10 gram</li>
                        </ul>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">🔗</div>
                        <h4 class="font-semibold mb-2">Kata Hubung</h4>
                        <ul class="text-xs space-y-1">
                            <li>• Kemudian, lalu, setelah itu</li>
                            <li>• Selanjutnya, berikutnya</li>
                            <li>• Akhirnya, terakhir</li>
                            <li>• Sambil, sementara itu</li>
                        </ul>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <div class="text-2xl mb-2">⏰</div>
                        <h4 class="font-semibold mb-2">Kata Keterangan</h4>
                        <ul class="text-xs space-y-1">
                            <li>• Dengan hati-hati</li>
                            <li>• Secara perlahan</li>
                            <li>• Hingga matang</li>
                            <li>• Sampai mendidih</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Dari 4 ciri teks prosedur di atas, mana 2 yang paling mudah kamu ingat? Tulis dan beri alasannya!"</p>
                </div>
            </div>
        </section>

        <!-- Section 6: Jenis-jenis -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">📝</span>
                    Jenis-jenis Teks Prosedur
                </h2>
                <div class="space-y-4">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold text-lg mb-2 flex items-center">
                            <span class="text-2xl mr-2">🟢</span>
                            Prosedur Sederhana
                        </h4>
                        <p class="text-sm mb-2">Berisi tahapan atau material yang tidak terlalu banyak</p>
                        <p class="text-xs bg-yellow-400 bg-opacity-90 text-gray-800 rounded px-2 py-1 inline-block">Contoh: Cara menyalakan komputer</p>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold text-lg mb-2 flex items-center">
                            <span class="text-2xl mr-2">🟡</span>
                            Prosedur Kompleks
                        </h4>
                        <p class="text-sm mb-2">Membutuhkan alat, bahan, dan waktu yang lebih banyak dibandingkan prosedur sederhana</p>
                        <p class="text-xs bg-yellow-400 bg-opacity-90 text-gray-800 rounded px-2 py-1 inline-block">Contoh: Cara merakit komputer</p>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold text-lg mb-2 flex items-center">
                            <span class="text-2xl mr-2">🔴</span>
                            Prosedur Protokol
                        </h4>
                        <p class="text-sm mb-2">Berisi tahapan yang bisa dilakukan dengan fleksibel</p>
                        <p class="text-xs bg-yellow-400 bg-opacity-90 text-gray-800 rounded px-2 py-1 inline-block">Contoh: Tata cara upacara bendera</p>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Coba pikirkan contoh lain dari kehidupan sehari-hari untuk setiap jenis prosedur! Yang pernah kamu lakukan sendiri."</p>
                </div>
            </div>
        </section>

        <!-- Section 7: Contoh -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">💡</span>
                    Contoh Teks Prosedur
                </h2>
                <div class="bg-white bg-opacity-20 rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-4 text-yellow-300">🍵 Cara Membuat Teh Hangat</h3>
                    
                    <div class="mb-4">
                        <h4 class="font-semibold mb-2">🎯 Tujuan:</h4>
                        <p class="text-sm">Membuat minuman teh hangat yang nikmat untuk dinikmati</p>
                    </div>
                    
                    <div class="mb-4">
                        <h4 class="font-semibold mb-2">🛠️ Bahan:</h4>
                        <ul class="text-sm list-disc list-inside space-y-1">
                            <li>1 kantong teh atau 1 sendok teh bubuk</li>
                            <li>200 ml air panas</li>
                            <li>Gula secukupnya (opsional)</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold mb-2">📋 Langkah-langkah:</h4>
                        <ol class="text-sm list-decimal list-inside space-y-1">
                            <li>Pertama, didihkan air hingga mendidih</li>
                            <li>Kedua, masukkan kantong teh ke dalam cangkir</li>
                            <li>Ketiga, tuang air panas ke dalam cangkir</li>
                            <li>Keempat, diamkan selama 3-5 menit</li>
                            <li>Terakhir, angkat kantong teh dan tambahkan gula jika *****</li>
                        </ol>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Tulis ulang cara membuat teh dengan gaya bahasamu sendiri! Seolah-olah kamu sedang mengajari temanmu."</p>
                </div>
            </div>
        </section>

        <!-- Section 8: Latihan Menulis -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">✍️</span>
                    Latihan Menulis
                </h2>
                <div class="bg-white bg-opacity-20 rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-4 text-yellow-300">📝 Tugas:</h3>
                    <p class="text-lg mb-4">Buatlah teks prosedur dengan tema:</p>
                    <div class="bg-yellow-400 bg-opacity-90 text-gray-800 rounded-lg p-4 text-center">
                        <h4 class="text-xl font-bold">🍳 "Cara Membuat Telur Balado"</h4>
                    </div>
                    <div class="mt-4 space-y-2 text-sm">
                        <p><strong>Struktur yang harus ada:</strong></p>
                        <ul class="list-disc list-inside space-y-1 ml-4">
                            <li>Tujuan (untuk membuat masakan telur balado yang lezat)</li>
                            <li>Bahan/Alat (telur, cabai, bawang, bumbu, dan peralatan masak)</li>
                            <li>Langkah-langkah (minimal 5 langkah memasak)</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Ini saatnya berkreasi! Tulis teks prosedur lengkap 'Cara Membuat Telur Balado' dengan resepmu sendiri. Jangan lupa struktur lengkapnya!"</p>
                </div>
            </div>
        </section>

        <!-- Section 9: Game Mengetik -->
        <section class="section bg-gradient-to-r from-green-400 to-blue-500 rounded-xl shadow-2xl overflow-hidden border-4 border-yellow-300">
            <div class="bg-white bg-opacity-95 p-8">
                <div class="text-center mb-6">
                    <div class="inline-block bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-6 py-3 rounded-full text-lg font-bold shadow-lg animate-pulse">
                        🎮 GAME AKTIF - MULAI MAIN SEKARANG! 🎮
                    </div>
                </div>
                <h2 class="text-4xl font-bold mb-6 flex items-center justify-center text-gray-800">
                    <span class="text-5xl mr-3 animate-bounce">🎮</span>
                    Game Mengetik: Rangkuman Materi
                    <span class="text-5xl ml-3 animate-bounce">🎮</span>
                </h2>
                <div class="bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300 rounded-lg p-6 mb-6 shadow-inner">
                    <h3 class="text-2xl font-bold mb-4 text-purple-800 text-center">🎯 PETUNJUK GAME 🎯</h3>
                    <div class="bg-white rounded-lg p-4 shadow-md">
                        <p class="text-lg mb-4 text-gray-800 font-medium">✨ Ketik rangkuman materi sesuai dengan bayangan teks yang muncul!</p>
                        <p class="text-lg text-gray-800 font-medium">🏆 Capai akurasi minimal 80% untuk lanjut ke topik berikutnya!</p>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-semibold">Progress:</span>
                            <span id="gameScore" class="bg-yellow-400 text-gray-800 px-3 py-1 rounded-full font-bold">0/5 Topik</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="progressBar" class="bg-yellow-400 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                    </div>

                    <div id="typingGame" class="space-y-4">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-100 border-3 border-blue-300 rounded-xl p-6 shadow-lg">
                            <div class="text-center mb-4">
                                <h4 class="text-2xl font-bold text-blue-800 bg-white px-4 py-2 rounded-full inline-block shadow-md" id="currentTopic">🎯 Topik 1: Pengertian Teks Prosedur</h4>
                            </div>
                            <div class="relative bg-white rounded-lg border-4 border-dashed border-blue-300 p-2">
                                <div class="text-center mb-2">
                                    <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold">👀 BAYANGAN TEKS - KETIK SESUAI INI!</span>
                                </div>
                                <div id="shadowText" class="text-gray-400 absolute top-12 left-0 p-3 pointer-events-none whitespace-pre-wrap font-mono text-lg leading-relaxed">Teks prosedur adalah jenis teks yang berisi langkah-langkah untuk melakukan sesuatu dengan urutan yang benar...</div>
                                <div id="coloredText" class="absolute top-12 left-0 p-3 pointer-events-none whitespace-pre-wrap font-mono text-lg leading-relaxed z-20"></div>
                                <textarea id="typingArea" class="w-full h-40 p-3 pt-12 border-0 rounded-lg resize-none bg-transparent relative z-10 text-lg leading-relaxed font-mono focus:outline-none focus:ring-4 focus:ring-blue-300 text-transparent caret-black" placeholder="🎮 Mulai mengetik di sini sesuai bayangan teks di atas..."></textarea>
                            </div>
                            <div class="flex justify-between items-center mt-4 bg-white rounded-lg p-4 shadow-md">
                                <div class="flex items-center space-x-4">
                                    <span class="text-lg font-bold text-gray-700">📊 Akurasi:</span>
                                    <span id="accuracy" class="text-2xl font-bold text-green-600 bg-green-100 px-3 py-1 rounded-full">0%</span>
                                </div>
                                <button id="nextTopic" class="bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white px-6 py-3 rounded-full font-bold text-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:transform-none shadow-lg" disabled>
                                    🚀 Lanjut Topik →
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Game Mengetik Aktif! 🎮</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tantangan Game:</p>
                    <p class="text-gray-700 italic">"Ketik rangkuman setiap topik dengan akurasi minimal 80% untuk membuka topik selanjutnya!"</p>
                </div>
            </div>
        </section>

        <!-- Section 10: Buku Catatan Digital -->
        <section id="digitalNotebook" class="section bg-white rounded-xl shadow-lg overflow-hidden" style="display: none;">
            <div class="content-card p-8">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <span class="text-4xl mr-3">📖</span>
                    Buku Catatan Digital Kamu
                </h2>
                <div class="bg-white bg-opacity-20 rounded-lg p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-yellow-300">✨ Rangkuman Pembelajaran</h3>
                        <button id="downloadNotes" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 px-4 py-2 rounded-lg transition-colors">
                            📥 Simpan Catatan
                        </button>
                    </div>
                    <div id="savedNotes" class="space-y-4">
                        <!-- Catatan akan muncul di sini -->
                    </div>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Selamat! Catatan Tersimpan! 🎉</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Catatan kamu sudah tersimpan:</p>
                    <p class="text-gray-700 italic">"Semua rangkuman yang kamu tulis sudah tersimpan dalam buku catatan digital yang cantik! Kamu bisa menyimpannya untuk belajar nanti."</p>
                </div>
            </div>
        </section>

        <!-- Section 11: Penutup -->
        <section class="section bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="content-card p-8 text-center">
                <h2 class="text-3xl font-bold mb-6 flex items-center justify-center">
                    <span class="text-4xl mr-3">🎉</span>
                </h2>
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">📖 Yang Telah Dipelajari:</h4>
                        <ul class="text-sm text-left space-y-1">
                            <li>• Pengertian teks prosedur</li>
                            <li>• Tujuan dan fungsinya</li>
                            <li>• Struktur: Tujuan, Bahan, Langkah</li>
                            <li>• Ciri-ciri khusus</li>
                            <li>• Jenis-jenis prosedur</li>
                        </ul>
                    </div>
                    <div class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">💪 Kemampuan Baru:</h4>
                        <ul class="text-sm text-left space-y-1">
                            <li>• Membaca teks prosedur</li>
                            <li>• Memahami struktur</li>
                            <li>• Menulis teks prosedur</li>
                            <li>• Menggunakan bahasa yang tepat</li>
                            <li>• Menyusun langkah sistematis</li>
                        </ul>
                    </div>
                </div>
                <div class="bg-yellow-400 bg-opacity-90 text-gray-800 rounded-lg p-4">
                    <h4 class="font-bold text-lg mb-2">🌟 Motivasi</h4>
                    <p class="text-sm">Dengan memahami teks prosedur, kamu bisa membantu orang lain melakukan sesuatu dengan benar. Terus berlatih menulis dan berbagi pengetahuanmu!</p>
                </div>
            </div>
            <div class="note-area p-6">
                <div class="flex items-center mb-3">
                    <svg class="icon-pen text-amber-600 mr-2" viewBox="0 0 24 24">
                        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                    </svg>
                    <h3 class="font-semibold text-amber-800">Tantangan untuk Buku Catatanmu! 📖</h3>
                </div>
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-r-lg">
                    <p class="text-gray-800 font-medium mb-2">🎯 Tulis di buku catatanmu:</p>
                    <p class="text-gray-700 italic">"Refleksi pembelajaran: Apa 3 hal paling menarik yang kamu pelajari hari ini? Dan bagaimana kamu akan menggunakan pengetahuan ini?"</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="bg-white shadow-md mt-12">
        <div class="container mx-auto px-4 py-6 text-center">
            <div class="flex items-center justify-center mb-2">
                <svg class="icon-ribbon text-amber-600 mr-2" viewBox="0 0 24 24">
                    <path d="M5 16L3 14v5.5c0 .83.67 1.5 1.5 1.5S6 20.33 6 19.5V16H5zM19 16h-1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V14l-2 2zM12 2L8 6v12l4-2 4 2V6l-4-4z"/>
                </svg>
                <p class="text-gray-600 font-medium">Selamat belajar! Semoga materi ini bermanfaat untuk kalian semua 📚✨</p>
            </div>
        </div>
    </footer>

    <script>
        // Game Data
        const gameTopics = [
            {
                title: "Topik 1: Pengertian Teks Prosedur",
                text: "Teks prosedur adalah jenis teks yang berisi langkah-langkah untuk melakukan sesuatu dengan urutan yang benar dan sistematis."
            },
            {
                title: "Topik 2: Tujuan Teks Prosedur", 
                text: "Tujuan teks prosedur adalah memberikan petunjuk, memudahkan aktivitas, menghindari kesalahan, dan berbagi pengetahuan kepada pembaca."
            },
            {
                title: "Topik 3: Struktur Teks Prosedur",
                text: "Struktur teks prosedur terdiri dari tujuan, alat dan bahan, langkah-langkah, dan penutup yang disusun secara sistematis."
            },
            {
                title: "Topik 4: Ciri-ciri Teks Prosedur",
                text: "Ciri-ciri teks prosedur meliputi kalimat perintah, kata bilangan, kata hubung, dan kata keterangan yang menunjukkan urutan."
            },
            {
                title: "Topik 5: Jenis-jenis Teks Prosedur",
                text: "Jenis teks prosedur dibagi menjadi prosedur sederhana, prosedur kompleks, dan prosedur protokol berdasarkan tingkat kesulitannya."
            }
        ];

        let currentTopicIndex = 0;
        let completedTopics = 0;
        let savedNotes = [];

        // Game Elements
        const shadowText = document.getElementById('shadowText');
        const typingArea = document.getElementById('typingArea');
        const accuracy = document.getElementById('accuracy');
        const nextTopicBtn = document.getElementById('nextTopic');
        const currentTopicTitle = document.getElementById('currentTopic');
        const gameScore = document.getElementById('gameScore');
        const progressBar = document.getElementById('progressBar');

        // Initialize game
        function initGame() {
            loadTopic(currentTopicIndex);
        }

        function loadTopic(index) {
            if (index >= gameTopics.length) {
                completeGame();
                return;
            }

            const topic = gameTopics[index];
            currentTopicTitle.textContent = topic.title;
            shadowText.textContent = topic.text;
            typingArea.value = '';
            nextTopicBtn.disabled = true;
            
            // Reset colored text
            document.getElementById('coloredText').innerHTML = '';
            
            updateAccuracy();
        }

        function calculateAccuracy(typed, target) {
            if (typed.length === 0) return 0;
            
            let correct = 0;
            const minLength = Math.min(typed.length, target.length);
            
            for (let i = 0; i < minLength; i++) {
                if (typed[i] === target[i]) {
                    correct++;
                }
            }
            
            return Math.round((correct / target.length) * 100);
        }

        function updateAccuracy() {
            const typed = typingArea.value;
            const target = gameTopics[currentTopicIndex].text;
            const acc = calculateAccuracy(typed, target);
            
            accuracy.textContent = acc + '%';
            
            // Update colored text display
            updateColoredText(typed, target);
            
            // Enable next button if accuracy >= 80% and typed length >= 80% of target
            if (acc >= 80 && typed.length >= target.length * 0.8) {
                nextTopicBtn.disabled = false;
                nextTopicBtn.textContent = currentTopicIndex === gameTopics.length - 1 ? 'Selesai! 🎉' : 'Lanjut Topik →';
            } else {
                nextTopicBtn.disabled = true;
            }
        }

        function updateColoredText(typed, target) {
            const coloredTextElement = document.getElementById('coloredText');
            let coloredHTML = '';
            
            for (let i = 0; i < target.length; i++) {
                if (i < typed.length) {
                    if (typed[i] === target[i]) {
                        // Correct character - green background
                        coloredHTML += `<span style="background-color: #22c55e; color: white; border-radius: 2px;">${target[i]}</span>`;
                    } else {
                        // Incorrect character - red background
                        coloredHTML += `<span style="background-color: #ef4444; color: white; border-radius: 2px;">${target[i]}</span>`;
                    }
                } else {
                    // Not typed yet - transparent
                    coloredHTML += target[i];
                }
            }
            
            coloredTextElement.innerHTML = coloredHTML;
        }

        function nextTopic() {
            // Save current note
            savedNotes.push({
                topic: gameTopics[currentTopicIndex].title,
                content: typingArea.value,
                accuracy: calculateAccuracy(typingArea.value, gameTopics[currentTopicIndex].text)
            });

            completedTopics++;
            currentTopicIndex++;
            
            // Update progress
            gameScore.textContent = `${completedTopics}/5 Topik`;
            progressBar.style.width = `${(completedTopics / 5) * 100}%`;

            if (currentTopicIndex >= gameTopics.length) {
                completeGame();
            } else {
                loadTopic(currentTopicIndex);
            }
        }

        function completeGame() {
            // Hide game section and show notebook
            document.getElementById('typingGame').parentElement.parentElement.style.display = 'none';
            document.getElementById('digitalNotebook').style.display = 'block';
            
            // Generate notebook content
            generateNotebook();
            
            // Scroll to notebook
            document.getElementById('digitalNotebook').scrollIntoView({ behavior: 'smooth' });
        }

        function generateNotebook() {
            const notesContainer = document.getElementById('savedNotes');
            notesContainer.innerHTML = '';

            savedNotes.forEach((note, index) => {
                const noteElement = document.createElement('div');
                noteElement.className = 'bg-gradient-to-r from-yellow-50 to-amber-50 border-l-4 border-yellow-400 rounded-lg p-4 shadow-sm';
                noteElement.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-gray-800">${note.topic}</h4>
                        <span class="bg-yellow-400 text-gray-800 px-2 py-1 rounded-full text-xs font-bold">${note.accuracy}% akurat</span>
                    </div>
                    <div class="bg-white rounded-lg p-3 shadow-inner">
                        <p class="text-gray-700 leading-relaxed">${note.content}</p>
                    </div>
                    <div class="mt-2 text-xs text-gray-500">
                        📝 Ditulis dengan akurasi ${note.accuracy}% • ${new Date().toLocaleDateString('id-ID')}
                    </div>
                `;
                notesContainer.appendChild(noteElement);
            });
        }

        function downloadNotes() {
            // Create comprehensive notes content
            let notesText = "📖 BUKU CATATAN DIGITAL - TEKS PROSEDUR\n";
            notesText += "=".repeat(60) + "\n\n";
            notesText += `📅 Tanggal Pembelajaran: ${new Date().toLocaleDateString('id-ID', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            })}\n`;
            notesText += `🎯 Total Topik Diselesaikan: ${completedTopics}/5 Topik\n`;
            notesText += `⏰ Waktu Selesai: ${new Date().toLocaleTimeString('id-ID')}\n\n`;

            // Add learning summary
            notesText += "📚 RANGKUMAN PEMBELAJARAN\n";
            notesText += "-".repeat(40) + "\n\n";

            if (savedNotes.length > 0) {
                savedNotes.forEach((note, index) => {
                    notesText += `${index + 1}. ${note.topic.replace(/🎯 /, '')}\n`;
                    notesText += "   " + "=".repeat(35) + "\n";
                    notesText += `   📝 Catatan: ${note.content}\n`;
                    notesText += `   ✅ Tingkat Akurasi: ${note.accuracy}%\n`;
                    notesText += `   📊 Status: ${note.accuracy >= 80 ? 'LULUS ✅' : 'PERLU PERBAIKAN ⚠️'}\n\n`;
                });
            } else {
                notesText += "Belum ada catatan yang tersimpan.\n\n";
            }

            // Add learning objectives achieved
            notesText += "🎯 TUJUAN PEMBELAJARAN YANG DICAPAI\n";
            notesText += "-".repeat(40) + "\n";
            notesText += "✅ Memahami pengertian teks prosedur\n";
            notesText += "✅ Mengetahui tujuan teks prosedur\n";
            notesText += "✅ Memahami struktur teks prosedur\n";
            notesText += "✅ Mengenali ciri-ciri teks prosedur\n";
            notesText += "✅ Membedakan jenis-jenis teks prosedur\n\n";

            // Add reflection section
            notesText += "💭 REFLEKSI PEMBELAJARAN\n";
            notesText += "-".repeat(40) + "\n";
            notesText += "Tulis refleksimu di sini:\n";
            notesText += "• Apa yang paling menarik dari pembelajaran ini?\n";
            notesText += "• Bagian mana yang masih perlu dipelajari lebih lanjut?\n";
            notesText += "• Bagaimana kamu akan menerapkan pengetahuan ini?\n\n";

            // Add motivational closing
            notesText += "🌟 PESAN MOTIVASI\n";
            notesText += "-".repeat(40) + "\n";
            notesText += "Selamat! Kamu telah menyelesaikan pembelajaran Teks Prosedur!\n";
            notesText += "Dengan memahami teks prosedur, kamu bisa membantu orang lain\n";
            notesText += "melakukan sesuatu dengan benar dan sistematis.\n\n";
            notesText += "Terus semangat belajar dan berbagi pengetahuan! 📚✨\n\n";
            
            notesText += "---\n";
            notesText += "Dibuat dengan ❤️ oleh Sistem Pembelajaran Interaktif\n";
            notesText += `File dibuat pada: ${new Date().toLocaleString('id-ID')}\n`;

            // Create and download file
            try {
                const blob = new Blob([notesText], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Catatan-Teks-Prosedur-${new Date().toLocaleDateString('id-ID').replace(/\//g, '-')}.txt`;
                a.style.display = 'none';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                // Show success message
                showDownloadSuccess();
            } catch (error) {
                console.error('Error downloading notes:', error);
                alert('Maaf, terjadi kesalahan saat mengunduh catatan. Silakan coba lagi.');
            }
        }

        function showDownloadSuccess() {
            // Create success notification
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            notification.innerHTML = `
                <div class="flex items-center">
                    <span class="text-2xl mr-3">✅</span>
                    <div>
                        <div class="font-bold">Catatan Berhasil Diunduh!</div>
                        <div class="text-sm opacity-90">File tersimpan di folder Download</div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(full)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Event Listeners
        typingArea.addEventListener('input', updateAccuracy);
        nextTopicBtn.addEventListener('click', nextTopic);
        document.getElementById('downloadNotes').addEventListener('click', downloadNotes);

        // Initialize game when page loads
        initGame();

        // Smooth scroll animation for sections
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationDelay = '0.2s';
                    entry.target.classList.add('animate-fade-in');
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Add scroll-to-top functionality
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop;
            if (scrollTop > 300) {
                if (!document.getElementById('scrollTopBtn')) {
                    const scrollBtn = document.createElement('button');
                    scrollBtn.id = 'scrollTopBtn';
                    scrollBtn.innerHTML = '↑';
                    scrollBtn.className = 'fixed bottom-6 right-6 bg-yellow-400 hover:bg-yellow-500 text-gray-800 w-12 h-12 rounded-full shadow-lg transition-all duration-300 font-bold text-xl z-50';
                    scrollBtn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
                    document.body.appendChild(scrollBtn);
                }
            } else {
                const scrollBtn = document.getElementById('scrollTopBtn');
                if (scrollBtn) {
                    scrollBtn.remove();
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97a5569ab51e6d09',t:'MTc1NzA3MTIzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>
  function showSlide(id) {
    // Sembunyikan semua slide
    document.querySelectorAll('.slide').forEach(s => s.classList.add('hidden'));
    // Tampilkan slide sesuai id
    document.getElementById(id).classList.remove('hidden');
  }

  function showMateri(id) {
    // Sembunyikan semua slide
    document.querySelectorAll('.slide').forEach(s => s.classList.add('hidden'));
    // Tampilkan materi sesuai id
    document.getElementById('materi-' + id).classList.remove('hidden');
  }
</script>
</body>
</html>

                
                <div class="text-center">
                    <button onclick="showSlide('slide-kuis')" class="bg-gradient-to-r from-orange-400 to-orange-600 hover:from-orange-500 hover:to-orange-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Slide 4: Kuis Interaktif -->
        <div id="slide-kuis" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-4xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-gaya-belajar')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-blue-800 mb-4">🎯 Kuis Interaktif</h2>
                    <p class="text-blue-600">Uji pemahamanmu tentang teks prosedur!</p>
                    
                    <div class="flex justify-center items-center gap-4 mt-4 flex-wrap">
                        <div class="text-sm text-gray-600">Soal <span id="current-question">1</span> dari <span id="total-questions">5</span></div>
                        <div class="w-48 bg-gray-200 rounded-full h-2">
                            <div id="progress-bar" class="progress-bar bg-blue-500 h-2 rounded-full" style="width: 20%"></div>
                        </div>
                        <div class="text-sm font-medium text-blue-600">Skor: <span id="quiz-score">0</span></div>
                        <div class="text-sm font-medium text-purple-600">⏱️ Waktu: <span id="quiz-timer">00:00</span></div>
                    </div>
                </div>
                
                <div id="quiz-container">
                    <div id="question-card" class="bg-blue-50 rounded-2xl p-6 mb-6">
                        <h3 id="question-text" class="text-xl font-semibold text-blue-800 mb-4"></h3>
                        <div id="question-options" class="space-y-3"></div>
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prev-btn" onclick="previousQuestion()" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg disabled:opacity-50" disabled>
                            ← Sebelumnya
                        </button>
                        <button id="next-btn" onclick="nextQuestion()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            Selanjutnya →
                        </button>
                    </div>
                </div>
                
                <div id="quiz-result" class="hidden text-center">
                    <div class="bg-gradient-to-br from-green-100 to-green-200 rounded-2xl p-8">
                        <div class="text-6xl mb-4">🎉</div>
                        <h3 class="text-2xl font-bold text-green-800 mb-4">Selamat!</h3>
                        <p class="text-green-700 mb-4">Kamu telah menyelesaikan kuis!</p>
                        
                        <!-- Quiz Statistics -->
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                            <div class="bg-white rounded-xl p-4 shadow-md">
                                <div class="text-3xl mb-2">🎯</div>
                                <div class="text-lg font-bold text-green-800"><span id="final-score">0</span>/5</div>
                                <div class="text-sm text-green-600">Jawaban Benar</div>
                            </div>
                            <div class="bg-white rounded-xl p-4 shadow-md">
                                <div class="text-3xl mb-2">⏱️</div>
                                <div class="text-lg font-bold text-blue-800"><span id="final-time">00:00</span></div>
                                <div class="text-sm text-blue-600">Total Waktu</div>
                            </div>
                            <div class="bg-white rounded-xl p-4 shadow-md">
                                <div class="text-3xl mb-2">⚡</div>
                                <div class="text-lg font-bold text-purple-800"><span id="time-bonus">0</span></div>
                                <div class="text-sm text-purple-600">Bonus Waktu</div>
                            </div>
                            <div class="bg-white rounded-xl p-4 shadow-md">
                                <div class="text-3xl mb-2">🏆</div>
                                <div class="text-lg font-bold text-yellow-800"><span id="total-points">0</span></div>
                                <div class="text-sm text-yellow-600">Total Poin</div>
                            </div>
                        </div>
                        
                        <!-- Performance Analysis -->
                        <div class="bg-white rounded-xl p-6 mb-6 shadow-md">
                            <h4 class="text-lg font-bold text-gray-800 mb-4">📊 Analisis Performa</h4>
                            <div class="grid md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <div class="font-medium text-gray-700 mb-2">⏰ Waktu per Soal:</div>
                                    <div id="question-times-display" class="space-y-1"></div>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-700 mb-2">🎖️ Pencapaian:</div>
                                    <div id="achievements-display" class="space-y-1"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="score-message" class="text-green-700 mb-6"></div>
                        <button onclick="showSlide('slide-rangkuman')" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                            Lihat Rangkuman 📚
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Rangkuman -->
        <div id="slide-rangkuman" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mx-auto max-w-6xl">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="showSlide('slide-cover')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        🏠 Home
                    </button>
                    <button onclick="showSlide('slide-kuis')" class="flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium">
                        ← Sebelumnya
                    </button>
                </div>
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold text-blue-800 mb-4">📚 Rangkuman Materi</h2>
                    <p class="text-blue-600">Ringkasan lengkap tentang Teks Prosedur</p>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8 mb-8">
                    <!-- Infografis Rangkuman -->
                    <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-blue-800 mb-4">🎨 Infografis Lengkap</h3>
                        <div class="bg-white rounded-lg p-3">
                            <svg viewBox="0 0 400 300" class="w-full h-48">
                                <!-- Teks Prosedur Title -->
                                <rect x="50" y="20" width="300" height="40" fill="#3b82f6" rx="20"/>
                                <text x="200" y="45" text-anchor="middle" class="text-sm font-bold" fill="white">TEKS PROSEDUR</text>
                                
                                <!-- Struktur -->
                                <rect x="20" y="80" width="97" height="30" fill="#dbeafe" rx="15"/>
                                <text x="70" y="100" text-anchor="middle" class="text-xs font-medium" fill="#1e40af">Tujuan</text>
                                
                                <rect x="150" y="80" width="97" height="30" fill="#e0e7ff" rx="15"/>
                                <text x="200" y="100" text-anchor="middle" class="text-xs font-medium" fill="#3730a3">Bahan/Alat</text>
                                
                                <rect x="280" y="80" width="97" height="30" fill="#f3e8ff" rx="15"/>
                                <text x="330" y="100" text-anchor="middle" class="text-xs font-medium" fill="#581c87">Langkah</text>
                                
                                <rect x="410" y="80" width="97" height="30" fill="#fce7f3" rx="15"/>
                                <text x="460" y="100" text-anchor="middle" class="text-xs font-medium" fill="#86198f">Penutup</text>
                                
                                <!-- Ciri-ciri -->
                                <text x="200" y="140" text-anchor="middle" class="text-sm font-semibold" fill="#1f2937">Ciri-ciri Kebahasaan:</text>
                                <text x="200" y="160" text-anchor="middle" class="text-xs" fill="#374151">• Kalimat perintah • Kata kerja aktif</text>
                                <text x="200" y="175" text-anchor="middle" class="text-xs" fill="#374151">• Konjungsi temporal • Kata bilangan</text>
                                
                                <!-- Contoh -->
                                <rect x="50" y="200" width="300" height="60" fill="#fef3c7" rx="10"/>
                                <text x="200" y="220" text-anchor="middle" class="text-xs font-medium" fill="#92400e">Contoh: Resep masakan, Tutorial,</text>
                                <text x="200" y="235" text-anchor="middle" class="text-xs font-medium" fill="#92400e">Cara menggunakan alat, Panduan</text>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Rangkuman Teks -->
                    <div class="bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl p-6">
                        <h3 class="text-xl font-semibold text-green-800 mb-4">📝 Poin Penting</h3>
                        <div class="bg-white rounded-xl p-4 text-sm space-y-3">
                            <div class="flex items-start gap-3">
                                <span class="text-green-600 font-bold">1.</span>
                                <div>
                                    <strong>Definisi:</strong> Teks yang berisi langkah-langkah sistematis untuk mencapai tujuan tertentu.
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-blue-600 font-bold">2.</span>
                                <div>
                                    <strong>Struktur:</strong> Tujuan → Bahan/Alat → Langkah-langkah
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-purple-600 font-bold">3.</span>
                                <div>
                                    <strong>Fungsi:</strong> Memberikan petunjuk yang jelas dan mudah diikuti.
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="text-orange-600 font-bold">4.</span>
                                <div>
                                    <strong>Jenis:</strong> Resep, tutorial, manual, panduan, instruksi.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Audio Rangkuman -->
                <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-6 mb-8">
                    <h3 class="text-xl font-semibold text-purple-800 mb-4">🎧 Rangkuman Audio</h3>
                    <div class="text-center">
                        <button onclick="playSummaryAudio()" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg text-lg mb-4">
                            🔊 Dengarkan Rangkuman
                        </button>
                        <p class="text-purple-700 text-sm">Dengarkan rangkuman lengkap materi teks prosedur</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="showSlide('slide-penutup')" class="bg-gradient-to-r from-blue-400 to-purple-600 hover:from-blue-500 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        Selanjutnya 🚀
                    </button>
                </div>
            </div>
        </div>

        <!-- Slide 6: Penutup -->
        <div id="slide-penutup" class="slide hidden fade-in">
            <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-12 mx-auto max-w-4xl text-center">
                <div class="mb-8">
                    <div class="text-6xl mb-6 bounce-animation">🌟</div>
                    <h2 class="text-4xl font-bold text-blue-800 mb-6">Selamat!</h2>
                    <div class="bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl p-8 mb-8">
                        <p class="text-xl text-gray-700 italic leading-relaxed">
                            "Belajar adalah perjalanan, bukan tujuan.<br>
                            Teruslah mencoba, langkah kecilmu berarti besar."
                        </p>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-green-100 rounded-xl p-4">
                            <div class="text-2xl mb-2">✅</div>
                            <h3 class="font-semibold text-green-800">Materi Selesai</h3>
                            <p class="text-sm text-green-700">Kamu telah mempelajari teks prosedur</p>
                        </div>
                        <div class="bg-blue-100 rounded-xl p-4">
                            <div class="text-2xl mb-2">🎯</div>
                            <h3 class="font-semibold text-blue-800">Kuis Selesai</h3>
                            <p class="text-sm text-blue-700">Pemahaman telah diuji</p>
                        </div>
                        <div class="bg-purple-100 rounded-xl p-4">
                            <div class="text-2xl mb-2">🏆</div>
                            <h3 class="font-semibold text-purple-800">Siap Praktik</h3>
                            <p class="text-sm text-purple-700">Terapkan dalam kehidupan</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-center gap-4">
                    <button onclick="showSlide('slide-cover')" class="bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        🔄 Mulai Lagi
                    </button>
                    <button onclick="window.close()" class="bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg card-hover">
                        🚪 Keluar
                    </button>
                </div>
                
        
                    <div class="mt-8 text-sm text-gray-500">
                    <p>Terima kasih telah belajar dengan RIMA!</p>
                    <p class="mt-2">💙 Dibuat dengan cinta untuk pembelajaran yang menyenangkan</p>
                    <p class="mt-2">📚 Daftar Pustaka: [Chatgpt,canva,Onecompiler,Jsfidlle,gemini,brainacademy.id] © 2025 Helda</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let userAnswers = [];
        let sequenceItems = [];
        let puzzleOrder = [];
        let textAnalysis = { tujuan: '', bahan: '', langkah: '' };
        
        // Timer variables
        let quizStartTime = null;
        let quizEndTime = null;
        let totalTimeSpent = 0;
        let questionStartTime = null;
        let questionTimes = [];
        let timerInterval = null;
        
        // Quiz questions
        const quizQuestions = [
            {
                question: "Apa yang dimaksud dengan teks prosedur?",
                options: [
                    "Teks yang menceritakan pengalaman pribadi",
                    "Teks yang berisi langkah-langkah melakukan sesuatu",
                    "Teks yang menjelaskan suatu fenomena",
                    "Teks yang berisi argumentasi"
                ],
                correct: 1
            },
            {
                question: "Struktur teks prosedur yang benar adalah...",
                options: [
                    "Orientasi - Komplikasi - Resolusi",
                    "Tesis - Argumentasi - Kesimpulan",
                    "Tujuan - Bahan/Alat - Langkah-langkah- Penutup",
                    "Pernyataan Umum - Aspek yang Dilaporkan"
                ],
                correct: 2
            },
            {
                question: "Ciri kebahasaan teks prosedur adalah...",
                options: [
                    "Menggunakan kalimat tanya",
                    "Menggunakan kalimat perintah",
                    "Menggunakan kalimat berita",
                    "Menggunakan kalimat seru"
                ],
                correct: 1
            },
            {
                question: "Konjungsi yang sering digunakan dalam teks prosedur adalah...",
                options: [
                    "Tetapi, namun, akan tetapi",
                    "Kemudian, lalu, setelah itu",
                    "Karena, sebab, akibat",
                    "Jika, apabila, seandainya"
                ],
                correct: 1
            },
            {
                question: "Tujuan utama teks prosedur adalah...",
                options: [
                    "Menghibur pembaca",
                    "Meyakinkan pembaca",
                    "Memberikan petunjuk yang jelas",
                    "Menceritakan kejadian"
                ],
                correct: 2
            }
        ];

        // Show slide function
        function showSlide(slideId) {
            // Hide all slides
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => {
                slide.classList.add('hidden');
            });
            
            // Show target slide
            const targetSlide = document.getElementById(slideId);
            if (targetSlide) {
                targetSlide.classList.remove('hidden');
                targetSlide.classList.add('fade-in');
            }
            
            // Initialize quiz if showing quiz slide
            if (slideId === 'slide-kuis') {
                initializeQuiz();
            }
        }

        // Show materi function
        function showMateri(type) {
            showSlide(`materi-${type}`);
        }

        // Spot the Mistake Game Variables
        let spotGameActive = false;
        let spotScore = 0;
        let mistakesFound = 0;
        let spotTimer = 60;
        let spotTimerInterval;
        let currentGameLevel = 1;
        let totalMistakesInLevel = 1;
        let levelPoints = 0;
        let totalMistakesFoundAllLevels = 0;
        let hintsRemaining = 3;
        let hintUsedInLevel = false;

        // Game Level Data
        const gameLevels = [
            {
                id: 1,
                title: "☕ Level 1: Cara Membuat Teh Panas",
                mistakes: 1,
                basePoints: 50,
                steps: [
                    { text: "1. Memasukkan gula ke gelas", correct: true, icon: "🍯" },
                    { text: "2. Memasukkan teh celup", correct: false, mistake: "Seharusnya menuangkan air panas dulu, baru masukkan teh celup!", icon: "🫖" },
                    { text: "3. Menuangkan air panas", correct: true, icon: "💧" },
                    { text: "4. Mengaduk dengan sendok", correct: true, icon: "🥄" }
                ]
            },
            {
                id: 2,
                title: "🧼 Level 2: Mencuci Tangan dengan Benar",
                mistakes: 1,
                basePoints: 60,
                steps: [
                    { text: "1. Basahi tangan dengan air", correct: true, icon: "💧" },
                    { text: "2. Tuangkan sabun ke telapak tangan", correct: true, icon: "🧴" },
                    { text: "3. Gosok tangan selama 5 detik", correct: false, mistake: "Seharusnya gosok tangan minimal 20 detik, bukan 5 detik!", icon: "⏰" },
                    { text: "4. Bilas dengan air bersih", correct: true, icon: "🚿" },
                    { text: "5. Keringkan dengan handuk bersih", correct: true, icon: "🏠" }
                ]
            },
            {
                id: 3,
                title: "🍊 Level 3: Membuat Jus Jeruk",
                mistakes: 2,
                basePoints: 70,
                steps: [
                    { text: "1. Siapkan jeruk dan blender", correct: true, icon: "🍊" },
                    { text: "2. Kupas jeruk dan buang bijinya", correct: true, icon: "🔪" },
                    { text: "3. Masukkan jeruk ke blender tanpa air", correct: false, mistake: "Seharusnya tambahkan sedikit air agar mudah diblender!", icon: "🥤" },
                    { text: "4. Blender selama 2 menit", correct: true, icon: "⚡" },
                    { text: "5. Saring jus dan tambahkan es batu", correct: false, mistake: "Seharusnya tambahkan gula dulu sebelum es batu!", icon: "🧊" }
                ]
            },
            {
                id: 4,
                title: "🦷 Level 4: Menyikat Gigi",
                mistakes: 2,
                basePoints: 80,
                steps: [
                    { text: "1. Siapkan sikat gigi dan pasta gigi", correct: true, icon: "🪥" },
                    { text: "2. Basahi sikat gigi dengan air panas", correct: false, mistake: "Seharusnya gunakan air dingin atau suam-suam kuku, bukan air panas!", icon: "💧" },
                    { text: "3. Oleskan pasta gigi secukupnya", correct: true, icon: "🧴" },
                    { text: "4. Sikat gigi dengan gerakan memutar", correct: true, icon: "🔄" },
                    { text: "5. Sikat selama 30 detik", correct: false, mistake: "Seharusnya sikat gigi minimal 2 menit, bukan 30 detik!", icon: "⏰" },
                    { text: "6. Kumur dengan air bersih", correct: true, icon: "🚿" }
                ]
            },
            {
                id: 5,
                title: "🍜 Level 5: Membuat Mie Instan",
                mistakes: 2,
                basePoints: 90,
                steps: [
                    { text: "1. Siapkan mie instan dan bumbu", correct: true, icon: "🍜" },
                    { text: "2. Masukkan mie ke air dingin", correct: false, mistake: "Seharusnya masukkan mie ke air yang sudah mendidih!", icon: "💧" },
                    { text: "3. Masak mie selama 3 menit", correct: true, icon: "⏰" },
                    { text: "4. Masukkan bumbu setelah mie matang", correct: false, mistake: "Seharusnya masukkan bumbu bersamaan dengan mie atau sebelumnya!", icon: "🧂" },
                    { text: "5. Aduk rata dan angkat", correct: true, icon: "🥄" },
                    { text: "6. Sajikan selagi hangat", correct: true, icon: "🍽️" }
                ]
            },
            {
                id: 6,
                title: "🥪 Level 6: Membuat Sandwich",
                mistakes: 3,
                basePoints: 100,
                steps: [
                    { text: "1. Siapkan roti tawar, selai, dan keju", correct: true, icon: "🍞" },
                    { text: "2. Panggang roti hingga kecokelatan", correct: true, icon: "🔥" },
                    { text: "3. Oleskan selai di kedua sisi roti", correct: false, mistake: "Seharusnya oleskan selai hanya di satu sisi roti!", icon: "🍯" },
                    { text: "4. Letakkan keju di atas roti", correct: true, icon: "🧀" },
                    { text: "5. Tambahkan sayuran segar", correct: true, icon: "🥬" },
                    { text: "6. Tutup dengan roti yang sudah dipanggang", correct: false, mistake: "Seharusnya tutup dengan roti yang belum diolesi selai!", icon: "🍞" },
                    { text: "7. Potong diagonal dan sajikan", correct: false, mistake: "Seharusnya tekan dulu sandwich agar tidak berantakan sebelum dipotong!", icon: "🔪" }
                ]
            },
            {
                id: 7,
                title: "🌸 Level 7: Menanam Bunga di Pot",
                mistakes: 3,
                basePoints: 110,
                steps: [
                    { text: "1. Siapkan pot, tanah, dan bibit bunga", correct: true, icon: "🪴" },
                    { text: "2. Isi pot dengan tanah hingga penuh", correct: false, mistake: "Seharusnya isi pot dengan tanah hanya 3/4 bagian, sisakan ruang untuk air!", icon: "🏺" },
                    { text: "3. Buat lubang di tengah tanah", correct: true, icon: "🕳️" },
                    { text: "4. Masukkan bibit bunga ke lubang", correct: true, icon: "🌱" },
                    { text: "5. Tutup dengan tanah dan padatkan", correct: true, icon: "👋" },
                    { text: "6. Siram dengan air dingin", correct: false, mistake: "Seharusnya siram dengan air suam-suam kuku, bukan air dingin!", icon: "💧" },
                    { text: "7. Letakkan di tempat gelap", correct: false, mistake: "Seharusnya letakkan di tempat yang terkena sinar matahari!", icon: "☀️" },
                    { text: "8. Siram secara rutin setiap hari", correct: true, icon: "🚿" }
                ]
            },
            {
                id: 8,
                title: "👔 Level 8: Menyetrika Baju",
                mistakes: 3,
                basePoints: 120,
                steps: [
                    { text: "1. Siapkan setrika dan papan setrika", correct: true, icon: "👔" },
                    { text: "2. Panaskan setrika dengan suhu tinggi", correct: false, mistake: "Seharusnya sesuaikan suhu setrika dengan jenis kain!", icon: "🔥" },
                    { text: "3. Bentangkan baju di papan setrika", correct: true, icon: "👕" },
                    { text: "4. Mulai setrika dari bagian kerah", correct: true, icon: "📐" },
                    { text: "5. Setrika baju dalam keadaan kering", correct: false, mistake: "Seharusnya baju sedikit lembap agar mudah disetrika!", icon: "💧" },
                    { text: "6. Setrika dengan gerakan maju-mundur", correct: false, mistake: "Seharusnya setrika dengan gerakan searah, jangan maju-mundur!", icon: "➡️" },
                    { text: "7. Lipat baju setelah dingin", correct: true, icon: "📦" },
                    { text: "8. Simpan di lemari dengan rapi", correct: true, icon: "🏠" }
                ]
            },
            {
                id: 9,
                title: "🧁 Level 9: Membuat Kue Sederhana",
                mistakes: 3,
                basePoints: 130,
                steps: [
                    { text: "1. Siapkan tepung, telur, gula, dan mentega", correct: true, icon: "🥚" },
                    { text: "2. Kocok telur hingga berbusa", correct: true, icon: "🥄" },
                    { text: "3. Tambahkan gula dan aduk rata", correct: true, icon: "🍯" },
                    { text: "4. Masukkan tepung sekaligus", correct: false, mistake: "Seharusnya masukkan tepung sedikit demi sedikit sambil diaduk!", icon: "🌾" },
                    { text: "5. Tambahkan mentega cair panas", correct: false, mistake: "Seharusnya mentega cair dalam suhu ruang, bukan panas!", icon: "🧈" },
                    { text: "6. Aduk adonan hingga kalis", correct: false, mistake: "Seharusnya aduk adonan hingga rata saja, jangan sampai kalis!", icon: "🔄" },
                    { text: "7. Tuang ke loyang yang sudah diolesi mentega", correct: true, icon: "🍰" },
                    { text: "8. Panggang dalam oven 180°C selama 25 menit", correct: true, icon: "🔥" },
                    { text: "9. Keluarkan dan dinginkan sebelum disajikan", correct: true, icon: "❄️" }
                ]
            },
            {
                id: 10,
                title: "🎒 Level 10: Menyiapkan Perjalanan (Packing)",
                mistakes: 4,
                basePoints: 150,
                steps: [
                    { text: "1. Buat daftar barang yang diperlukan", correct: true, icon: "📝" },
                    { text: "2. Siapkan koper atau tas travel", correct: true, icon: "🧳" },
                    { text: "3. Lipat pakaian dengan rapi", correct: true, icon: "👕" },
                    { text: "4. Masukkan pakaian berat di bagian bawah", correct: false, mistake: "Seharusnya masukkan pakaian berat di bagian atas koper!", icon: "⬇️" },
                    { text: "5. Bawa obat-obatan dalam kemasan besar", correct: false, mistake: "Seharusnya bawa obat-obatan dalam kemasan kecil sesuai kebutuhan!", icon: "💊" },
                    { text: "6. Masukkan cairan dalam botol 500ml", correct: false, mistake: "Seharusnya cairan dalam botol maksimal 100ml untuk penerbangan!", icon: "🧴" },
                    { text: "7. Simpan dokumen penting di tas kecil", correct: true, icon: "📄" },
                    { text: "8. Bawa charger dan kabel dalam tas terpisah", correct: true, icon: "🔌" },
                    { text: "9. Cek berat koper sebelum berangkat", correct: true, icon: "⚖️" },
                    { text: "10. Bawa tas kosong untuk oleh-oleh", correct: false, mistake: "Seharusnya bawa tas lipat yang tidak memakan tempat!", icon: "🛍️" }
                ]
            }
        ];

        // Spot the Mistake Game Functions
        function startSpotGame() {
            spotGameActive = true;
            mistakesFound = 0;
            levelPoints = 0;
            spotTimer = 60;
            hintUsedInLevel = false;
            
            // Load current level
            loadLevel(currentGameLevel);
            
            // Update UI
            updateGameUI();
            document.getElementById('start-spot-game').classList.add('hidden');
            document.getElementById('hint-btn').classList.remove('hidden');
            document.getElementById('reset-spot-game').classList.remove('hidden');
            document.getElementById('level-complete').classList.add('hidden');
            document.getElementById('game-complete').classList.add('hidden');
            
            // Update hint button state
            updateHintButton();
            
            // Start timer
            spotTimerInterval = setInterval(() => {
                spotTimer--;
                document.getElementById('spot-timer').textContent = spotTimer;
                
                if (spotTimer <= 0) {
                    endLevel();
                }
            }, 1000);
        }

        function loadLevel(levelNum) {
            const level = gameLevels[levelNum - 1];
            if (!level) return;
            
            totalMistakesInLevel = level.mistakes;
            
            // Update level info
            document.getElementById('level-title').textContent = level.title;
            document.getElementById('current-level').textContent = levelNum;
            document.getElementById('total-mistakes').textContent = level.mistakes;
            document.getElementById('level-progress').style.width = `${(levelNum / 10) * 100}%`;
            
            // Generate steps
            const stepsContainer = document.getElementById('steps-container');
            stepsContainer.innerHTML = '';
            
            // Determine grid layout based on number of steps
            const stepCount = level.steps.length;
            let gridClass = 'grid-cols-2';
            if (stepCount <= 4) gridClass = 'md:grid-cols-2 lg:grid-cols-4';
            else if (stepCount <= 6) gridClass = 'md:grid-cols-2 lg:grid-cols-3';
            else if (stepCount <= 8) gridClass = 'md:grid-cols-2 lg:grid-cols-4';
            else gridClass = 'md:grid-cols-3 lg:grid-cols-5';
            
            stepsContainer.className = `grid gap-4 mb-6 ${gridClass}`;
            
            level.steps.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = `step-card bg-blue-50 rounded-lg p-4 text-center cursor-pointer hover:bg-blue-100 transition-all duration-300 ${!step.correct ? 'mistake-step' : ''}`;
                stepDiv.onclick = () => checkStep(index + 1, !step.correct, step.mistake);
                
                stepDiv.innerHTML = `
                    <div class="mb-3">
                        <div class="text-3xl mb-2">${step.icon}</div>
                    </div>
                    <div class="text-sm font-medium text-blue-800">${step.text}</div>
                `;
                
                stepsContainer.appendChild(stepDiv);
            });
        }

        function updateGameUI() {
            document.getElementById('spot-score').textContent = spotScore;
            document.getElementById('mistakes-found').textContent = mistakesFound;
            document.getElementById('spot-timer').textContent = spotTimer;
            document.getElementById('hints-remaining').textContent = hintsRemaining;
        }

        function checkStep(stepNumber, isMistake, mistakeMessage = '') {
            if (!spotGameActive) return;
            
            const stepCard = event.currentTarget;
            
            if (isMistake) {
                // Correct! Found a mistake
                mistakesFound++;
                const level = gameLevels[currentGameLevel - 1];
                const pointsEarned = Math.floor(level.basePoints / level.mistakes);
                levelPoints += pointsEarned;
                spotScore += pointsEarned;
                
                stepCard.classList.add('bg-green-100', 'pointer-events-none');
                stepCard.classList.remove('cursor-pointer');
                
                // Show success message
                const messages = [
                    `🥳 Benar! Itu kesalahan. ${mistakeMessage}`,
                    `🎉 Bagus! ${mistakeMessage}`,
                    `✨ Tepat sekali! ${mistakeMessage}`,
                    `🌟 Keren! ${mistakeMessage}`
                ];
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                showSpotMessage(randomMessage, 'success');
                
                // Update UI
                updateGameUI();
                totalMistakesFoundAllLevels++;
                
                // Check if all mistakes found in this level
                if (mistakesFound >= totalMistakesInLevel) {
                    setTimeout(() => {
                        endLevel();
                    }, 1500);
                }
            } else {
                // Wrong! This step is correct - apply penalty
                stepCard.classList.add('bg-red-100');
                
                // Deduct 5 points for wrong answer
                spotScore = Math.max(0, spotScore - 5);
                levelPoints = Math.max(0, levelPoints - 5);
                
                const wrongMessages = [
                    '😅 Ups, itu benar kok! -5 poin. Coba cari yang salah ya.',
                    '💭 Hmm bukan itu, -5 poin. Coba lebih teliti lagi ya manis 💗.',
                    '🤔 Langkah itu sudah benar. -5 poin. Cari yang lain yuk!',
                    '😊 Itu langkah yang tepat. -5 poin. Coba periksa langkah lainnya!'
                ];
                const randomWrongMessage = wrongMessages[Math.floor(Math.random() * wrongMessages.length)];
                showSpotMessage(randomWrongMessage, 'error');
                
                // Update UI to show new score
                updateGameUI();
                
                // Remove red background after 1 second
                setTimeout(() => {
                    stepCard.classList.remove('bg-red-100');
                }, 1000);
            }
        }

        function showSpotMessage(message, type) {
            // Create popup message
            const popup = document.createElement('div');
            let bgColor = 'bg-red-500';
            if (type === 'success') bgColor = 'bg-green-500';
            else if (type === 'hint') bgColor = 'bg-yellow-500';
            
            popup.className = `fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-6 py-4 rounded-lg shadow-2xl text-white font-medium text-center max-w-md ${bgColor}`;
            popup.innerHTML = message;
            
            document.body.appendChild(popup);
            
            // Animate in
            popup.style.opacity = '0';
            popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
            setTimeout(() => {
                popup.style.transition = 'all 0.3s ease';
                popup.style.opacity = '1';
                popup.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 10);
            
            // Remove after 2 seconds (3 seconds for hints)
            const duration = type === 'hint' ? 3000 : 2000;
            setTimeout(() => {
                popup.style.opacity = '0';
                popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
                setTimeout(() => {
                    document.body.removeChild(popup);
                }, 300);
            }, duration);
        }

        function endLevel() {
            spotGameActive = false;
            clearInterval(spotTimerInterval);
            
            // Calculate bonus for remaining time
            if (mistakesFound >= totalMistakesInLevel && spotTimer > 0) {
                const timeBonus = Math.floor(spotTimer / 2);
                levelPoints += timeBonus;
                spotScore += timeBonus;
            }
            
            // Show level complete
            document.getElementById('level-points').textContent = levelPoints;
            document.getElementById('level-complete').classList.remove('hidden');
            document.getElementById('start-spot-game').classList.add('hidden');
            document.getElementById('hint-btn').classList.add('hidden');
            document.getElementById('reset-spot-game').classList.add('hidden');
            
            // Show appropriate button
            if (currentGameLevel < 10) {
                document.getElementById('next-level-btn').classList.remove('hidden');
            } else {
                // Game complete
                setTimeout(() => {
                    showGameComplete();
                }, 2000);
            }
            
            // Disable all step cards
            const stepCards = document.querySelectorAll('.step-card');
            stepCards.forEach(card => {
                card.classList.add('pointer-events-none');
                card.classList.remove('cursor-pointer');
            });
        }

        function nextLevel() {
            if (currentGameLevel < 10) {
                currentGameLevel++;
                resetLevel();
                startSpotGame();
            }
        }

        function resetLevel() {
            mistakesFound = 0;
            levelPoints = 0;
            spotTimer = 60;
            hintUsedInLevel = false;
            
            // Hide completion messages
            document.getElementById('level-complete').classList.add('hidden');
            document.getElementById('next-level-btn').classList.add('hidden');
            
            // Reset UI
            updateGameUI();
            updateHintButton();
        }

        function useHint() {
            if (!spotGameActive || hintsRemaining <= 0) return;
            
            // Deduct hint
            hintsRemaining--;
            hintUsedInLevel = true;
            
            // Find first mistake step that hasn't been found yet
            const level = gameLevels[currentGameLevel - 1];
            const stepCards = document.querySelectorAll('.step-card');
            
            let hintGiven = false;
            level.steps.forEach((step, index) => {
                if (!step.correct && !hintGiven) {
                    const stepCard = stepCards[index];
                    if (!stepCard.classList.contains('bg-green-100')) {
                        // Highlight the mistake step with a hint
                        stepCard.classList.add('animate-pulse', 'ring-4', 'ring-yellow-400');
                        
                        // Show hint message
                        showSpotMessage(`💡 Petunjuk: Ada yang tidak tepat di langkah "${step.text.substring(0, 20)}..."`, 'hint');
                        
                        // Remove highlight after 3 seconds
                        setTimeout(() => {
                            stepCard.classList.remove('animate-pulse', 'ring-4', 'ring-yellow-400');
                        }, 3000);
                        
                        hintGiven = true;
                    }
                }
            });
            
            // Update UI
            updateGameUI();
            updateHintButton();
        }

        function updateHintButton() {
            const hintBtn = document.getElementById('hint-btn');
            if (hintsRemaining <= 0) {
                hintBtn.disabled = true;
                hintBtn.classList.add('opacity-50', 'cursor-not-allowed');
                hintBtn.innerHTML = '💡 Petunjuk (0)';
            } else {
                hintBtn.disabled = false;
                hintBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                hintBtn.innerHTML = `💡 Petunjuk (${hintsRemaining})`;
            }
        }

        function resetSpotGame() {
            spotGameActive = false;
            clearInterval(spotTimerInterval);
            
            // Reset level values
            mistakesFound = 0;
            levelPoints = 0;
            spotTimer = 60;
            hintUsedInLevel = false;
            
            // Reset UI
            updateGameUI();
            document.getElementById('start-spot-game').classList.remove('hidden');
            document.getElementById('hint-btn').classList.add('hidden');
            document.getElementById('reset-spot-game').classList.add('hidden');
            document.getElementById('level-complete').classList.add('hidden');
            document.getElementById('next-level-btn').classList.add('hidden');
            
            // Reload current level
            loadLevel(currentGameLevel);
        }

        function showGameComplete() {
            document.getElementById('level-complete').classList.add('hidden');
            document.getElementById('game-complete').classList.remove('hidden');
            
            // Calculate final stats
            document.getElementById('final-total-score').textContent = spotScore;
            document.getElementById('total-mistakes-found').textContent = totalMistakesFoundAllLevels;
            
            // Determine rank
            let rank = 'Pemula';
            if (spotScore >= 1200) rank = 'Master Prosedur';
            else if (spotScore >= 1000) rank = 'Ahli Prosedur';
            else if (spotScore >= 800) rank = 'Mahir';
            else if (spotScore >= 600) rank = 'Terampil';
            else if (spotScore >= 400) rank = 'Baik';
            
            document.getElementById('final-rank').textContent = rank;
        }

        // Audio content for each section
        const audioContent = {
            pengantar: "Selamat datang di pembelajaran teks prosedur! Dalam kehidupan sehari-hari, kita sering mengikuti langkah-langkah untuk melakukan sesuatu. Mulai dari memasak, menggunakan gadget, hingga mengerjakan tugas. Nah, semua langkah-langkah itu bisa ditulis dalam bentuk teks prosedur. Mari kita pelajari bersama!",
            
            pengertian: "Teks prosedur adalah jenis teks yang berisi langkah-langkah atau tahapan untuk melakukan suatu kegiatan secara berurutan dan sistematis. Tujuannya adalah memberikan petunjuk yang jelas agar pembaca dapat mengikuti instruksi dengan benar dan mencapai hasil yang diinginkan.",
            
            struktur: "Struktur teks prosedur terdiri dari empat bagian utama. Pertama, Tujuan yang menjelaskan apa yang ingin dicapai. Kedua, Bahan atau Alat yang diperlukan. Ketiga, Langkah-langkah berupa urutan kegiatan yang harus dilakukan. Keempat, Penutup yang berisi hasil akhir atau kesimpulan.",
            
            ciri: "Ciri-ciri kebahasaan teks prosedur meliputi: Pertama, menggunakan kalimat perintah seperti siapkan, aduk, panaskan. Kedua, menggunakan kata kerja aktif seperti mengaduk, memotong, menuangkan. Ketiga, menggunakan konjungsi temporal seperti kemudian, lalu, setelah itu. Keempat, menggunakan kata bilangan seperti pertama, kedua, ketiga. Kelima, menggunakan kata keterangan seperti dengan hati-hati, secara perlahan.",
            
            jenis: "Teks prosedur dibagi menjadi tiga jenis. Pertama, Prosedur Sederhana dengan langkah sedikit dan mudah dilakukan, contohnya cara menyalakan komputer. Kedua, Prosedur Kompleks dengan langkah banyak dan butuh ketelitian, contohnya resep masakan lengkap. Ketiga, Protokol dengan langkah fleksibel yang bisa disesuaikan, contohnya tata cara upacara.",
            
            tujuan: "Tujuan teks prosedur ada empat. Pertama, memberikan panduan untuk membantu orang melakukan sesuatu dengan benar. Kedua, mengajar untuk transfer pengetahuan dan keterampilan. Ketiga, mempermudah pekerjaan agar lebih efisien dan terstruktur. Keempat, menghindari kesalahan dengan langkah yang jelas.",
            
            contoh: "Mari kita lihat contoh lengkap teks prosedur. Cara Membuat Teh Manis. Tujuannya adalah membuat minuman teh manis yang segar. Bahan yang diperlukan: satu kantong teh, dua sendok makan gula, dua ratus mili liter air panas. Langkah-langkahnya: Pertama, siapkan gelas dan masukkan kantong teh. Kedua, tuangkan air panas ke dalam gelas. Ketiga, diamkan tiga sampai lima menit, lalu angkat kantong teh. Keempat, tambahkan gula dan aduk hingga larut. Kelima, teh manis siap disajikan.",
            
            penutup: "Selamat! Kamu telah menyelesaikan pembelajaran tentang teks prosedur. Sekarang kamu sudah memahami pengertian, struktur, ciri-ciri kebahasaan, dan jenis-jenis teks prosedur. Ingat, teks prosedur sangat berguna dalam kehidupan sehari-hari. Mulai dari memasak, menggunakan teknologi, hingga mengerjakan tugas sekolah. Tips untuk kalian: Teruslah berlatih membuat teks prosedur dengan bahasa yang jelas dan langkah-langkah yang mudah dipahami. Semoga ilmu ini bermanfaat untuk kalian semua!"
        };

        // Global audio variables
        let currentAudio = null;
        let isAudioSupported = true;

        // Check if speech synthesis is supported
        function checkAudioSupport() {
            if (!('speechSynthesis' in window)) {
                isAudioSupported = false;
                console.log('Speech synthesis not supported');
                return false;
            }
            return true;
        }

        // Audio functions with real text-to-speech
        function playAudio(type) {
            if (!checkAudioSupport()) {
                alert('🔊 Maaf, browser Anda tidak mendukung fitur audio. Silakan gunakan browser yang lebih baru seperti Chrome, Firefox, atau Edge.');
                return;
            }

            const button = event.target;
            const originalText = button.innerHTML;
            
            // Stop any currently playing audio
            if (currentAudio) {
                speechSynthesis.cancel();
            }
            
            // Get the text content for this audio type
            const textToSpeak = audioContent[type];
            if (!textToSpeak) {
                alert('Konten audio tidak tersedia untuk bagian ini.');
                return;
            }
            
            // Update button state
            button.innerHTML = '⏸️ Sedang Memutar...';
            button.disabled = true;
            
            // Show corresponding notes with animation
            const notesElement = document.getElementById(`${type}-notes`);
            if (notesElement) {
                notesElement.classList.remove('hidden');
                notesElement.classList.add('animate-pulse');
                
                // Remove pulse animation after showing
                setTimeout(() => {
                    notesElement.classList.remove('animate-pulse');
                }, 1000);
            }
            
            // Create speech synthesis utterance
            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            
            // Configure speech settings
            utterance.lang = 'id-ID'; // Indonesian language
            utterance.rate = 0.9; // Slightly slower for better comprehension
            utterance.pitch = 1.0; // Normal pitch
            utterance.volume = 1.0; // Full volume
            
            // Try to use Indonesian voice if available
            const voices = speechSynthesis.getVoices();
            const indonesianVoice = voices.find(voice => 
                voice.lang.includes('id') || 
                voice.name.toLowerCase().includes('indonesia') ||
                voice.name.toLowerCase().includes('bahasa')
            );
            
            if (indonesianVoice) {
                utterance.voice = indonesianVoice;
            } else {
                // Fallback to any available voice
                const fallbackVoice = voices.find(voice => 
                    voice.lang.includes('en') && voice.name.toLowerCase().includes('female')
                ) || voices[0];
                if (fallbackVoice) {
                    utterance.voice = fallbackVoice;
                }
            }
            
            // Set up event handlers
            utterance.onstart = function() {
                currentAudio = utterance;
                // Add visual indicator that audio is playing
                if (notesElement) {
                    notesElement.style.border = '2px solid #8b5cf6';
                    notesElement.style.backgroundColor = '#f3e8ff';
                }
            };
            
            utterance.onend = function() {
                // Reset button state
                button.innerHTML = originalText;
                button.disabled = false;
                currentAudio = null;
                
                // Remove visual indicator
                if (notesElement) {
                    notesElement.style.border = '';
                    notesElement.style.backgroundColor = '';
                }
                
                // Show completion message
                if (notesElement) {
                    const completionMsg = document.createElement('div');
                    completionMsg.className = 'text-xs text-green-600 font-medium mt-2 animate-bounce';
                    completionMsg.innerHTML = '✅ Audio selesai diputar';
                    notesElement.appendChild(completionMsg);
                    
                    // Remove completion message after 3 seconds
                    setTimeout(() => {
                        if (completionMsg.parentNode) {
                            completionMsg.parentNode.removeChild(completionMsg);
                        }
                    }, 3000);
                }
            };
            
            utterance.onerror = function(event) {
                console.error('Speech synthesis error:', event.error);
                button.innerHTML = originalText;
                button.disabled = false;
                currentAudio = null;
                
                // Remove visual indicator
                if (notesElement) {
                    notesElement.style.border = '';
                    notesElement.style.backgroundColor = '';
                }
                
                // Show error message
                alert('🔊 Terjadi kesalahan saat memutar audio. Silakan coba lagi.');
            };
            
            // Start speaking
            speechSynthesis.speak(utterance);
        }

        // Stop audio function
        function stopAudio() {
            if (currentAudio) {
                speechSynthesis.cancel();
                currentAudio = null;
                
                // Reset all audio buttons
                const audioButtons = document.querySelectorAll('button[onclick^="playAudio"]');
                audioButtons.forEach(btn => {
                    if (btn.innerHTML.includes('Sedang Memutar')) {
                        btn.innerHTML = '▶️ Putar';
                        btn.disabled = false;
                    }
                });
                
                // Remove visual indicators
                const notesElements = document.querySelectorAll('[id$="-notes"]');
                notesElements.forEach(element => {
                    element.style.border = '';
                    element.style.backgroundColor = '';
                });
            }
        }

        // Toggle text function
        function toggleText(type) {
            const notesElement = document.getElementById(`${type}-notes`);
            const button = event.target;
            
            if (notesElement) {
                if (notesElement.classList.contains('hidden')) {
                    // Show text
                    notesElement.classList.remove('hidden');
                    notesElement.classList.add('animate-pulse');
                    button.innerHTML = '📄 Sembunyikan';
                    button.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                    button.classList.add('bg-red-500', 'hover:bg-red-600');
                    
                    // Remove pulse animation after showing
                    setTimeout(() => {
                        notesElement.classList.remove('animate-pulse');
                    }, 1000);
                } else {
                    // Hide text
                    notesElement.classList.add('hidden');
                    button.innerHTML = '📄 Teks';
                    button.classList.remove('bg-red-500', 'hover:bg-red-600');
                    button.classList.add('bg-gray-500', 'hover:bg-gray-600');
                }
            }
        }

        // Mystery Word Game Variables
        let mysteryGameActive = false;
        let mysteryGameScore = 0;
        let mysteryCurrentLevel = 1;
        let mysteryStreak = 0;
        let mysteryLevelPoints = 0;
        let mysteryCorrectAnswers = 0;
        let currentMysteryQuestion = null;
        
        // Timer variables for Mystery Game
        let mysteryGameStartTime = null;
        let mysteryGameEndTime = null;
        let mysteryTotalTimeSpent = 0;
        let mysteryQuestionStartTime = null;
        let mysteryQuestionTimes = [];
        let mysteryTimerInterval = null;

        // Mystery Word Game Level Data
        const mysteryGameLevels = [
            {
                id: 1,
                title: "🎵 Level 1: Kata Misterius Pertama",
                audioText: "Aku adalah bagian awal teks prosedur, biasanya berisi tujuan. Siapakah aku?",
                options: ["Pernyataan tujuan", "Material", "Langkah-langkah", "Penutup"],
                correctAnswer: 0,
                basePoints: 100
            },
            {
                id: 2,
                title: "🎵 Level 2: Kata Misterius Kedua",
                audioText: "Aku menyebutkan bahan dan alat yang dibutuhkan sebelum langkah-langkah. Siapakah aku?",
                options: ["Tujuan", "Material", "Prosedur", "Kesimpulan"],
                correctAnswer: 1,
                basePoints: 110
            },
            {
                id: 3,
                title: "🎵 Level 3: Kata Misterius Ketiga",
                audioText: "Aku adalah teks yang menjelaskan langkah demi langkah secara sistematis. Aku jenis teks apa?",
                options: ["Teks narasi", "Teks prosedur", "Teks deskripsi", "Teks eksposisi"],
                correctAnswer: 1,
                basePoints: 120
            },
            {
                id: 4,
                title: "🎵 Level 4: Kata Misterius Keempat",
                audioText: "Aku adalah kata yang menunjukkan urutan dalam teks prosedur, seperti pertama, kedua, ketiga. Aku disebut apa?",
                options: ["Kata kerja", "Kata sifat", "Kata bilangan", "Kata benda"],
                correctAnswer: 2,
                basePoints: 130
            },
            {
                id: 5,
                title: "🎵 Level 5: Kata Misterius Kelima",
                audioText: "Aku adalah jenis kalimat yang sering digunakan dalam teks prosedur untuk memberikan perintah. Aku kalimat apa?",
                options: ["Kalimat tanya", "Kalimat perintah", "Kalimat berita", "Kalimat seru"],
                correctAnswer: 1,
                basePoints: 140
            },
            {
                id: 6,
                title: "🎵 Level 6: Kata Misterius Keenam",
                audioText: "Aku adalah kata penghubung yang menunjukkan urutan waktu, seperti kemudian, lalu, setelah itu. Aku disebut apa?",
                options: ["Konjungsi sebab-akibat", "Konjungsi temporal", "Konjungsi pertentangan", "Konjungsi penjumlahan"],
                correctAnswer: 1,
                basePoints: 150
            },
            {
                id: 7,
                title: "🎵 Level 7: Kata Misterius Ketujuh",
                audioText: "Aku adalah jenis teks prosedur yang langkah-langkahnya sedikit dan mudah dilakukan. Aku prosedur apa?",
                options: ["Prosedur kompleks", "Prosedur sederhana", "Protokol", "Prosedur rumit"],
                correctAnswer: 1,
                basePoints: 160
            },
            {
                id: 8,
                title: "🎵 Level 8: Kata Misterius Kedelapan",
                audioText: "Aku adalah tujuan utama teks prosedur, yaitu memberikan sesuatu yang jelas kepada pembaca. Aku memberikan apa?",
                options: ["Hiburan", "Petunjuk", "Cerita", "Argumentasi"],
                correctAnswer: 1,
                basePoints: 170
            },
            {
                id: 9,
                title: "🎵 Level 9: Kata Misterius Kesembilan",
                audioText: "Aku adalah jenis teks prosedur yang langkah-langkahnya banyak dan membutuhkan ketelitian tinggi. Aku prosedur apa?",
                options: ["Prosedur sederhana", "Prosedur kompleks", "Protokol", "Prosedur mudah"],
                correctAnswer: 1,
                basePoints: 180
            },
            {
                id: 10,
                title: "🎵 Level 10: Kata Misterius Terakhir",
                audioText: "Aku adalah jenis teks prosedur yang langkah-langkahnya fleksibel dan bisa disesuaikan dengan situasi. Aku disebut apa?",
                options: ["Prosedur sederhana", "Prosedur kompleks", "Protokol", "Prosedur tetap"],
                correctAnswer: 2,
                basePoints: 200
            }
        ];

        // Mystery Word Game Functions
        function startMysteryGame() {
            mysteryGameActive = true;
            mysteryLevelPoints = 0;
            mysteryStreak = 0;
            mysteryQuestionTimes = [];
            
            // Initialize timer
            mysteryGameStartTime = new Date();
            mysteryQuestionStartTime = new Date();
            mysteryTotalTimeSpent = 0;
            
            // Start timer display
            startMysteryTimer();
            
            // Load current level
            loadMysteryLevel(mysteryCurrentLevel);
            
            // Update UI
            updateMysteryGameUI();
            document.getElementById('start-mystery-game').classList.add('hidden');
            document.getElementById('reset-mystery-game').classList.remove('hidden');
            document.getElementById('mystery-back-to-menu').classList.remove('hidden');
            document.getElementById('mystery-level-complete').classList.add('hidden');
            document.getElementById('mystery-wrong-answer').classList.add('hidden');
            document.getElementById('mystery-game-complete').classList.add('hidden');
        }
        
        // Timer functions for Mystery Game
        function startMysteryTimer() {
            mysteryTimerInterval = setInterval(() => {
                if (mysteryGameStartTime) {
                    const currentTime = new Date();
                    mysteryTotalTimeSpent = Math.floor((currentTime - mysteryGameStartTime) / 1000);
                    updateMysteryTimerDisplay();
                }
            }, 1000);
        }
        
        function stopMysteryTimer() {
            if (mysteryTimerInterval) {
                clearInterval(mysteryTimerInterval);
                mysteryTimerInterval = null;
            }
            mysteryGameEndTime = new Date();
        }
        
        function updateMysteryTimerDisplay() {
            const minutes = Math.floor(mysteryTotalTimeSpent / 60);
            const seconds = mysteryTotalTimeSpent % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('mystery-timer').textContent = timeString;
        }
        
        function recordMysteryQuestionTime() {
            if (mysteryQuestionStartTime) {
                const currentTime = new Date();
                const questionTime = Math.floor((currentTime - mysteryQuestionStartTime) / 1000);
                mysteryQuestionTimes[mysteryCurrentLevel - 1] = questionTime;
                mysteryQuestionStartTime = new Date(); // Reset for next question
            }
        }

        function loadMysteryLevel(levelNum) {
            const level = mysteryGameLevels[levelNum - 1];
            if (!level) return;
            
            currentMysteryQuestion = level;
            
            // Update level info
            document.getElementById('mystery-level-title').textContent = level.title;
            document.getElementById('mystery-current-level').textContent = levelNum;
            document.getElementById('mystery-level-progress').style.width = `${(levelNum / 10) * 100}%`;
            
            // Show audio player
            document.getElementById('play-mystery-audio').classList.remove('hidden');
            document.getElementById('replay-mystery-audio').classList.add('hidden');
            document.getElementById('mystery-options-container').classList.add('hidden');
        }

        function playMysteryAudio() {
            if (!checkAudioSupport()) {
                alert('🔊 Maaf, browser Anda tidak mendukung fitur audio. Silakan gunakan browser yang lebih baru seperti Chrome, Firefox, atau Edge.');
                return;
            }

            const button = document.getElementById('play-mystery-audio');
            const replayButton = document.getElementById('replay-mystery-audio');
            
            // Stop any currently playing audio
            if (currentAudio) {
                speechSynthesis.cancel();
            }
            
            // Update button state
            button.innerHTML = '⏸️ Sedang Memutar...';
            button.disabled = true;
            
            // Create speech synthesis utterance
            const utterance = new SpeechSynthesisUtterance(currentMysteryQuestion.audioText);
            
            // Configure speech settings for mysterious, engaging voice
            utterance.lang = 'id-ID';
            utterance.rate = 0.85; // Slightly slower for mystery effect
            utterance.pitch = 1.1; // Slightly higher for engagement
            utterance.volume = 1.0;
            
            // Try to use Indonesian voice if available
            const voices = speechSynthesis.getVoices();
            const indonesianVoice = voices.find(voice => 
                voice.lang.includes('id') || 
                voice.name.toLowerCase().includes('indonesia') ||
                voice.name.toLowerCase().includes('bahasa')
            );
            
            if (indonesianVoice) {
                utterance.voice = indonesianVoice;
            } else {
                // Fallback to female voice for friendliness
                const femaleVoice = voices.find(voice => 
                    voice.name.toLowerCase().includes('female') ||
                    voice.name.toLowerCase().includes('woman')
                );
                if (femaleVoice) {
                    utterance.voice = femaleVoice;
                }
            }
            
            utterance.onstart = function() {
                currentAudio = utterance;
            };
            
            utterance.onend = function() {
                // Reset button state
                button.innerHTML = '▶️ Putar Audio';
                button.disabled = false;
                currentAudio = null;
                
                // Show replay button and options
                replayButton.classList.remove('hidden');
                showMysteryOptions();
                
                // Play friendly completion sound
                playMysteryEffect('audio_complete');
            };
            
            utterance.onerror = function(event) {
                console.error('Speech synthesis error:', event.error);
                button.innerHTML = '▶️ Putar Audio';
                button.disabled = false;
                currentAudio = null;
                alert('🔊 Terjadi kesalahan saat memutar audio. Silakan coba lagi.');
            };
            
            // Start speaking
            speechSynthesis.speak(utterance);
        }

        function showMysteryOptions() {
            const container = document.getElementById('mystery-options-container');
            const optionsContainer = document.getElementById('mystery-answer-options');
            
            // Show container
            container.classList.remove('hidden');
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Define pastel colors for options
            const pastelColors = [
                'from-purple-100 to-purple-200 hover:from-purple-200 hover:to-purple-300 border-purple-300',
                'from-blue-100 to-blue-200 hover:from-blue-200 hover:to-blue-300 border-blue-300',
                'from-green-100 to-green-200 hover:from-green-200 hover:to-green-300 border-green-300',
                'from-pink-100 to-pink-200 hover:from-pink-200 hover:to-pink-300 border-pink-300'
            ];
            
            // Create answer option buttons
            currentMysteryQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                const colorClass = pastelColors[index % pastelColors.length];
                button.className = `mystery-option bg-gradient-to-r ${colorClass} p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-105 text-center font-medium text-gray-800 shadow-md`;
                button.onclick = () => selectMysteryAnswer(index);
                
                // Add icons based on option content
                let icon = '🔮';
                if (option.toLowerCase().includes('tujuan') || option.toLowerCase().includes('pernyataan')) icon = '🎯';
                else if (option.toLowerCase().includes('material') || option.toLowerCase().includes('bahan')) icon = '🧰';
                else if (option.toLowerCase().includes('prosedur') || option.toLowerCase().includes('teks')) icon = '📋';
                else if (option.toLowerCase().includes('bilangan') || option.toLowerCase().includes('angka')) icon = '🔢';
                else if (option.toLowerCase().includes('perintah') || option.toLowerCase().includes('kalimat')) icon = '📢';
                else if (option.toLowerCase().includes('temporal') || option.toLowerCase().includes('konjungsi')) icon = '🔗';
                else if (option.toLowerCase().includes('sederhana')) icon = '🟢';
                else if (option.toLowerCase().includes('kompleks')) icon = '🟡';
                else if (option.toLowerCase().includes('protokol')) icon = '🔵';
                else if (option.toLowerCase().includes('petunjuk')) icon = '🧭';
                
                button.innerHTML = `<div class="text-3xl mb-2">${icon}</div><div class="text-sm">${option}</div>`;
                
                optionsContainer.appendChild(button);
            });
        }

        function selectMysteryAnswer(selectedIndex) {
            if (!mysteryGameActive) return;
            
            // Record time for current question
            recordMysteryQuestionTime();
            
            const correctIndex = currentMysteryQuestion.correctAnswer;
            const options = document.querySelectorAll('.mystery-option');
            
            // Disable all options
            options.forEach(opt => {
                opt.disabled = true;
                opt.classList.add('pointer-events-none');
            });
            
            if (selectedIndex === correctIndex) {
                // Correct answer!
                options[selectedIndex].classList.add('ring-4', 'ring-green-400', 'bg-green-200');
                
                // Calculate points with time bonus
                const questionTime = mysteryQuestionTimes[mysteryCurrentLevel - 1] || 0;
                let timeBonus = 0;
                if (questionTime <= 10) timeBonus = 50;
                else if (questionTime <= 20) timeBonus = 30;
                else if (questionTime <= 30) timeBonus = 20;
                else if (questionTime <= 45) timeBonus = 10;
                
                mysteryLevelPoints = currentMysteryQuestion.basePoints + (mysteryStreak * 10) + timeBonus;
                mysteryGameScore += mysteryLevelPoints;
                mysteryCorrectAnswers++;
                mysteryStreak++;
                
                playMysteryEffect('correct');
                showMysteryMessage('⭐ Yeay! Benar sekali! ⭐', 'success');
                
                setTimeout(() => {
                    endMysteryLevel(true);
                }, 2000);
            } else {
                // Wrong answer
                options[selectedIndex].classList.add('ring-4', 'ring-red-400', 'bg-red-200');
                options[correctIndex].classList.add('ring-4', 'ring-green-400', 'bg-green-200');
                
                mysteryStreak = 0; // Reset streak
                
                playMysteryEffect('wrong');
                showMysteryMessage('😅 Oops! Belum tepat nih', 'wrong');
                
                setTimeout(() => {
                    showMysteryWrongAnswer();
                }, 2000);
            }
            
            updateMysteryGameUI();
        }

        function playMysteryEffect(type) {
            if (!checkAudioSupport()) return;
            
            let effectText = '';
            let pitch = 1.0;
            let rate = 1.0;
            
            switch(type) {
                case 'audio_complete':
                    effectText = 'Sekarang pilih kata yang tepat ya!';
                    pitch = 1.2;
                    rate = 1.1;
                    break;
                case 'correct':
                    // Yeay sound effect
                    effectText = 'Yeay! Telinga ajaibmu berhasil menemukan kata misterius!';
                    pitch = 1.4;
                    rate = 1.2;
                    break;
                case 'wrong':
                    // Oops sound effect
                    effectText = 'Oops! Coba dengarkan clue sekali lagi ya!';
                    pitch = 1.0;
                    rate = 0.9;
                    break;
            }
            
            const utterance = new SpeechSynthesisUtterance(effectText);
            utterance.lang = 'id-ID';
            utterance.rate = rate;
            utterance.pitch = pitch;
            utterance.volume = 0.8;
            
            speechSynthesis.speak(utterance);
        }

        function showMysteryMessage(message, type) {
            const popup = document.createElement('div');
            let bgColor = 'bg-purple-500';
            if (type === 'success') bgColor = 'bg-green-500';
            else if (type === 'wrong') bgColor = 'bg-orange-500';
            
            popup.className = `fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-6 rounded-xl shadow-2xl text-white font-medium text-center max-w-md ${bgColor}`;
            popup.innerHTML = `<div class="text-lg">${message}</div>`;
            
            document.body.appendChild(popup);
            
            // Animate in with star effect
            popup.style.opacity = '0';
            popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
            setTimeout(() => {
                popup.style.transition = 'all 0.3s ease';
                popup.style.opacity = '1';
                popup.style.transform = 'translate(-50%, -50%) scale(1)';
                
                // Add star animation for correct answers
                if (type === 'success') {
                    popup.classList.add('animate-bounce');
                }
            }, 10);
            
            // Remove after 2 seconds
            setTimeout(() => {
                popup.style.opacity = '0';
                popup.style.transform = 'translate(-50%, -50%) scale(0.8)';
                setTimeout(() => {
                    if (document.body.contains(popup)) {
                        document.body.removeChild(popup);
                    }
                }, 300);
            }, 2000);
        }

        function updateMysteryGameUI() {
            document.getElementById('mystery-game-score').textContent = mysteryGameScore;
            document.getElementById('mystery-streak').textContent = mysteryStreak;
            updateMysteryTimerDisplay();
        }

        function endMysteryLevel(success) {
            if (success) {
                // Show level complete
                document.getElementById('mystery-level-points').textContent = mysteryLevelPoints;
                document.getElementById('mystery-level-complete').classList.remove('hidden');
                
                // Show appropriate button
                if (mysteryCurrentLevel < 10) {
                    document.getElementById('next-mystery-level').classList.remove('hidden');
                } else {
                    // Game complete
                    setTimeout(() => {
                        showMysteryGameComplete();
                    }, 2000);
                }
            }
            
            // Hide options
            document.getElementById('mystery-options-container').classList.add('hidden');
        }

        function showMysteryWrongAnswer() {
            document.getElementById('mystery-wrong-answer').classList.remove('hidden');
            
            // Reset options after 3 seconds
            setTimeout(() => {
                document.getElementById('mystery-wrong-answer').classList.add('hidden');
                resetCurrentMysteryLevel();
            }, 3000);
        }

        function resetCurrentMysteryLevel() {
            // Reset options
            const options = document.querySelectorAll('.mystery-option');
            options.forEach(opt => {
                opt.disabled = false;
                opt.classList.remove('pointer-events-none', 'ring-4', 'ring-green-400', 'bg-green-200', 'ring-red-400', 'bg-red-200');
            });
            
            // Show options again
            document.getElementById('mystery-options-container').classList.remove('hidden');
        }

        function nextMysteryLevel() {
            if (mysteryCurrentLevel < 10) {
                mysteryCurrentLevel++;
                mysteryQuestionStartTime = new Date(); // Reset timer for next level
                resetMysteryLevel();
                loadMysteryLevel(mysteryCurrentLevel);
            }
        }

        function resetMysteryLevel() {
            mysteryLevelPoints = 0;
            
            // Hide completion messages
            document.getElementById('mystery-level-complete').classList.add('hidden');
            document.getElementById('next-mystery-level').classList.add('hidden');
            document.getElementById('mystery-wrong-answer').classList.add('hidden');
            
            // Reset UI
            updateMysteryGameUI();
        }

        function resetMysteryGame() {
            mysteryGameActive = false;
            
            // Stop timer
            stopMysteryTimer();
            
            // Reset all values
            mysteryCurrentLevel = 1;
            mysteryGameScore = 0;
            mysteryStreak = 0;
            mysteryLevelPoints = 0;
            mysteryCorrectAnswers = 0;
            mysteryQuestionTimes = [];
            mysteryTotalTimeSpent = 0;
            mysteryGameStartTime = null;
            mysteryQuestionStartTime = null;
            
            // Reset UI
            updateMysteryGameUI();
            document.getElementById('start-mystery-game').classList.remove('hidden');
            document.getElementById('reset-mystery-game').classList.add('hidden');
            document.getElementById('mystery-back-to-menu').classList.add('hidden');
            document.getElementById('mystery-level-complete').classList.add('hidden');
            document.getElementById('next-mystery-level').classList.add('hidden');
            document.getElementById('mystery-wrong-answer').classList.add('hidden');
            document.getElementById('mystery-options-container').classList.add('hidden');
            document.getElementById('mystery-game-complete').classList.add('hidden');
            
            // Reset timer display
            document.getElementById('mystery-timer').textContent = '00:00';
            
            // Reload first level
            loadMysteryLevel(1);
        }

        function showMysteryGameComplete() {
            // Stop timer
            stopMysteryTimer();
            
            document.getElementById('mystery-level-complete').classList.add('hidden');
            document.getElementById('mystery-game-complete').classList.remove('hidden');
            
            // Calculate results
            const basePoints = mysteryCorrectAnswers * 100; // Base points for correct answers
            const timeBonus = calculateMysteryTimeBonus();
            const totalPoints = mysteryGameScore + timeBonus;
            
            // Display basic stats
            document.getElementById('mystery-final-correct').textContent = mysteryCorrectAnswers;
            document.getElementById('mystery-final-time').textContent = formatMysteryTime(mysteryTotalTimeSpent);
            document.getElementById('mystery-time-bonus').textContent = timeBonus;
            document.getElementById('mystery-total-points').textContent = totalPoints;
            
            // Display question times
            displayMysteryQuestionTimes();
            
            // Display achievements
            displayMysteryAchievements();
            
            // Display performance message
            const messageDiv = document.getElementById('mystery-score-message');
            let performanceMessage = '';
            let performanceClass = '';
            
            if (mysteryCorrectAnswers === 10 && mysteryTotalTimeSpent <= 300) {
                performanceMessage = '🏆 LUAR BIASA! Sempurna dan cepat! Kamu adalah master kata misterius!';
                performanceClass = 'text-yellow-700 font-bold';
            } else if (mysteryCorrectAnswers === 10) {
                performanceMessage = '🌟 SEMPURNA! Telinga ajaibmu benar-benar luar biasa!';
                performanceClass = 'text-green-700 font-bold';
            } else if (mysteryCorrectAnswers >= 8) {
                performanceMessage = '⭐ HEBAT! Kemampuan mendengarmu sangat baik!';
                performanceClass = 'text-green-700';
            } else if (mysteryCorrectAnswers >= 6) {
                performanceMessage = '👍 BAGUS! Terus asah kemampuan mendengarmu!';
                performanceClass = 'text-blue-700';
            } else if (mysteryCorrectAnswers >= 4) {
                performanceMessage = '💪 TERUS BERLATIH! Kamu sudah di jalan yang benar!';
                performanceClass = 'text-orange-700';
            } else {
                performanceMessage = '🎧 JANGAN MENYERAH! Mari berlatih mendengar lagi!';
                performanceClass = 'text-red-700';
            }
            
            messageDiv.innerHTML = `<p class="${performanceClass} text-lg">${performanceMessage}</p>`;
            
            // Play completion sound
            playMysteryEffect('correct');
            
            // Show menu button
            document.getElementById('mystery-back-to-menu').classList.remove('hidden');
        }
        
        function calculateMysteryTimeBonus() {
            // Bonus points for completing quickly
            // Maximum 10 minutes (600 seconds) = 0 bonus
            // Minimum 2 minutes (120 seconds) = 200 bonus
            
            if (mysteryTotalTimeSpent <= 120) {
                return 200; // Maximum bonus for very fast completion
            } else if (mysteryTotalTimeSpent <= 240) {
                return 150; // High bonus for fast completion
            } else if (mysteryTotalTimeSpent <= 360) {
                return 100; // Good bonus for moderate speed
            } else if (mysteryTotalTimeSpent <= 480) {
                return 50; // Small bonus for reasonable speed
            } else if (mysteryTotalTimeSpent <= 600) {
                return 25; // Minimal bonus
            } else {
                return 0; // No bonus for slow completion
            }
        }
        
        function formatMysteryTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
        
        function displayMysteryQuestionTimes() {
            const container = document.getElementById('mystery-question-times-display');
            container.innerHTML = '';
            
            mysteryQuestionTimes.forEach((time, index) => {
                const timeDiv = document.createElement('div');
                const timeClass = time <= 15 ? 'text-green-600' : time <= 30 ? 'text-yellow-600' : 'text-red-600';
                const correctIcon = '✅'; // All recorded times are for correct answers
                
                timeDiv.className = `flex justify-between items-center p-2 rounded bg-green-50`;
                timeDiv.innerHTML = `
                    <span class="text-xs">Level ${index + 1} ${correctIcon}</span>
                    <span class="text-xs font-medium ${timeClass}">${formatMysteryTime(time || 0)}</span>
                `;
                container.appendChild(timeDiv);
            });
        }
        
        function displayMysteryAchievements() {
            const container = document.getElementById('mystery-achievements-display');
            container.innerHTML = '';
            
            const achievements = [];
            
            // Speed achievements
            if (mysteryTotalTimeSpent <= 120) {
                achievements.push({ icon: '⚡', text: 'Lightning Listener!', color: 'text-yellow-600' });
            } else if (mysteryTotalTimeSpent <= 240) {
                achievements.push({ icon: '🚀', text: 'Speed Listener', color: 'text-blue-600' });
            } else if (mysteryTotalTimeSpent <= 360) {
                achievements.push({ icon: '🎧', text: 'Quick Ears', color: 'text-green-600' });
            }
            
            // Accuracy achievements
            if (mysteryCorrectAnswers === 10) {
                achievements.push({ icon: '🎯', text: 'Perfect Listener!', color: 'text-green-600' });
            } else if (mysteryCorrectAnswers >= 8) {
                achievements.push({ icon: '🌟', text: 'Great Listener', color: 'text-blue-600' });
            } else if (mysteryCorrectAnswers >= 6) {
                achievements.push({ icon: '👂', text: 'Good Ears', color: 'text-purple-600' });
            }
            
            // Streak achievements
            if (mysteryStreak >= 5) {
                achievements.push({ icon: '🔥', text: 'Hot Streak!', color: 'text-red-600' });
            } else if (mysteryStreak >= 3) {
                achievements.push({ icon: '⭐', text: 'On Fire!', color: 'text-orange-600' });
            }
            
            // Consistency achievements
            const avgQuestionTime = mysteryQuestionTimes.reduce((a, b) => a + b, 0) / mysteryQuestionTimes.length;
            if (avgQuestionTime <= 20) {
                achievements.push({ icon: '⏰', text: 'Consistent Speed', color: 'text-indigo-600' });
            }
            
            // Special combinations
            if (mysteryCorrectAnswers === 10 && mysteryTotalTimeSpent <= 240) {
                achievements.push({ icon: '🏆', text: 'Master Listener', color: 'text-yellow-600' });
            }
            
            // Display achievements
            if (achievements.length === 0) {
                achievements.push({ icon: '💪', text: 'Keep Listening!', color: 'text-gray-600' });
            }
            
            achievements.forEach(achievement => {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = `flex items-center gap-2 p-2 rounded bg-gray-50`;
                achievementDiv.innerHTML = `
                    <span class="text-lg">${achievement.icon}</span>
                    <span class="text-xs font-medium ${achievement.color}">${achievement.text}</span>
                `;
                container.appendChild(achievementDiv);
            });
        }

        // Kinesthetic functions
        let kinestheticScore = 0;
        let targetHits = 0;
        let dragDropCompleted = false;

        // Definition Activity
        function startDefinitionActivity() {
            const steps = [
                "🤸 Mari bergerak untuk memahami pengertian teks prosedur!",
                "📋 Langkah 1: Pegang buku atau kertas (simbol teks)",
                "👆 Langkah 2: Tunjuk urutan 1-2-3 dengan jari (langkah-langkah)",
                "🎯 Langkah 3: Arahkan tangan ke target (tujuan yang ingin dicapai)",
                "✨ Selamat! Kamu telah memahami bahwa teks prosedur adalah teks yang berisi langkah-langkah sistematis untuk mencapai tujuan!"
            ];
            
            showKinestheticSteps(steps, 'Aktivitas Pengertian');
        }

        // Characteristics Activity
        function startCharacteristicsActivity() {
            const steps = [
                "✋ Mari bergerak untuk mengingat ciri-ciri kebahasaan!",
                "👋 Gerakan 1: Angkat tangan dan beri komando 'Siapkan!' (Kalimat Perintah)",
                "🔢 Gerakan 2: Hitung dengan jari 1-2-3 'Pertama, kedua, ketiga' (Kata Bilangan)",
                "🔗 Gerakan 3: Hubungkan kedua tangan 'Kemudian, lalu, setelah itu' (Kata Hubung)",
                "⏰ Gerakan 4: Gerak perlahan 'Dengan hati-hati, secara perlahan' (Kata Keterangan)",
                "🎉 Hebat! Kamu telah menguasai ciri-ciri kebahasaan teks prosedur!"
            ];
            
            showKinestheticSteps(steps, 'Aktivitas Ciri-ciri Kebahasaan');
        }

        // Types Activity
        function startTypesActivity() {
            const steps = [
                "🎭 Mari bergerak sesuai jenis prosedur!",
                "🟢 Prosedur Sederhana: Bergerak lambat dan mudah (seperti menyalakan lampu)",
                "🟡 Prosedur Kompleks: Bergerak cepat dan rumit (seperti memasak rendang)",
                "🔵 Protokol: Bergerak fleksibel dan bervariasi (seperti upacara bendera)",
                "🌟 Luar biasa! Kamu telah memahami perbedaan jenis-jenis teks prosedur!"
            ];
            
            showKinestheticSteps(steps, 'Aktivitas Jenis-jenis Prosedur');
        }

        function showKinestheticSteps(steps, title) {
            let currentStep = 0;
            
            function showNextStep() {
                if (currentStep < steps.length) {
                    const popup = document.createElement('div');
                    popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
                    popup.innerHTML = `
                        <div class="bg-white rounded-2xl p-8 max-w-md mx-4 text-center">
                            <h3 class="text-xl font-bold text-green-800 mb-4">${title}</h3>
                            <div class="text-lg mb-6">${steps[currentStep]}</div>
                            <div class="flex gap-4 justify-center">
                                ${currentStep > 0 ? '<button onclick="closeKinestheticPopup(); showPreviousStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">← Sebelumnya</button>' : ''}
                                <button onclick="closeKinestheticPopup(); ${currentStep < steps.length - 1 ? 'showNextStep()' : ''}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg">
                                    ${currentStep < steps.length - 1 ? 'Lanjut →' : 'Selesai ✅'}
                                </button>
                            </div>
                            <div class="mt-4 text-sm text-gray-600">Langkah ${currentStep + 1} dari ${steps.length}</div>
                        </div>
                    `;
                    
                    document.body.appendChild(popup);
                    currentStep++;
                } else {
                    kinestheticScore += 10;
                    showKinestheticSuccess();
                }
            }
            
            window.showNextStep = showNextStep;
            window.showPreviousStep = function() {
                currentStep = Math.max(0, currentStep - 2);
                showNextStep();
            };
            
            showNextStep();
        }

        function closeKinestheticPopup() {
            const popup = document.querySelector('.fixed.inset-0');
            if (popup) {
                document.body.removeChild(popup);
            }
        }

        function showKinestheticSuccess() {
            const popup = document.createElement('div');
            popup.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            popup.innerHTML = `
                <div class="bg-gradient-to-br from-green-100 to-green-200 rounded-2xl p-8 max-w-md mx-4 text-center">
                    <div class="text-6xl mb-4">🎉</div>
                    <h3 class="text-2xl font-bold text-green-800 mb-4">Aktivitas Selesai!</h3>
                    <p class="text-green-700 mb-4">Kamu telah menyelesaikan aktivitas kinestetik dengan baik!</p>
                    <div class="text-lg font-medium text-green-800 mb-6">
                        Poin: +10 ⭐
                    </div>
                    <button onclick="closeKinestheticPopup()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg">
                        Tutup
                    </button>
                </div>
            `;
            
            document.body.appendChild(popup);
            
            setTimeout(() => {
                closeKinestheticPopup();
            }, 3000);
        }

        // Target Practice Activity
        function hitTarget(targetType) {
            const targetMessages = {
                'membantu': {
                    message: '🤝 Tepat! Teks prosedur membantu orang lain dengan memberikan panduan yang jelas!',
                    color: 'text-pink-700',
                    bg: 'bg-pink-100'
                },
                'mengajar': {
                    message: '🎓 Benar! Teks prosedur mengajar dengan mentransfer pengetahuan dan keterampilan!',
                    color: 'text-blue-700',
                    bg: 'bg-blue-100'
                },
                'mempermudah': {
                    message: '⚡ Bagus! Teks prosedur mempermudah pekerjaan dengan langkah-langkah yang efisien!',
                    color: 'text-yellow-700',
                    bg: 'bg-yellow-100'
                },
                'menghindari': {
                    message: '🛡️ Hebat! Teks prosedur membantu menghindari kesalahan dengan instruksi yang jelas!',
                    color: 'text-green-700',
                    bg: 'bg-green-100'
                }
            };
            
            const target = targetMessages[targetType];
            const resultDiv = document.getElementById('target-result');
            
            targetHits++;
            kinestheticScore += 5;
            
            // Update target box appearance
            const targetBox = event.currentTarget;
            targetBox.classList.add('ring-4', 'ring-green-400', 'transform', 'scale-110');
            
            // Show result message
            resultDiv.innerHTML = `
                <div class="p-3 rounded-lg ${target.bg} ${target.color} font-medium">
                    ${target.message}
                </div>
                <div class="mt-2 text-sm text-gray-600">
                    Target berhasil: ${targetHits}/4 | Poin: +5 ⭐
                </div>
            `;
            
            // Reset target appearance after 2 seconds
            setTimeout(() => {
                targetBox.classList.remove('ring-4', 'ring-green-400', 'transform', 'scale-110');
            }, 2000);
            
            // Check if all targets hit
            if (targetHits >= 4) {
                setTimeout(() => {
                    showTargetComplete();
                }, 2500);
            }
        }

        function showTargetComplete() {
            const resultDiv = document.getElementById('target-result');
            resultDiv.innerHTML = `
                <div class="p-4 rounded-lg bg-gradient-to-r from-green-100 to-green-200 border-2 border-green-400">
                    <div class="text-2xl mb-2">🎯</div>
                    <div class="font-bold text-green-800 mb-2">Semua Target Berhasil!</div>
                    <div class="text-sm text-green-700">Kamu telah memahami semua tujuan teks prosedur!</div>
                    <div class="text-lg font-medium text-green-800 mt-2">
                        Bonus Poin: +20 ⭐
                    </div>
                </div>
            `;
            kinestheticScore += 20;
        }

        // Drag and Drop Text Builder
        let draggedElement = null;
        let droppedItems = {
            tujuan: [],
            bahan: [],
            langkah: [],
            penutup: []
        };

        // Initialize drag and drop for text builder
        function initializeTextBuilder() {
            const draggablePieces = document.querySelectorAll('.draggable-piece');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggablePieces.forEach(piece => {
                piece.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.style.opacity = '0.5';
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/html', this.outerHTML);
                });
                
                piece.addEventListener('dragend', function() {
                    this.style.opacity = '1';
                    draggedElement = null;
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.dataTransfer.dropEffect = 'move';
                    this.classList.add('border-green-500', 'bg-green-100');
                });
                
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('border-green-500', 'bg-green-100');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('border-green-500', 'bg-green-100');
                    
                    if (draggedElement) {
                        const draggedType = draggedElement.getAttribute('data-type');
                        const acceptedTypes = this.getAttribute('data-accepts').split(',');
                        
                        if (acceptedTypes.includes(draggedType)) {
                            // Create a copy of the dragged element
                            const clone = draggedElement.cloneNode(true);
                            clone.classList.add('dropped-item');
                            clone.draggable = false;
                            
                            // Add to drop zone
                            const placeholder = this.querySelector('div');
                            if (placeholder && placeholder.textContent.includes('Seret')) {
                                placeholder.style.display = 'none';
                            }
                            
                            this.appendChild(clone);
                            
                            // Track dropped items
                            const zoneType = this.getAttribute('data-accepts').split(',')[0];
                            if (zoneType === 'langkah1') {
                                droppedItems.langkah.push(draggedType);
                            } else if (acceptedTypes.includes('langkah1')) {
                                droppedItems.langkah.push(draggedType);
                            } else {
                                droppedItems[zoneType] = droppedItems[zoneType] || [];
                                droppedItems[zoneType].push(draggedType);
                            }
                            
                            // Hide original element
                            draggedElement.style.display = 'none';
                            
                            // Show success feedback
                            showDropSuccess(clone);
                        } else {
                            showDropError(this);
                        }
                    }
                });
            });
        }

        function showDropSuccess(element) {
            element.classList.add('animate-bounce', 'ring-2', 'ring-green-400');
            setTimeout(() => {
                element.classList.remove('animate-bounce', 'ring-2', 'ring-green-400');
            }, 1000);
        }

        function showDropError(zone) {
            zone.classList.add('animate-pulse', 'border-red-500', 'bg-red-100');
            setTimeout(() => {
                zone.classList.remove('animate-pulse', 'border-red-500', 'bg-red-100');
            }, 1000);
        }

        function checkTextStructure() {
            const resultDiv = document.getElementById('text-structure-result');
            let score = 0;
            let feedback = [];
            
            // Check tujuan
            if (droppedItems.tujuan && droppedItems.tujuan.includes('tujuan')) {
                score += 25;
                feedback.push('✅ Tujuan/Judul sudah benar');
            } else {
                feedback.push('❌ Tujuan/Judul belum tepat');
            }
            
            // Check bahan
            if (droppedItems.bahan && droppedItems.bahan.includes('bahan')) {
                score += 25;
                feedback.push('✅ Bahan dan Alat sudah benar');
            } else {
                feedback.push('❌ Bahan dan Alat belum tepat');
            }
            
            // Check langkah-langkah
            const expectedSteps = ['langkah1', 'langkah2', 'langkah3', 'langkah4'];
            const correctSteps = expectedSteps.filter(step => droppedItems.langkah.includes(step));
            if (correctSteps.length === 4) {
                score += 25;
                feedback.push('✅ Semua langkah-langkah sudah benar');
            } else {
                feedback.push(`❌ Langkah-langkah: ${correctSteps.length}/4 benar`);
            }
            
            // Check penutup
            if (droppedItems.penutup && droppedItems.penutup.includes('penutup')) {
                score += 25;
                feedback.push('✅ Penutup sudah benar');
            } else {
                feedback.push('❌ Penutup belum tepat');
            }
            
            // Display results
            let resultClass = 'bg-red-100 border-red-400 text-red-700';
            let resultIcon = '❌';
            let resultTitle = 'Perlu Diperbaiki';
            
            if (score === 100) {
                resultClass = 'bg-green-100 border-green-400 text-green-700';
                resultIcon = '🎉';
                resultTitle = 'Sempurna!';
                kinestheticScore += 50;
                dragDropCompleted = true;
            } else if (score >= 75) {
                resultClass = 'bg-yellow-100 border-yellow-400 text-yellow-700';
                resultIcon = '⭐';
                resultTitle = 'Hampir Sempurna!';
                kinestheticScore += 30;
            } else if (score >= 50) {
                resultClass = 'bg-blue-100 border-blue-400 text-blue-700';
                resultIcon = '👍';
                resultTitle = 'Bagus!';
                kinestheticScore += 20;
            }
            
            resultDiv.innerHTML = `
                <div class="p-4 rounded-lg border-2 ${resultClass}">
                    <div class="flex items-center gap-2 mb-3">
                        <span class="text-2xl">${resultIcon}</span>
                        <span class="font-bold text-lg">${resultTitle}</span>
                        <span class="ml-auto font-medium">Skor: ${score}/100</span>
                    </div>
                    <div class="space-y-1 text-sm">
                        ${feedback.map(f => `<div>${f}</div>`).join('')}
                    </div>
                    ${score === 100 ? '<div class="mt-3 font-medium">🏆 Bonus Poin: +50 ⭐</div>' : ''}
                </div>
            `;
        }

        function resetTextBuilder() {
            // Reset dropped items tracking
            droppedItems = {
                tujuan: [],
                bahan: [],
                langkah: [],
                penutup: []
            };
            
            // Clear drop zones
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => {
                const droppedItems = zone.querySelectorAll('.dropped-item');
                droppedItems.forEach(item => item.remove());
                
                const placeholder = zone.querySelector('div');
                if (placeholder) {
                    placeholder.style.display = 'block';
                }
            });
            
            // Show all draggable pieces
            const draggablePieces = document.querySelectorAll('.draggable-piece');
            draggablePieces.forEach(piece => {
                piece.style.display = 'block';
            });
            
            // Clear result
            document.getElementById('text-structure-result').innerHTML = '';
        }

        function startMovementGame() {
            alert('🤸 Latihan Gerakan:\n\n👆 Angkat tangan ke atas untuk "Tujuan"\n👐 Buka kedua tangan untuk "Bahan/Alat"\n👣 Langkahkan kaki untuk "Langkah-langkah"\n\nSekarang praktikkan gerakan sesuai bagian teks yang disebutkan!');
        }

        function addToSequence(text) {
            sequenceItems.push(text);
            updateSequenceDisplay();
        }

        function updateSequenceDisplay() {
            const resultDiv = document.getElementById('sequence-result');
            if (sequenceItems.length === 0) {
                resultDiv.innerHTML = '<p class="text-gray-500">Urutan akan muncul di sini...</p>';
            } else {
                resultDiv.innerHTML = sequenceItems.map((item, index) => 
                    `<div class="mb-1"><strong>${index + 1}.</strong> ${item}</div>`
                ).join('');
            }
        }

        function movePuzzle(element, correctOrder) {
            const slots = document.querySelectorAll('.puzzle-slot');
            const emptySlot = Array.from(slots).find(slot => !slot.hasChildNodes || slot.children.length === 0);
            
            if (emptySlot) {
                emptySlot.appendChild(element);
                puzzleOrder[Array.from(slots).indexOf(emptySlot)] = correctOrder;
            }
        }

        function checkPuzzle() {
            const slots = document.querySelectorAll('.puzzle-slot');
            let correct = 0;
            
            slots.forEach((slot, index) => {
                const expectedPosition = index + 1;
                const piece = slot.querySelector('.puzzle-piece');
                
                if (piece && parseInt(piece.dataset.order || piece.getAttribute('onclick').match(/\d+/)[0]) === expectedPosition) {
                    correct++;
                    slot.classList.add('bg-green-100', 'border-green-400');
                } else {
                    slot.classList.add('bg-red-100', 'border-red-400');
                }
            });
            
            const resultDiv = document.getElementById('puzzle-result');
            if (correct === 4) {
                resultDiv.innerHTML = '<div class="text-green-600 font-medium">🎉 Puzzle berhasil disusun dengan benar!</div>';
            } else {
                resultDiv.innerHTML = '<div class="text-orange-600 font-medium">💪 Coba susun ulang puzzle sesuai urutan yang benar!</div>';
            }
        }

        // Reading functions
        function selectTextPart(element, type) {
            const text = element.textContent;
            textAnalysis[type] = text;
            
            // Update visual feedback
            element.classList.add('bg-yellow-200');
            
            // Update target box
            const targetBox = document.getElementById(`${type}-box`);
            targetBox.innerHTML = `<div class="text-sm">${text}</div>`;
            targetBox.classList.add('bg-blue-100', 'border-blue-400');
        }

        function checkTextAnalysis() {
            const resultDiv = document.getElementById('analysis-result');
            let correct = 0;
            
            if (textAnalysis.tujuan.includes('Cara Menyiram Tanaman')) correct++;
            if (textAnalysis.bahan.includes('gembor, air')) correct++;
            if (textAnalysis.langkah.includes('Pertama')) correct++;
            
            if (correct === 3) {
                resultDiv.innerHTML = '<div class="text-green-600 font-medium">🎉 Analisis teks sempurna! Kamu berhasil mengidentifikasi semua bagian!</div>';
            } else {
                resultDiv.innerHTML = `<div class="text-orange-600 font-medium">💪 Bagus! ${correct}/3 bagian benar. Coba perhatikan lagi bagian yang belum tepat.</div>`;
            }
        }

        // Writing functions
        function previewWriting() {
            const title = document.getElementById('writing-title').value || '[Judul belum diisi]';
            const materials = document.getElementById('writing-materials').value || '[Bahan belum diisi]';
            const steps = document.getElementById('writing-steps').value || '[Langkah belum diisi]';
            
            const previewContent = `
                <h4 class="font-bold text-lg mb-2">${title}</h4>
                <div class="mb-3">
                    <h5 class="font-medium mb-1">Bahan dan Alat:</h5>
                    <p class="text-sm">${materials}</p>
                </div>
                <div>
                    <h5 class="font-medium mb-1">Langkah-langkah:</h5>
                    <p class="text-sm whitespace-pre-line">${steps}</p>
                </div>
            `;
            
            document.getElementById('preview-content').innerHTML = previewContent;
            document.getElementById('writing-preview').classList.remove('hidden');
        }

        function checkWriting() {
            const title = document.getElementById('writing-title').value;
            const materials = document.getElementById('writing-materials').value;
            const steps = document.getElementById('writing-steps').value;
            
            let feedback = [];
            let score = 0;
            
            if (title.length > 5) {
                feedback.push('✅ Judul sudah baik');
                score++;
            } else {
                feedback.push('❌ Judul perlu lebih spesifik');
            }
            
            if (materials.length > 10) {
                feedback.push('✅ Bahan dan alat sudah lengkap');
                score++;
            } else {
                feedback.push('❌ Bahan dan alat perlu lebih detail');
            }
            
            if (steps.length > 20 && steps.includes('1.')) {
                feedback.push('✅ Langkah-langkah sudah terstruktur');
                score++;
            } else {
                feedback.push('❌ Langkah-langkah perlu diberi nomor dan lebih detail');
            }
            
            const feedbackDiv = document.getElementById('writing-feedback');
            feedbackDiv.innerHTML = `
                <div class="p-4 bg-blue-50 rounded-lg">
                    <h5 class="font-medium text-blue-800 mb-2">Feedback Tulisan (${score}/3):</h5>
                    ${feedback.map(f => `<p class="text-sm mb-1">${f}</p>`).join('')}
                </div>
            `;
        }

        // Quiz functions
        function initializeQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            userAnswers = [];
            questionTimes = [];
            
            // Initialize timer
            quizStartTime = new Date();
            questionStartTime = new Date();
            totalTimeSpent = 0;
            
            // Start timer display
            startQuizTimer();
            
            updateQuizDisplay();
        }
        
        // Timer functions
        function startQuizTimer() {
            timerInterval = setInterval(() => {
                if (quizStartTime) {
                    const currentTime = new Date();
                    totalTimeSpent = Math.floor((currentTime - quizStartTime) / 1000);
                    updateTimerDisplay();
                }
            }, 1000);
        }
        
        function stopQuizTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            quizEndTime = new Date();
        }
        
        function updateTimerDisplay() {
            const minutes = Math.floor(totalTimeSpent / 60);
            const seconds = totalTimeSpent % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('quiz-timer').textContent = timeString;
        }
        
        function recordQuestionTime() {
            if (questionStartTime) {
                const currentTime = new Date();
                const questionTime = Math.floor((currentTime - questionStartTime) / 1000);
                questionTimes[currentQuestionIndex] = questionTime;
                questionStartTime = new Date(); // Reset for next question
            }
        }

        function updateQuizDisplay() {
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('question-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option w-full text-left p-4 rounded-lg border-2 border-blue-200 bg-white hover:bg-blue-50';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
            
            // Update progress
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = quizQuestions.length;
            document.getElementById('progress-bar').style.width = `${((currentQuestionIndex + 1) / quizQuestions.length) * 100}%`;
            document.getElementById('quiz-score').textContent = quizScore;
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentQuestionIndex === 0;
            document.getElementById('next-btn').textContent = currentQuestionIndex === quizQuestions.length - 1 ? 'Selesai' : 'Selanjutnya →';
        }

        function selectAnswer(answerIndex) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.classList.remove('correct', 'incorrect', 'bg-blue-100'));
            
            const selectedOption = options[answerIndex];
            userAnswers[currentQuestionIndex] = answerIndex;
            
            const correctAnswer = quizQuestions[currentQuestionIndex].correct;
            
            if (answerIndex === correctAnswer) {
                selectedOption.classList.add('correct');
                if (userAnswers[currentQuestionIndex] === answerIndex) {
                    // Only count if this is the first time answering correctly
                    const previousAnswer = userAnswers[currentQuestionIndex];
                    if (previousAnswer === undefined || previousAnswer !== correctAnswer) {
                        quizScore++;
                    }
                }
            } else {
                selectedOption.classList.add('incorrect');
                options[correctAnswer].classList.add('correct');
            }
            
            document.getElementById('quiz-score').textContent = quizScore;
        }

        function nextQuestion() {
            // Record time for current question
            recordQuestionTime();
            
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                updateQuizDisplay();
            } else {
                // Record time for last question
                if (questionStartTime) {
                    const currentTime = new Date();
                    const questionTime = Math.floor((currentTime - questionStartTime) / 1000);
                    questionTimes[currentQuestionIndex] = questionTime;
                }
                showQuizResult();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                // Record time for current question before going back
                recordQuestionTime();
                currentQuestionIndex--;
                updateQuizDisplay();
            }
        }

        function showQuizResult() {
            // Stop timer
            stopQuizTimer();
            
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            
            // Calculate results
            const basePoints = quizScore * 100; // 100 points per correct answer
            const timeBonus = calculateTimeBonus();
            const totalPoints = basePoints + timeBonus;
            
            // Display basic stats
            document.getElementById('final-score').textContent = quizScore;
            document.getElementById('final-time').textContent = formatTime(totalTimeSpent);
            document.getElementById('time-bonus').textContent = timeBonus;
            document.getElementById('total-points').textContent = totalPoints;
            
            // Display question times
            displayQuestionTimes();
            
            // Display achievements
            displayAchievements();
            
            // Display performance message
            const messageDiv = document.getElementById('score-message');
            let performanceMessage = '';
            let performanceClass = '';
            
            if (quizScore === 5 && totalTimeSpent <= 120) {
                performanceMessage = '🏆 LUAR BIASA! Sempurna dan cepat! Kamu adalah master teks prosedur!';
                performanceClass = 'text-yellow-700 font-bold';
            } else if (quizScore === 5) {
                performanceMessage = '🌟 SEMPURNA! Kamu benar-benar memahami materi teks prosedur!';
                performanceClass = 'text-green-700 font-bold';
            } else if (quizScore >= 4) {
                performanceMessage = '⭐ HEBAT! Pemahaman kamu sangat baik!';
                performanceClass = 'text-green-700';
            } else if (quizScore >= 3) {
                performanceMessage = '👍 BAGUS! Pemahaman kamu sudah cukup baik!';
                performanceClass = 'text-blue-700';
            } else if (quizScore >= 2) {
                performanceMessage = '💪 TERUS BELAJAR! Kamu sudah di jalan yang benar!';
                performanceClass = 'text-orange-700';
            } else {
                performanceMessage = '📚 JANGAN MENYERAH! Mari belajar lagi untuk hasil yang lebih baik!';
                performanceClass = 'text-red-700';
            }
            
            messageDiv.innerHTML = `<p class="${performanceClass} text-lg">${performanceMessage}</p>`;
        }
        
        function calculateTimeBonus() {
            // Bonus points for completing quickly
            // Maximum 5 minutes (300 seconds) = 0 bonus
            // Minimum 1 minute (60 seconds) = 100 bonus
            // Linear scale between them
            
            if (totalTimeSpent <= 60) {
                return 100; // Maximum bonus for very fast completion
            } else if (totalTimeSpent <= 120) {
                return 80; // High bonus for fast completion
            } else if (totalTimeSpent <= 180) {
                return 60; // Good bonus for moderate speed
            } else if (totalTimeSpent <= 240) {
                return 40; // Small bonus for reasonable speed
            } else if (totalTimeSpent <= 300) {
                return 20; // Minimal bonus
            } else {
                return 0; // No bonus for slow completion
            }
        }
        
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
        
        function displayQuestionTimes() {
            const container = document.getElementById('question-times-display');
            container.innerHTML = '';
            
            questionTimes.forEach((time, index) => {
                const timeDiv = document.createElement('div');
                const isCorrect = userAnswers[index] === quizQuestions[index].correct;
                const timeClass = time <= 20 ? 'text-green-600' : time <= 40 ? 'text-yellow-600' : 'text-red-600';
                const correctIcon = isCorrect ? '✅' : '❌';
                
                timeDiv.className = `flex justify-between items-center p-2 rounded ${isCorrect ? 'bg-green-50' : 'bg-red-50'}`;
                timeDiv.innerHTML = `
                    <span class="text-xs">Soal ${index + 1} ${correctIcon}</span>
                    <span class="text-xs font-medium ${timeClass}">${formatTime(time || 0)}</span>
                `;
                container.appendChild(timeDiv);
            });
        }
        
        function displayAchievements() {
            const container = document.getElementById('achievements-display');
            container.innerHTML = '';
            
            const achievements = [];
            
            // Speed achievements
            if (totalTimeSpent <= 60) {
                achievements.push({ icon: '⚡', text: 'Lightning Fast!', color: 'text-yellow-600' });
            } else if (totalTimeSpent <= 120) {
                achievements.push({ icon: '🚀', text: 'Speed Demon', color: 'text-blue-600' });
            } else if (totalTimeSpent <= 180) {
                achievements.push({ icon: '🏃', text: 'Quick Thinker', color: 'text-green-600' });
            }
            
            // Accuracy achievements
            if (quizScore === 5) {
                achievements.push({ icon: '🎯', text: 'Perfect Score!', color: 'text-green-600' });
            } else if (quizScore >= 4) {
                achievements.push({ icon: '🌟', text: 'Almost Perfect', color: 'text-blue-600' });
            } else if (quizScore >= 3) {
                achievements.push({ icon: '👍', text: 'Good Job', color: 'text-purple-600' });
            }
            
            // Consistency achievements
            const avgQuestionTime = questionTimes.reduce((a, b) => a + b, 0) / questionTimes.length;
            if (avgQuestionTime <= 25) {
                achievements.push({ icon: '⏰', text: 'Consistent Speed', color: 'text-indigo-600' });
            }
            
            // Special combinations
            if (quizScore === 5 && totalTimeSpent <= 120) {
                achievements.push({ icon: '🏆', text: 'Master Achievement', color: 'text-yellow-600' });
            }
            
            // Display achievements
            if (achievements.length === 0) {
                achievements.push({ icon: '💪', text: 'Keep Practicing!', color: 'text-gray-600' });
            }
            
            achievements.forEach(achievement => {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = `flex items-center gap-2 p-2 rounded bg-gray-50`;
                achievementDiv.innerHTML = `
                    <span class="text-lg">${achievement.icon}</span>
                    <span class="text-xs font-medium ${achievement.color}">${achievement.text}</span>
                `;
                container.appendChild(achievementDiv);
            });
        }

        // Audio summary function
        function playSummaryAudio() {
            if (!checkAudioSupport()) {
                alert('🔊 Maaf, browser Anda tidak mendukung fitur audio. Silakan gunakan browser yang lebih baru seperti Chrome, Firefox, atau Edge.');
                return;
            }

            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '⏸️ Sedang Memutar...';
            button.disabled = true;
            
            // Stop any currently playing audio
            if (currentAudio) {
                speechSynthesis.cancel();
            }
            
            const summaryText = "Rangkuman pembelajaran teks prosedur. Teks prosedur adalah jenis teks yang berisi langkah-langkah sistematis untuk melakukan suatu kegiatan. Strukturnya terdiri dari tujuan, bahan atau alat, dan langkah-langkah. Ciri kebahasaannya menggunakan kalimat perintah, kata kerja aktif, dan konjungsi temporal seperti kemudian, lalu, setelah itu. Teks prosedur dibagi menjadi tiga jenis: prosedur sederhana, prosedur kompleks, dan protokol. Teks prosedur sangat berguna dalam kehidupan sehari-hari seperti resep masakan, tutorial, dan panduan. Dengan memahami teks prosedur, kita dapat memberikan instruksi yang jelas dan mudah diikuti oleh orang lain.";
            
            // Create speech synthesis utterance
            const utterance = new SpeechSynthesisUtterance(summaryText);
            
            // Configure speech settings
            utterance.lang = 'id-ID';
            utterance.rate = 0.9;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;
            
            // Try to use Indonesian voice if available
            const voices = speechSynthesis.getVoices();
            const indonesianVoice = voices.find(voice => 
                voice.lang.includes('id') || 
                voice.name.toLowerCase().includes('indonesia') ||
                voice.name.toLowerCase().includes('bahasa')
            );
            
            if (indonesianVoice) {
                utterance.voice = indonesianVoice;
            }
            
            utterance.onstart = function() {
                currentAudio = utterance;
            };
            
            utterance.onend = function() {
                button.innerHTML = originalText;
                button.disabled = false;
                currentAudio = null;
                
                // Show completion message
                const completionMsg = document.createElement('div');
                completionMsg.className = 'mt-4 p-3 bg-green-100 rounded-lg text-center';
                completionMsg.innerHTML = '<p class="text-green-700 font-medium">✅ Rangkuman audio selesai diputar!</p>';
                button.parentNode.appendChild(completionMsg);
                
                // Remove completion message after 3 seconds
                setTimeout(() => {
                    if (completionMsg.parentNode) {
                        completionMsg.parentNode.removeChild(completionMsg);
                    }
                }, 3000);
            };
            
            utterance.onerror = function(event) {
                console.error('Speech synthesis error:', event.error);
                button.innerHTML = originalText;
                button.disabled = false;
                currentAudio = null;
                alert('🔊 Terjadi kesalahan saat memutar audio rangkuman. Silakan coba lagi.');
            };
            
            // Start speaking
            speechSynthesis.speak(utterance);
        }

        // Initialize drag and drop functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize text builder drag and drop
            setTimeout(() => {
                initializeTextBuilder();
            }, 1000);
            
            // Add drag and drop event listeners for original functionality
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', '');
                    this.classList.add('opacity-50');
                });
                
                draggable.addEventListener('dragend', function() {
                    this.classList.remove('opacity-50');
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('bg-blue-100');
                });
                
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('bg-blue-100');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('bg-blue-100');
                    
                    const draggedElement = document.querySelector('.draggable.opacity-50');
                    if (draggedElement && this.children.length === 1) {
                        this.appendChild(draggedElement);
                    }
                });
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97a48169a298cecb',t:'MTc1NzA2MjUwNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
